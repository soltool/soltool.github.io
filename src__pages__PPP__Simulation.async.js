"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2697],{38182:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var r=n(15009),a=n.n(r),o=n(99289),l=n.n(o),s=n(5574),i=n.n(s),u=n(25104),c=n(64119),f=n(39380),p=n(38345),m=n(97269),d=n(25054),x=n(31199),P=n(1413),h=n(91),v=n(67294),b=n(66758),F=n(63053),j=n(85893),S=["fieldProps","proFieldProps"],g="dateTime",R=v.forwardRef((function(e,t){var n=e.fieldProps,r=e.proFieldProps,a=(0,h.Z)(e,S),o=(0,v.useContext)(b.Z);return(0,j.jsx)(F.Z,(0,P.Z)({ref:t,fieldProps:(0,P.Z)({getPopupContainer:o.getPopupContainer},n),valueType:g,proFieldProps:r,filedConfig:{valueType:g,customLightMode:!0}},a))})),y=n(27484),N=n.n(y),k=n(97582),T=n(23279),O=n.n(T);var Z=function(e){var t=(0,v.useRef)(e);return t.current=e,t},C=function(e){var t=Z(e);(0,v.useEffect)((function(){return function(){t.current()}}),[])};var w=function(e,t){var n,r=Z(e),a=null!==(n=null==t?void 0:t.wait)&&void 0!==n?n:1e3,o=(0,v.useMemo)((function(){return O()((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.current.apply(r,(0,k.ev)([],(0,k.CR)(e),!1))}),a,t)}),[]);return C((function(){o.cancel()})),{run:o,cancel:o.cancel,flush:o.flush}};var L=function(e,t){var n=(0,k.CR)((0,v.useState)(e),2),r=n[0],a=n[1],o=w((function(){a(e)}),t).run;return(0,v.useEffect)((function(){o()}),[e]),r},A=function(){var e=(0,v.useRef)(),t=(0,v.useState)(.5),n=i()(t,2),r=n[0],o=n[1],s=(0,v.useState)(50),P=i()(s,2),h=P[0],b=P[1],F=(0,v.useState)(1e3),S=i()(F,2),g=S[0],y=S[1],k=(0,v.useState)(10),T=i()(k,2),O=T[0],Z=T[1],C=(0,v.useState)(5),w=i()(C,2),A=w[0],Y=w[1],D=(0,v.useState)(12),I=i()(D,2),W=I[0],_=I[1],M=(0,v.useState)(.1),E=i()(M,2),H=E[0],U=E[1],V=(0,v.useState)(.1),K=i()(V,2),z=K[0],B=K[1],q=(0,v.useState)(.8),G=i()(q,2),J=G[0],Q=G[1],X=(0,v.useState)(50),$=i()(X,2),ee=$[0],te=$[1],ne=L(ee,{wait:50}),re=(0,v.useState)(!1),ae=i()(re,2),oe=ae[0],le=ae[1],se=(0,v.useState)([]),ie=i()(se,2),ue=ie[0],ce=ie[1],fe=(0,v.useState)([]),pe=i()(fe,2),me=pe[0],de=pe[1],xe=(0,v.useState)(),Pe=i()(xe,2),he=Pe[0],ve=Pe[1],be=(0,v.useState)(0),Fe=i()(be,2),je=Fe[0],Se=Fe[1],ge=(0,v.useCallback)((function(e,t,n){var r=[],a=1e9,o=e.length-1,l=o-1,s=a*t/100,i=(a-s)/n,u=e[o].vaultSolSum,c=e[l].vaultSolSum,f=e[o].nftPrice,p=e[l].invest/n,m=u,d=i,x=s,P=0,h=c,v=i,b=s,F=0;r.push({key:0,tokenPerNft:i,nftPriceLast:f,nftPricePenultimate:p,solOutputLast:P,solOutputPenultimate:F,solPoolLast:m,solPoolPenultimate:h,tokenPoolLast:x,tokenPoolPenultimate:b,profitLast:0,profitPenultimate:0});for(var j=0;j<n;++j)P=m*d/(x+d),x+=d,m-=P,F=h*v/(b+v),b+=v,h-=F,r.push({key:j+1,tokenPerNft:i,nftPriceLast:f,nftPricePenultimate:p,solOutputLast:P,solOutputPenultimate:F,solPoolLast:m,solPoolPenultimate:h,tokenPoolLast:x,tokenPoolPenultimate:b,profitLast:P-f,profitPenultimate:F-p});de(r)}),[]),Re=(0,v.useCallback)(function(){var e=l()(a()().mark((function e(t){var n,r,o,l,s,i,u,c,f,p,m,d,x,P,h,v,b,F,j,S,g,R,y,k,T,O,Z,C,w,L,A,Y,D;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.initNftSupply,r=t.maxNftSupply,o=t.nftIncreaseRate,l=t.nftTradeFeeRate,s=t.timePerRound,i=t.initNftPrice,u=t.creatorFeeRate,c=t.inviterFeeRate,f=t.platformFeeRate,p=t.lpTokenRate,m=t.createTime,d=60*s*60,x=2*i,j=(1+(P=o/100))*(1-((b=f/100)+(v=c/100)+(h=u/100)+(F=l/100)))-1,S=[],g=[],R=1,y=m?N()(m):N()(),k=y.valueOf(),T=y.format("YYYY-MM-DDTHH:mm:ss"),O=n*i,S.push({key:0,roundLocalValue:k,roundLocalFormat:T,invest:O,profitUser:0,profitUserSum:0,profitCreator:0,profitCreatorSum:0,profitInviter:0,profitInviterSum:0,profitPlatform:0,profitPlatformSum:0,vaultSol:O,vaultSolSum:O,nftCount:n,nftPrice:i}),g=new Array(n).fill(i*(1+P)),Z=0,C=0,w=0,L=0,A=O,Y=N()(k).add(d,"seconds"),k=Y.valueOf(),T=Y.format("YYYY-MM-DDTHH:mm:ss"),le(!0),D=a()().mark((function e(){var t,n,o,l,s,i,u,c,f,p;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=g.length,n=0;case 2:if(!(n<t)){e.next=12;break}if(!((o=g[n])>=x)){e.next=9;break}if(g[n]=o/2,g.push(o/2),!(g.length>=r)){e.next=9;break}return e.abrupt("break",12);case 9:++n,e.next=2;break;case 12:if(l=0,g.forEach((function(e){l+=e})),Z+=s=l*j,C+=i=l*h,w+=u=l*v,L+=c=l*b,A+=f=l*F,S.push({key:R++,roundLocalValue:k,roundLocalFormat:T,invest:l,profitUser:s,profitUserSum:Z,profitCreator:i,profitCreatorSum:C,profitInviter:u,profitInviterSum:w,profitPlatform:c,profitPlatformSum:L,vaultSol:f,vaultSolSum:A,nftCount:g.length,nftPrice:g[0]}),!(g.length>=r)){e.next=27;break}return e.abrupt("return",1);case 27:p=N()(k).add(d,"seconds"),k=p.valueOf(),T=p.format("YYYY-MM-DDTHH:mm:ss"),g.forEach((function(e,t){g[t]=e*(P+1)}));case 31:case"end":return e.stop()}}),e)}));case 29:if(!(g.length<r)){e.next=35;break}return e.delegateYield(D(),"t0",31);case 31:if(!e.t0){e.next=33;break}return e.abrupt("break",35);case 33:e.next=29;break;case 35:ge(S,p,r),Se(j),ve(t),ce(S),le(!1);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),ye=(0,v.useCallback)((function(){var t;null===(t=e.current)||void 0===t||t.resetFields(),o(.5),b(50),y(1e3),Z(10),Y(5),_(12),U(.1),B(.1),Q(.8),te(50)}),[]),Ne=(0,v.useCallback)((function(e){e.initNftPrice&&o(e.initNftPrice),e.initNftSupply&&b(e.initNftSupply),e.maxNftSupply&&y(e.maxNftSupply),e.nftIncreaseRate&&Z(e.nftIncreaseRate),e.nftTradeFeeRate&&Y(e.nftTradeFeeRate),e.timePerRound&&_(e.timePerRound),e.creatorFeeRate&&U(e.creatorFeeRate),e.inviterFeeRate&&B(e.inviterFeeRate),e.platformFeeRate&&Q(e.platformFeeRate),e.lpTokenRate&&te(e.lpTokenRate)}),[]);return(0,j.jsxs)(f._z,{className:"",ghost:!0,children:[(0,j.jsx)(p.Z,{children:(0,j.jsxs)(m.A,{grid:!0,rowProps:{gutter:[18,0]},formRef:e,onFinish:Re,onReset:ye,onValuesChange:Ne,initialValues:{initNftPrice:.5,initNftSupply:50,maxNftSupply:1e3,nftIncreaseRate:10,nftTradeFeeRate:5,timePerRound:12,nftBurnableAfter:48,creatorFeeRate:.1,inviterFeeRate:.1,platformFeeRate:.8,lpTokenRate:50},children:[(0,j.jsx)(d.Z,{name:"initNftPrice",label:(0,j.jsxs)("div",{children:["NFT初始发行价格",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",r," SOL"]})]}),tooltip:"NFT初始发行mint价格",min:.1,max:10,step:.1,marks:{.5:"0.5",1:"1",3:"3",5:"5",7:"7",10:"10"},colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e," SOL")}}}}),(0,j.jsx)(x.Z,{name:"initNftPrice",label:"值",min:.1,max:10,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"SOL",step:.1}}),(0,j.jsx)(d.Z,{name:"initNftSupply",label:(0,j.jsxs)("div",{children:["NFT初始发行数量",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",h]})]}),tooltip:"NFT初始发行mint数量",min:1,max:1e3,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1}}),(0,j.jsx)(x.Z,{name:"initNftSupply",label:"值",min:1,max:1e3,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0}}),(0,j.jsx)(d.Z,{name:"maxNftSupply",label:(0,j.jsxs)("div",{children:["NFT最大发行量",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",g]})]}),tooltip:"NFT最大可mint数量",min:1,max:1e4,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1}}),(0,j.jsx)(x.Z,{name:"maxNftSupply",label:"值",min:1,max:1e4,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0}}),(0,j.jsx)(d.Z,{name:"nftIncreaseRate",label:(0,j.jsxs)("div",{children:["NFT每轮涨幅",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",O,"%"]})]}),tooltip:"NFT每轮涨幅",min:1,max:100,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,j.jsx)(x.Z,{name:"nftIncreaseRate",label:"值",min:1,max:100,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%"}}),(0,j.jsx)(d.Z,{name:"nftTradeFeeRate",label:(0,j.jsxs)("div",{children:["NFT交易手续费",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",A,"%"]})]}),tooltip:"注入资金池的费用，图片销毁时全部用于提供池子流动性",min:1,max:100,step:.01,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,j.jsx)(x.Z,{name:"nftTradeFeeRate",label:"值",min:1,max:100,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:.01}}),(0,j.jsx)(d.Z,{name:"timePerRound",label:(0,j.jsxs)("div",{children:["每轮时间",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",W,"小时"]})]}),tooltip:"每轮购买的时间间隔",min:1,max:72,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1}}),(0,j.jsx)(x.Z,{name:"timePerRound",label:"值",min:1,max:72,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"小时"}}),(0,j.jsx)(d.Z,{name:"creatorFeeRate",label:(0,j.jsxs)("div",{children:["创建者收益",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",H,"%"]})]}),tooltip:"创建者每张NFT收益百分比，按NFT价格计算",min:.1,max:10,step:.1,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,j.jsx)(x.Z,{name:"creatorFeeRate",label:"值",min:.1,max:10,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:.1}}),(0,j.jsx)(d.Z,{name:"inviterFeeRate",label:(0,j.jsxs)("div",{children:["邀请人收益",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",z,"%"]})]}),tooltip:"邀请人百分比，按NFT价格计算",min:.1,max:10,step:.1,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,j.jsx)(x.Z,{name:"inviterFeeRate",label:"值",min:.1,max:10,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:.1}}),(0,j.jsx)(d.Z,{name:"platformFeeRate",label:(0,j.jsxs)("div",{children:["平台手续费",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",J,"%"]})]}),tooltip:"平台手续费",min:.1,max:10,step:.1,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,j.jsx)(x.Z,{name:"platformFeeRate",label:"值",min:.1,max:10,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:.1}}),(0,j.jsx)(d.Z,{name:"lpTokenRate",label:(0,j.jsxs)("div",{children:["流动性池子代币占比",(0,j.jsxs)("span",{className:"text-blue-500",children:[" ",ee,"%"]})]}),tooltip:"销毁时，注入到流动性池子中token的占比",min:1,max:100,step:1,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}},help:(0,c.uf)(1e7*ne)+" / "+(0,c.uf)(1e9)}),(0,j.jsx)(x.Z,{name:"lpTokenRate",label:"值",min:1,max:100,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:1}}),(0,j.jsx)(R,{name:"createTime",label:"创建时间",colProps:{xl:12,lg:12,md:12,xs:24},fieldProps:{autoFocus:!1},width:"lg"})]})}),(0,j.jsx)(p.Z,{tabs:{items:[{key:"round",label:(0,j.jsx)("span",{className:" text-base font-semibold",children:"轮次数据"}),children:(0,j.jsx)(u.a1,{roundDataSource:ue,formData:he,loading:oe,profitRate:je})},{key:"sell",label:(0,j.jsx)("span",{className:" text-base font-semibold",children:"卖出数据"}),children:(0,j.jsx)(u.nK,{sellDataSource:me,formData:he,loading:oe})}],defaultActiveKey:"roundData"}})]})}},97582:function(e,t,n){n.d(t,{CR:function(){return l},ZT:function(){return a},ev:function(){return s},pi:function(){return o}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.create;function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return l}function s(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError}}]);