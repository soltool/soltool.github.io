(self.webpackChunk=self.webpackChunk||[]).push([[288],{9097:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(82665).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(e,l,e.length,t),l=0;l<o;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?l[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?y+r:l[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,y=d>>>13,g=0|o[2],m=8191&g,w=g>>>13,b=0|o[3],v=8191&b,E=b>>>13,_=0|o[4],S=8191&_,A=_>>>13,x=0|o[5],T=8191&x,k=x>>>13,R=0|o[6],P=8191&R,C=R>>>13,M=0|o[7],O=8191&M,U=M>>>13,I=0|o[8],B=8191&I,N=I>>>13,L=0|o[9],D=8191&L,q=L>>>13,F=0|a[0],H=8191&F,j=F>>>13,z=0|a[1],K=8191&z,$=z>>>13,G=0|a[2],V=8191&G,W=G>>>13,J=0|a[3],X=8191&J,Z=J>>>13,Y=0|a[4],Q=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(h,H))|0)+((8191&(i=(i=Math.imul(h,j))+Math.imul(f,H)|0))<<13)|0;c=((s=Math.imul(f,j))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,H),i=(i=Math.imul(p,j))+Math.imul(y,H)|0,s=Math.imul(y,j);var me=(c+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,K)|0))<<13)|0;c=((s=s+Math.imul(f,$)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,H),i=(i=Math.imul(m,j))+Math.imul(w,H)|0,s=Math.imul(w,j),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,$)|0;var we=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(f,V)|0))<<13)|0;c=((s=s+Math.imul(f,W)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(v,H),i=(i=Math.imul(v,j))+Math.imul(E,H)|0,s=Math.imul(E,j),n=n+Math.imul(m,K)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,$)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,W)|0;var be=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(S,H),i=(i=Math.imul(S,j))+Math.imul(A,H)|0,s=Math.imul(A,j),n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(w,V)|0,s=s+Math.imul(w,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Z)|0;var ve=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((s=s+Math.imul(f,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(T,H),i=(i=Math.imul(T,j))+Math.imul(k,H)|0,s=Math.imul(k,j),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,$)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,W)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,ee)|0;var Ee=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((s=s+Math.imul(f,ne)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(P,H),i=(i=Math.imul(P,j))+Math.imul(C,H)|0,s=Math.imul(C,j),n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(E,X)|0,s=s+Math.imul(E,Z)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,s=s+Math.imul(y,ne)|0;var _e=(c+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(f,se)|0))<<13)|0;c=((s=s+Math.imul(f,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(O,H),i=(i=Math.imul(O,j))+Math.imul(U,H)|0,s=Math.imul(U,j),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,$)|0,n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(w,re)|0,s=s+Math.imul(w,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(y,se)|0,s=s+Math.imul(y,oe)|0;var Se=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((s=s+Math.imul(f,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(B,H),i=(i=Math.imul(B,j))+Math.imul(N,H)|0,s=Math.imul(N,j),n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(U,K)|0,s=s+Math.imul(U,$)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,W)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(m,se)|0,i=(i=i+Math.imul(m,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,s=s+Math.imul(y,ce)|0;var Ae=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((s=s+Math.imul(f,fe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,H),i=(i=Math.imul(D,j))+Math.imul(q,H)|0,s=Math.imul(q,j),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,W)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(C,X)|0,s=s+Math.imul(C,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(v,se)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,ce)|0)+Math.imul(w,ue)|0,s=s+Math.imul(w,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(y,he)|0,s=s+Math.imul(y,fe)|0;var xe=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ye)|0)+Math.imul(f,pe)|0))<<13)|0;c=((s=s+Math.imul(f,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,$))+Math.imul(q,K)|0,s=Math.imul(q,$),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(U,X)|0,s=s+Math.imul(U,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(k,re)|0,s=s+Math.imul(k,ne)|0,n=n+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,ce)|0,n=n+Math.imul(m,he)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(w,he)|0,s=s+Math.imul(w,fe)|0;var Te=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((s=s+Math.imul(y,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,W))+Math.imul(q,V)|0,s=Math.imul(q,W),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(U,Q)|0,s=s+Math.imul(U,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(C,re)|0,s=s+Math.imul(C,ne)|0,n=n+Math.imul(T,se)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(k,se)|0,s=s+Math.imul(k,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(v,he)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(E,he)|0,s=s+Math.imul(E,fe)|0;var ke=(c+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ye)|0)+Math.imul(w,pe)|0))<<13)|0;c=((s=s+Math.imul(w,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,X),i=(i=Math.imul(D,Z))+Math.imul(q,X)|0,s=Math.imul(q,Z),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(U,re)|0,s=s+Math.imul(U,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(C,se)|0,s=s+Math.imul(C,oe)|0,n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(k,ue)|0,s=s+Math.imul(k,ce)|0,n=n+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(A,he)|0,s=s+Math.imul(A,fe)|0;var Re=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(E,pe)|0))<<13)|0;c=((s=s+Math.imul(E,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(q,Q)|0,s=Math.imul(q,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(O,se)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(U,se)|0,s=s+Math.imul(U,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(C,ue)|0,s=s+Math.imul(C,ce)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(k,he)|0,s=s+Math.imul(k,fe)|0;var Pe=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(q,re)|0,s=Math.imul(q,ne),n=n+Math.imul(B,se)|0,i=(i=i+Math.imul(B,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(U,ue)|0,s=s+Math.imul(U,ce)|0,n=n+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(C,he)|0,s=s+Math.imul(C,fe)|0;var Ce=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ye)|0)+Math.imul(k,pe)|0))<<13)|0;c=((s=s+Math.imul(k,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,se),i=(i=Math.imul(D,oe))+Math.imul(q,se)|0,s=Math.imul(q,oe),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(O,he)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(U,he)|0,s=s+Math.imul(U,fe)|0;var Me=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(C,pe)|0))<<13)|0;c=((s=s+Math.imul(C,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,ue),i=(i=Math.imul(D,ce))+Math.imul(q,ue)|0,s=Math.imul(q,ce),n=n+Math.imul(B,he)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(N,he)|0,s=s+Math.imul(N,fe)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(U,pe)|0))<<13)|0;c=((s=s+Math.imul(U,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,he),i=(i=Math.imul(D,fe))+Math.imul(q,he)|0,s=Math.imul(q,fe);var Ue=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,ye)|0)+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863;var Ie=(c+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ye))+Math.imul(q,pe)|0))<<13)|0;return c=((s=Math.imul(q,ye))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=ge,u[1]=me,u[2]=we,u[3]=be,u[4]=ve,u[5]=Ee,u[6]=_e,u[7]=Se,u[8]=Ae,u[9]=xe,u[10]=Te,u[11]=ke,u[12]=Re,u[13]=Pe,u[14]=Ce,u[15]=Me,u[16]=Oe,u[17]=Ue,u[18]=Ie,0!==c&&(u[19]=c,r.length++),r};function y(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=d),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var l=s-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):y(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],y=n[l+d],g=r[l+d+o],m=n[l+d+o],w=h*g-f*m;m=h*m+f*g,g=w,r[l+d]=p+g,n[l+d]=y+m,r[l+d+o]=p-g,n[l+d+o]=y-m,d!==a&&(w=u*h-c*f,f=u*f+c*h,h=w)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),y(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,y=1;0==(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a:a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new S(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(b,w),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,w),i(E,w),i(_,w),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new v;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=o;0!==d.cmp(a);){for(var y=d,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var m=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new A(e)},i(A,S),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},83957:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(255!==t[s])throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var s=(e.length-r)*u+1>>>0,c=new Uint8Array(s);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var h=0,f=s-1;(0!==l||h<i)&&-1!==f;f--,h++)l+=o*c[f]>>>0,c[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,r++}for(var d=s-i;d!==s&&0===c[d];)d++;for(var p=new Uint8Array(n+(s-d)),y=n;d!==s;)p[y++]=c[d++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var u=(s-i)*c+1>>>0,l=new Uint8Array(u);i!==s;){for(var h=t[i],f=0,d=u-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");n=f,i++}for(var p=u-n;p!==u&&0===l[p];)p++;for(var y=a.repeat(r);p<u;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},88042:function(e,t,r){const n=r(83957);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},65247:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyType=void 0,function(e){e[e.ED25519=0]="ED25519"}(t.KeyType||(t.KeyType={}))},90058:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.KeyPairEd25519=t.KeyPair=t.KeyType=void 0;var n=r(65247);Object.defineProperty(t,"KeyType",{enumerable:!0,get:function(){return n.KeyType}});var i=r(75362);Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return i.KeyPair}});var s=r(75081);Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return s.KeyPairEd25519}});var o=r(55781);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})},75362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPair=void 0;const n=r(64054),i=r(75081);class s extends n.KeyPairBase{static fromRandom(e){if("ED25519"===e.toUpperCase())return i.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${e}`)}static fromString(e){const t=e.split(":");if(1===t.length)return new i.KeyPairEd25519(t[0]);if(2===t.length){if("ED25519"===t[0].toUpperCase())return new i.KeyPairEd25519(t[1]);throw new Error(`Unknown curve: ${t[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}t.KeyPair=s},64054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairBase=void 0;t.KeyPairBase=class{}},75081:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairEd25519=void 0;const i=r(25532),s=n(r(50780)),o=r(65247),a=r(64054),u=r(55781);class c extends a.KeyPairBase{constructor(e){super();const t=s.default.sign.keyPair.fromSecretKey((0,i.baseDecode)(e));this.publicKey=new u.PublicKey({keyType:o.KeyType.ED25519,data:t.publicKey}),this.secretKey=e}static fromRandom(){const e=s.default.sign.keyPair();return new c((0,i.baseEncode)(e.secretKey))}sign(e){return{signature:s.default.sign.detached(e,(0,i.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(e,t){return this.publicKey.verify(e,t)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}t.KeyPairEd25519=c},55781:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=void 0;const i=r(50740),s=r(25532),o=n(r(50780)),a=r(65247);function u(e){if("ed25519"===e.toLowerCase())return a.KeyType.ED25519;throw new Error(`Unknown key type ${e}`)}class c extends i.Assignable{static from(e){return"string"==typeof e?c.fromString(e):e}static fromString(e){const t=e.split(":");if(1===t.length)return new c({keyType:a.KeyType.ED25519,data:(0,s.baseDecode)(t[0])});if(2===t.length)return new c({keyType:u(t[0]),data:(0,s.baseDecode)(t[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(e){if(e===a.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${e}`)}(this.keyType)}:${(0,s.baseEncode)(this.data)}`}verify(e,t){if(this.keyType===a.KeyType.ED25519)return o.default.sign.detached.verify(e,t,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}t.PublicKey=c},52599:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserLocalStorageKeyStore=void 0;const i=r(90058),s=r(34425);class o extends s.KeyStore{constructor(e=window.localStorage,t="near-api-js:keystore:"){super(),this.localStorage=e,this.prefix=t}setKey(e,t,r){return n(this,void 0,void 0,(function*(){this.localStorage.setItem(this.storageKeyForSecretKey(e,t),r.toString())}))}getKey(e,t){return n(this,void 0,void 0,(function*(){const r=this.localStorage.getItem(this.storageKeyForSecretKey(e,t));return r?i.KeyPair.fromString(r):null}))}removeKey(e,t){return n(this,void 0,void 0,(function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(e,t))}))}clear(){return n(this,void 0,void 0,(function*(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)}))}getNetworks(){return n(this,void 0,void 0,(function*(){const e=new Set;for(const t of this.storageKeys())if(t.startsWith(this.prefix)){const r=t.substring(this.prefix.length).split(":");e.add(r[1])}return Array.from(e.values())}))}getAccounts(e){return n(this,void 0,void 0,(function*(){const t=new Array;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const n=r.substring(this.prefix.length).split(":");n[1]===e&&t.push(n[0])}return t}))}storageKeyForSecretKey(e,t){return`${this.prefix}${t}:${e}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}}t.BrowserLocalStorageKeyStore=o},73508:function(e,t,r){"use strict";t.X=void 0;var n=r(52599);Object.defineProperty(t,"X",{enumerable:!0,get:function(){return n.BrowserLocalStorageKeyStore}})},68835:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryKeyStore=void 0;const i=r(90058),s=r(91571);class o extends s.KeyStore{constructor(){super(),this.keys={}}setKey(e,t,r){return n(this,void 0,void 0,(function*(){this.keys[`${t}:${e}`]=r.toString()}))}getKey(e,t){return n(this,void 0,void 0,(function*(){const r=this.keys[`${t}:${e}`];return r?i.KeyPair.fromString(r):null}))}removeKey(e,t){return n(this,void 0,void 0,(function*(){delete this.keys[`${t}:${e}`]}))}clear(){return n(this,void 0,void 0,(function*(){this.keys={}}))}getNetworks(){return n(this,void 0,void 0,(function*(){const e=new Set;return Object.keys(this.keys).forEach((t=>{const r=t.split(":");e.add(r[1])})),Array.from(e.values())}))}getAccounts(e){return n(this,void 0,void 0,(function*(){const t=new Array;return Object.keys(this.keys).forEach((r=>{const n=r.split(":");n[n.length-1]===e&&t.push(n.slice(0,n.length-1).join(":"))})),t}))}toString(){return"InMemoryKeyStore"}}t.InMemoryKeyStore=o},34425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=t.KeyStore=t.InMemoryKeyStore=void 0;var n=r(68835);Object.defineProperty(t,"InMemoryKeyStore",{enumerable:!0,get:function(){return n.InMemoryKeyStore}});var i=r(91571);Object.defineProperty(t,"KeyStore",{enumerable:!0,get:function(){return i.KeyStore}});var s=r(1828);Object.defineProperty(t,"MergeKeyStore",{enumerable:!0,get:function(){return s.MergeKeyStore}})},91571:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyStore=void 0;t.KeyStore=class{}},1828:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=void 0;const i=r(91571);class s extends i.KeyStore{constructor(e,t={writeKeyStoreIndex:0}){super(),this.options=t,this.keyStores=e}setKey(e,t,r){return n(this,void 0,void 0,(function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(e,t,r)}))}getKey(e,t){return n(this,void 0,void 0,(function*(){for(const r of this.keyStores){const n=yield r.getKey(e,t);if(n)return n}return null}))}removeKey(e,t){return n(this,void 0,void 0,(function*(){for(const r of this.keyStores)yield r.removeKey(e,t)}))}clear(){return n(this,void 0,void 0,(function*(){for(const e of this.keyStores)yield e.clear()}))}getNetworks(){return n(this,void 0,void 0,(function*(){const e=new Set;for(const t of this.keyStores)for(const r of yield t.getNetworks())e.add(r);return Array.from(e)}))}getAccounts(e){return n(this,void 0,void 0,(function*(){const t=new Set;for(const r of this.keyStores)for(const n of yield r.getAccounts(e))t.add(n);return Array.from(t)}))}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}t.MergeKeyStore=s},25594:function(e,t,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.actionCreators=t.stringifyJsonOrBytes=void 0;const i=r(38207);function s(e){return void 0!==e.byteLength&&e.byteLength===e.length?e:n.from(JSON.stringify(e))}t.stringifyJsonOrBytes=s,t.actionCreators={addKey:function(e,t){return new i.Action({addKey:new i.AddKey({publicKey:e,accessKey:t})})},createAccount:function(){return new i.Action({createAccount:new i.CreateAccount({})})},deleteAccount:function(e){return new i.Action({deleteAccount:new i.DeleteAccount({beneficiaryId:e})})},deleteKey:function(e){return new i.Action({deleteKey:new i.DeleteKey({publicKey:e})})},deployContract:function(e){return new i.Action({deployContract:new i.DeployContract({code:e})})},fullAccessKey:function(){return new i.AccessKey({permission:new i.AccessKeyPermission({fullAccess:new i.FullAccessPermission({})})})},functionCall:function(e,t,r,n,o=s,a=!1){return a?new i.Action({functionCall:new i.FunctionCall({methodName:e,args:t,gas:r,deposit:n})}):new i.Action({functionCall:new i.FunctionCall({methodName:e,args:o(t),gas:r,deposit:n})})},functionCallAccessKey:function(e,t,r){return new i.AccessKey({permission:new i.AccessKeyPermission({functionCall:new i.FunctionCallPermission({receiverId:e,allowance:r,methodNames:t})})})},signedDelegate:function({delegateAction:e,signature:t}){return new i.Action({signedDelegate:new i.SignedDelegate({delegateAction:e,signature:t})})},stake:function(e,t){return new i.Action({stake:new i.Stake({stake:e,publicKey:t})})},transfer:function(e){return new i.Action({transfer:new i.Transfer({deposit:e})})}}},38207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=t.SignedDelegate=t.DeleteAccount=t.DeleteKey=t.AddKey=t.Stake=t.Transfer=t.FunctionCall=t.DeployContract=t.CreateAccount=t.IAction=t.AccessKey=t.AccessKeyPermission=t.FullAccessPermission=t.FunctionCallPermission=void 0;const n=r(40862);class i{constructor(e){if(1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((t=>{this[t]=e[t],this.enum=t}))}}class s extends n.Assignable{}t.FunctionCallPermission=s;class o extends n.Assignable{}t.FullAccessPermission=o;t.AccessKeyPermission=class extends i{};class a extends n.Assignable{}t.AccessKey=a;class u extends n.Assignable{}t.IAction=u;t.CreateAccount=class extends u{};t.DeployContract=class extends u{};t.FunctionCall=class extends u{};t.Transfer=class extends u{};t.Stake=class extends u{};t.AddKey=class extends u{};t.DeleteKey=class extends u{};t.DeleteAccount=class extends u{};t.SignedDelegate=class extends u{};t.Action=class extends i{}},95311:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTransaction=void 0;const n=r(50990);t.createTransaction=function(e,t,r,i,s,o){return new n.Transaction({signerId:e,publicKey:t,nonce:i,receiverId:r,actions:s,blockHash:o})}},90288:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildDelegateAction=t.DelegateAction=void 0;const n=r(40862);class i extends n.Assignable{}t.DelegateAction=i,t.buildDelegateAction=function({actions:e,maxBlockHeight:t,nonce:r,publicKey:n,receiverId:s,senderId:o}){return new i({senderId:o,receiverId:s,actions:e,nonce:r,maxBlockHeight:t,publicKey:n})}},98652:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(25594),t),i(r(38207),t),i(r(95311),t),i(r(90288),t),i(r(50990),t),i(r(56671),t),i(r(47556),t)},99656:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelegateActionPrefix=void 0;const n=r(40862),i=Math.pow(2,30),s=366;class o extends n.Assignable{}class a extends o{constructor(e){super({prefix:i+e})}}t.DelegateActionPrefix=class extends a{constructor(){super(s)}}},50990:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA=t.SignedTransaction=t.Transaction=t.decodeSignedTransaction=t.decodeTransaction=t.encodeTransaction=t.encodeSignedDelegate=t.encodeDelegateAction=void 0;const n=r(9990),i=r(40862),s=r(25532),o=r(38207),a=r(90288),u=r(99656),c=r(47556);function l(e){return(0,s.serialize)(t.SCHEMA,e)}function h(e){return(0,s.deserialize)(t.SCHEMA,d,e)}function f(e){return(0,s.deserialize)(t.SCHEMA,p,e)}t.encodeDelegateAction=function(e){return new Uint8Array([...(0,s.serialize)(t.SCHEMA,new u.DelegateActionPrefix),...(0,s.serialize)(t.SCHEMA,e)])},t.encodeSignedDelegate=function(e){return(0,s.serialize)(t.SCHEMA,e)},t.encodeTransaction=l,t.decodeTransaction=h,t.decodeSignedTransaction=f;class d extends i.Assignable{encode(){return l(this)}static decode(e){return h(e)}}t.Transaction=d;class p extends i.Assignable{encode(){return l(this)}static decode(e){return f(e)}}t.SignedTransaction=p,t.SCHEMA=new Map([[c.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[p,{kind:"struct",fields:[["transaction",d],["signature",c.Signature]]}],[d,{kind:"struct",fields:[["signerId","string"],["publicKey",n.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[o.Action]]]}],[n.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[o.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",o.AccessKeyPermission]]}],[o.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",o.FunctionCallPermission],["fullAccess",o.FullAccessPermission]]}],[o.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[o.FullAccessPermission,{kind:"struct",fields:[]}],[o.Action,{kind:"enum",field:"enum",values:[["createAccount",o.CreateAccount],["deployContract",o.DeployContract],["functionCall",o.FunctionCall],["transfer",o.Transfer],["stake",o.Stake],["addKey",o.AddKey],["deleteKey",o.DeleteKey],["deleteAccount",o.DeleteAccount],["signedDelegate",o.SignedDelegate]]}],[o.CreateAccount,{kind:"struct",fields:[]}],[o.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[o.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[o.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[o.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",n.PublicKey]]}],[o.AddKey,{kind:"struct",fields:[["publicKey",n.PublicKey],["accessKey",o.AccessKey]]}],[o.DeleteKey,{kind:"struct",fields:[["publicKey",n.PublicKey]]}],[o.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[a.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[o.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",n.PublicKey]]}],[u.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[o.SignedDelegate,{kind:"struct",fields:[["delegateAction",a.DelegateAction],["signature",c.Signature]]}]])},56671:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.signDelegateAction=t.signTransaction=void 0;const s=i(r(72023)),o=r(38207),a=r(95311),u=r(50990),c=r(47556);function l(e,t,r,i){return n(this,void 0,void 0,(function*(){const n=(0,u.encodeTransaction)(e),o=new Uint8Array(s.default.sha256.array(n)),a=yield t.signMessage(n,r,i);return[o,new u.SignedTransaction({transaction:e,signature:new c.Signature({keyType:e.publicKey.keyType,data:a.signature})})]}))}t.signTransaction=function(...e){return n(this,void 0,void 0,(function*(){if(e[0].constructor===u.Transaction){const[t,r,n,i]=e;return l(t,r,n,i)}{const[t,r,n,i,s,o,u]=e,c=yield s.getPublicKey(o,u);return l((0,a.createTransaction)(o,c,t,r,n,i),s,o,u)}}))},t.signDelegateAction=function({delegateAction:e,signer:t}){return n(this,void 0,void 0,(function*(){const r=(0,u.encodeDelegateAction)(e),n=yield t.sign(r),i=new o.SignedDelegate({delegateAction:e,signature:new c.Signature({keyType:e.publicKey.keyType,data:n})});return{hash:new Uint8Array(s.default.sha256.array(r)),signedDelegateAction:i}}))}},47556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Signature=void 0;const n=r(40862);class i extends n.Assignable{}t.Signature=i},7545:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyType=void 0,function(e){e[e.ED25519=0]="ED25519"}(t.KeyType||(t.KeyType={}))},9990:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.KeyPairEd25519=t.KeyPair=t.KeyType=void 0;var n=r(7545);Object.defineProperty(t,"KeyType",{enumerable:!0,get:function(){return n.KeyType}});var i=r(54307);Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return i.KeyPair}});var s=r(31701);Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return s.KeyPairEd25519}});var o=r(24945);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})},54307:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPair=void 0;const n=r(94249),i=r(31701);class s extends n.KeyPairBase{static fromRandom(e){if("ED25519"===e.toUpperCase())return i.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${e}`)}static fromString(e){const t=e.split(":");if(1===t.length)return new i.KeyPairEd25519(t[0]);if(2===t.length){if("ED25519"===t[0].toUpperCase())return new i.KeyPairEd25519(t[1]);throw new Error(`Unknown curve: ${t[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}t.KeyPair=s},94249:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairBase=void 0;t.KeyPairBase=class{}},31701:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairEd25519=void 0;const i=r(25532),s=n(r(50780)),o=r(7545),a=r(94249),u=r(24945);class c extends a.KeyPairBase{constructor(e){super();const t=s.default.sign.keyPair.fromSecretKey((0,i.baseDecode)(e));this.publicKey=new u.PublicKey({keyType:o.KeyType.ED25519,data:t.publicKey}),this.secretKey=e}static fromRandom(){const e=s.default.sign.keyPair();return new c((0,i.baseEncode)(e.secretKey))}sign(e){return{signature:s.default.sign.detached(e,(0,i.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(e,t){return this.publicKey.verify(e,t)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}t.KeyPairEd25519=c},24945:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=void 0;const i=r(40862),s=r(25532),o=n(r(50780)),a=r(7545);function u(e){if("ed25519"===e.toLowerCase())return a.KeyType.ED25519;throw new Error(`Unknown key type ${e}`)}class c extends i.Assignable{static from(e){return"string"==typeof e?c.fromString(e):e}static fromString(e){const t=e.split(":");if(1===t.length)return new c({keyType:a.KeyType.ED25519,data:(0,s.baseDecode)(t[0])});if(2===t.length)return new c({keyType:u(t[0]),data:(0,s.baseDecode)(t[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(e){if(e===a.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${e}`)}(this.keyType)}:${(0,s.baseEncode)(this.data)}`}verify(e,t){if(this.keyType===a.KeyType.ED25519)return o.default.sign.detached.verify(e,t,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}t.PublicKey=c},60381:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assignable=void 0;t.Assignable=class{constructor(e){Object.keys(e).map((t=>{this[t]=e[t]}))}}},40077:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorContext=t.TypedError=t.ArgumentTypeError=t.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}t.PositionalArgsError=r;class n extends Error{constructor(e,t,r){super(`Expected ${t} for '${e}' argument, but got '${JSON.stringify(r)}'`)}}t.ArgumentTypeError=n;class i extends Error{constructor(e,t,r){super(e),this.type=t||"UntypedError",this.context=r}}t.TypedError=i;t.ErrorContext=class{constructor(e){this.transactionHash=e}}},40862:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(60381),t),i(r(40077),t),i(r(33223),t)},33223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=t.IdType=void 0;var n=r(88184);Object.defineProperty(t,"IdType",{enumerable:!0,get:function(){return n.IdType}});var i=r(121);Object.defineProperty(t,"ExecutionStatusBasic",{enumerable:!0,get:function(){return i.ExecutionStatusBasic}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return i.FinalExecutionStatusBasic}})},88184:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdType=void 0,function(e){e.Transaction="transaction",e.Receipt="receipt"}(t.IdType||(t.IdType={}))},121:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=void 0,function(e){e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure"}(t.ExecutionStatusBasic||(t.ExecutionStatusBasic={})),function(e){e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure"}(t.FinalExecutionStatusBasic||(t.FinalExecutionStatusBasic={}))},27981:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assignable=void 0;t.Assignable=class{constructor(e){Object.keys(e).map((t=>{this[t]=e[t]}))}}},2482:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorContext=t.TypedError=t.ArgumentTypeError=t.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}t.PositionalArgsError=r;class n extends Error{constructor(e,t,r){super(`Expected ${t} for '${e}' argument, but got '${JSON.stringify(r)}'`)}}t.ArgumentTypeError=n;class i extends Error{constructor(e,t,r){super(e),this.type=t||"UntypedError",this.context=r}}t.TypedError=i;t.ErrorContext=class{constructor(e){this.transactionHash=e}}},50740:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(27981),t),i(r(2482),t),i(r(85331),t)},85331:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=t.IdType=void 0;var n=r(31866);Object.defineProperty(t,"IdType",{enumerable:!0,get:function(){return n.IdType}});var i=r(87287);Object.defineProperty(t,"ExecutionStatusBasic",{enumerable:!0,get:function(){return i.ExecutionStatusBasic}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return i.FinalExecutionStatusBasic}})},31866:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdType=void 0,function(e){e.Transaction="transaction",e.Receipt="receipt"}(t.IdType||(t.IdType={}))},87287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=void 0,function(e){e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure"}(t.ExecutionStatusBasic||(t.ExecutionStatusBasic={})),function(e){e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure"}(t.FinalExecutionStatusBasic||(t.FinalExecutionStatusBasic={}))},39187:function(e,t){"use strict";function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function n(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map((e=>e.encode)).reduceRight(r,t),decode:e.map((e=>e.decode)).reduce(r,t)}}function s(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function a(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function u(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const s=[],o=Array.from(e);for(o.forEach((e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,r=!0;for(let s=i;s<o.length;s++){const a=o[s],u=t*e+a;if(!Number.isSafeInteger(u)||t*e/t!==e||u-a!=t*e)throw new Error("convertRadix: carry overflow");e=u%n;const c=Math.floor(u/n);if(o[s]=c,!Number.isSafeInteger(c)||c*n+e!==u)throw new Error("convertRadix: carry overflow");r&&(c?r=!1:i=s)}if(s.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)s.push(0);return s.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0,t.assertNumber=r;const l=(e,t)=>t?l(t,e%t):e,h=(e,t)=>e+(t-l(e,t));function f(e,t,n,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(h(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${h(t,n)}`);let s=0,o=0;const a=2**n-1,u=[];for(const i of e){if(r(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(s=s<<t|i,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)u.push((s>>o-n&a)>>>0);s&=2**o-1}if(s=s<<n-o&a,!i&&o>=t)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&u.push(s>>>0),u}function d(e){return r(e),{encode:t=>{if(!n(t))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(c(t,e,256))}}}function p(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(h(8,e)>32||h(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!n(r))throw new Error("radix2.encode input should be Uint8Array");return f(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(f(r,e,8,t))}}}function y(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function g(e,t){if(r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!n(r))throw new Error("checksum.encode: input should be Uint8Array");const i=t(r).slice(0,e),s=new Uint8Array(r.length+e);return s.set(r),s.set(i,r.length),s},decode(r){if(!n(r))throw new Error("checksum.decode: input should be Uint8Array");const i=r.slice(0,-e),s=t(i).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(s[t]!==o[t])throw new Error("Invalid checksum");return i}}}t.utils={alphabet:s,chain:i,checksum:g,convertRadix:c,convertRadix2:f,radix:d,radix2:p,join:o,padding:a},t.base16=i(p(4),s("0123456789ABCDEF"),o("")),t.base32=i(p(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),o("")),t.base32nopad=i(p(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),t.base32hex=i(p(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),o("")),t.base32hexnopad=i(p(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),t.base32crockford=i(p(5),s("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),u((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=i(p(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),o("")),t.base64nopad=i(p(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),t.base64url=i(p(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),o("")),t.base64urlnopad=i(p(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const m=e=>i(d(58),s(e),o(""));t.base58=m("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=m("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=m("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let n=0;n<e.length;n+=8){const i=e.subarray(n,n+8);r+=t.base58.encode(i).padStart(w[i.length],"1")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){const i=e.slice(n,n+11),s=w.indexOf(i.length),o=t.base58.decode(i);for(let e=0;e<o.length-s;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(r)}};t.createBase58check=e=>i(g(4,(t=>e(e(t)))),t.base58),t.base58check=t.createBase58check;const b=i(s("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),v=[996825010,642813549,513874426,1027748829,705979059];function E(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<v.length;e++)1==(t>>e&1)&&(r^=v[e]);return r}function _(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=E(i)^r>>5}i=E(i);for(let t=0;t<n;t++)i=E(i)^31&e.charCodeAt(t);for(let e of t)i=E(i)^e;for(let e=0;e<6;e++)i=E(i);return i^=r,b.encode(f([i%2**30],30,5,!1))}function S(e){const t="bech32"===e?1:734539939,r=p(5),n=r.decode,i=r.encode,s=y(n);function o(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(r instanceof Uint8Array&&(r=Array.from(r)),!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);const s=e.toLowerCase(),o=_(s,r,t);return`${s}1${b.encode(r)}${o}`}function a(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=n.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const s=n.slice(0,i),o=n.slice(i+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(o).slice(0,-6),u=_(s,a,t);if(!o.endsWith(u))throw new Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:s,words:a}}return{encode:o,decode:a,encodeFromBytes:function(e,t){return o(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:y(a),fromWords:n,fromWordsUnsafe:s,toWords:i}}t.bech32=S("bech32"),t.bech32m=S("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=i(p(4),s("0123456789abcdef"),o(""),u((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const A={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},x="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!A.hasOwnProperty(e))throw new TypeError(x);if(!n(t))throw new TypeError("bytesToString() expects Uint8Array");return A[e].encode(t)},t.str=t.bytesToString;t.stringToBytes=(e,t)=>{if(!A.hasOwnProperty(e))throw new TypeError(x);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return A[e].decode(t)},t.bytes=t.stringToBytes},7286:function(e,t,r){"use strict";t.Z1=void 0;const n=r(30819),i=r(29705),s=r(3662),o=r(81014),a=r(57443),u=r(39187);function c(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function l(e){const t=c(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}function h(e){n.default.bytes(e,16,20,24,28,32)}const f=e=>{const t=8-e.length/4;return new Uint8Array([(0,s.sha256)(e)[0]>>t<<t])};function d(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),u.utils.chain(u.utils.checksum(1,f),u.utils.radix2(11,!0),u.utils.alphabet(e))}function p(e,t){const{words:r}=l(e),n=d(t).decode(r);return h(n),n}function y(e,t){h(e);return d(t).encode(e).join((e=>"あいこくしん"===e[0])(t)?"　":" ")}const g=e=>c(`mnemonic${e}`);t.Z1=function(e,t=""){return(0,i.pbkdf2)(o.sha512,l(e).nfkd,g(t),{c:2048,dkLen:64})}},30819:function(e,t){"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=s,t.exists=o,t.output=a;const u={number:r,bool:n,bytes:i,hash:s,exists:o,output:a};t.default=u},71464:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(30819),i=r(57443);class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){n.default.exists(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){n.default.exists(this),n.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+c,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const u=(0,i.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)u.setUint32(4*e,h[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}t.SHA2=s},80905:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=i(e[s],t);[r[s],n[s]]=[o,a]}return[r,n]}t.fromBig=i,t.split=s;t.toBig=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);function o(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.add=o;const a={fromBig:i,split:s,toBig:t.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:o,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};t.default=a},28939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},95116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const n=r(30819),i=r(57443);class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,n.default.hash(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return n.default.exists(this),this.iHash.update(e),this}digestInto(e){n.default.exists(this),n.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,r)=>new s(e,t).update(r).digest(),t.hmac.create=(e,t)=>new s(e,t)},29705:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const n=r(30819),i=r(95116),s=r(57443);function o(e,t,r,o){n.default.hash(e);const a=(0,s.checkOpts)({dkLen:32,asyncTick:10},o),{c:u,dkLen:c,asyncTick:l}=a;if(n.default.number(u),n.default.number(c),n.default.number(l),u<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const h=(0,s.toBytes)(t),f=(0,s.toBytes)(r),d=new Uint8Array(c),p=i.hmac.create(e,h),y=p._cloneInto().update(f);return{c:u,dkLen:c,asyncTick:l,DK:d,PRF:p,PRFSalt:y}}function a(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}t.pbkdf2=function(e,t,r,n){const{c:i,dkLen:u,DK:c,PRF:l,PRFSalt:h}=o(e,t,r,n);let f;const d=new Uint8Array(4),p=(0,s.createView)(d),y=new Uint8Array(l.outputLen);for(let e=1,t=0;t<u;e++,t+=l.outputLen){const r=c.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(f=h._cloneInto(f)).update(d).digestInto(y),r.set(y.subarray(0,r.length));for(let e=1;e<i;e++){l._cloneInto(f).update(y).digestInto(y);for(let e=0;e<r.length;e++)r[e]^=y[e]}}return a(l,h,c,f,y)},t.pbkdf2Async=async function(e,t,r,n){const{c:i,dkLen:u,asyncTick:c,DK:l,PRF:h,PRFSalt:f}=o(e,t,r,n);let d;const p=new Uint8Array(4),y=(0,s.createView)(p),g=new Uint8Array(h.outputLen);for(let e=1,t=0;t<u;e++,t+=h.outputLen){const r=l.subarray(t,t+h.outputLen);y.setInt32(0,e,!1),(d=f._cloneInto(d)).update(p).digestInto(g),r.set(g.subarray(0,r.length)),await(0,s.asyncLoop)(i-1,c,(e=>{h._cloneInto(d).update(g).digestInto(g);for(let e=0;e<r.length;e++)r[e]^=g[e]}))}return a(h,f,l,d,g)}},3662:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(71464),i=r(57443),s=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=u[e-15],r=u[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;u[e]=s+u[e-7]+n+u[e-16]|0}let{A:r,B:n,C:a,D:c,E:l,F:h,G:f,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&h^~p&f)+o[e]+u[e]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,a)|0;d=f,f=h,h=l,l=c+t|0,c=a,a=n,n=r,r=t+y|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,c=c+this.D|0,l=l+this.E|0,h=h+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,n,a,c,l,h,f,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new c)),t.sha224=(0,i.wrapConstructor)((()=>new l))},81014:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const n=r(71464),i=r(80905),s=r(57443),[o,a]=i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),u=new Uint32Array(80),c=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,o,a,u,c,l,h,f,d,p,y]}set(e,t,r,n,i,s,o,a,u,c,l,h,f,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t),c[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|u[e-15],r=0|c[e-15],n=i.default.rotrSH(t,r,1)^i.default.rotrSH(t,r,8)^i.default.shrSH(t,r,7),s=i.default.rotrSL(t,r,1)^i.default.rotrSL(t,r,8)^i.default.shrSL(t,r,7),o=0|u[e-2],a=0|c[e-2],l=i.default.rotrSH(o,a,19)^i.default.rotrBH(o,a,61)^i.default.shrSH(o,a,6),h=i.default.rotrSL(o,a,19)^i.default.rotrBL(o,a,61)^i.default.shrSL(o,a,6),f=i.default.add4L(s,h,c[e-7],c[e-16]),d=i.default.add4H(f,n,l,u[e-7],u[e-16]);u[e]=0|d,c[e]=0|f}let{Ah:r,Al:n,Bh:s,Bl:l,Ch:h,Cl:f,Dh:d,Dl:p,Eh:y,El:g,Fh:m,Fl:w,Gh:b,Gl:v,Hh:E,Hl:_}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(y,g,14)^i.default.rotrSH(y,g,18)^i.default.rotrBH(y,g,41),S=i.default.rotrSL(y,g,14)^i.default.rotrSL(y,g,18)^i.default.rotrBL(y,g,41),A=y&m^~y&b,x=g&w^~g&v,T=i.default.add5L(_,S,x,a[e],c[e]),k=i.default.add5H(T,E,t,A,o[e],u[e]),R=0|T,P=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),C=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),M=r&s^r&h^s&h,O=n&l^n&f^l&f;E=0|b,_=0|v,b=0|m,v=0|w,m=0|y,w=0|g,({h:y,l:g}=i.default.add(0|d,0|p,0|k,0|R)),d=0|h,p=0|f,h=0|s,f=0|l,s=0|r,l=0|n;const U=i.default.add3L(R,C,O);r=i.default.add3H(U,k,P,M),n=0|U}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:l}=i.default.add(0|this.Bh,0|this.Bl,0|s,0|l)),({h:h,l:f}=i.default.add(0|this.Ch,0|this.Cl,0|h,0|f)),({h:d,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:g}=i.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:m,l:w}=i.default.add(0|this.Fh,0|this.Fl,0|m,0|w)),({h:b,l:v}=i.default.add(0|this.Gh,0|this.Gl,0|b,0|v)),({h:E,l:_}=i.default.add(0|this.Hh,0|this.Hl,0|E,0|_)),this.set(r,n,s,l,h,f,d,p,y,g,m,w,b,v,E,_)}roundClean(){u.fill(0),c.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class h extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class f extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,s.wrapConstructor)((()=>new l)),t.sha512_224=(0,s.wrapConstructor)((()=>new h)),t.sha512_256=(0,s.wrapConstructor)((()=>new f)),t.sha384=(0,s.wrapConstructor)((()=>new d))},57443:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(28939);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t};function s(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=s(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=s,t.toBytes=o,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};t.Hash=class{clone(){return this._cloneInto()}};t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(e));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},35863:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46146:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});const s=r(55473);t.default=s.PromisePool,i(r(35863),t),i(r(55473),t),i(r(83495),t),i(r(98374),t),i(r(32081),t),i(r(55300),t)},83495:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePoolError=void 0;class r extends Error{constructor(e,t){super(),this.raw=e,this.item=t,this.name=this.constructor.name,this.message=this.messageFrom(e),Error.captureStackTrace&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static createFrom(e,t){return new this(e,t)}messageFrom(e){return e instanceof Error||"object"==typeof e?e.message:"string"==typeof e||"number"==typeof e?e.toString():""}}t.PromisePoolError=r},20976:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePoolExecutor=void 0;const n=r(55473),i=r(55300),s=r(83495),o=r(32081);t.PromisePoolExecutor=class{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=e=>e,this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(e){if(!this.isValidConcurrency(e))throw i.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${e}" (${typeof e})`);return this.meta.concurrency=e,this}isValidConcurrency(e){return"number"==typeof e&&e>=1}withTaskTimeout(e){return this.meta.taskTimeout=e,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(e){return this.meta.shouldResultsCorrespond=e,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(e){return this.meta.items=e,this}items(){return this.meta.items}itemsCount(){const e=this.items();return Array.isArray(e)?e.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(e){return this.handler=e,this}hasErrorHandler(){return!!this.errorHandler}handleError(e){return this.errorHandler=e,this}onTaskStarted(e){return this.onTaskStartedHandlers=e,this}onTaskFinished(e){return this.onTaskFinishedHandlers=e,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new o.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if("function"!=typeof this.handler)throw i.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const e=this.taskTimeout();if(!(null==e||"number"==typeof e&&e>=0))throw i.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(e)}" (${typeof e})`);if(!this.areItemsValid())throw i.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&"function"!=typeof this.errorHandler)throw i.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach((e=>{if(e&&"function"!=typeof e)throw i.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof e}"`)})),this.onTaskFinishedHandlers.forEach((e=>{if(e&&"function"!=typeof e)throw i.ValidationError.createFrom(`The error handler must be a function. Received "${typeof e}"`)})),this}areItemsValid(){const e=this.items();return!!Array.isArray(e)||("function"==typeof e[Symbol.iterator]||"function"==typeof e[Symbol.asyncIterator])}prepareResultsArray(){const e=this.items();return Array.isArray(e)&&this.shouldUseCorrespondingResults()?(this.meta.results=Array(e.length).fill(n.PromisePool.notRun),this):this}async process(){let e=0;for await(const t of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[e]=n.PromisePool.notRun),this.startProcessing(t,e),e+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(e,t){const r=this.createTaskFor(e,t).then((e=>{this.save(e,t).removeActive(r)})).catch((async n=>{await this.handleErrorFor(n,e,t),this.removeActive(r)})).finally((()=>{this.processedItems().push(e),this.runOnTaskFinishedHandlers(e)}));this.tasks().push(r),this.runOnTaskStartedHandlers(e)}async createTaskFor(e,t){if(void 0===this.taskTimeout())return this.handler(e,t,this);const[r,n]=this.createTaskTimeout(e);return Promise.race([this.handler(e,t,this),r()]).finally(n)}createTaskTimeout(e){let t;return[async()=>new Promise(((r,n)=>{t=setTimeout((()=>{n(new s.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,e))}),this.taskTimeout())})),()=>clearTimeout(t)]}save(e,t){return this.shouldUseCorrespondingResults()?this.results()[t]=e:this.results().push(e),this}removeActive(e){return this.tasks().splice(this.tasks().indexOf(e),1),this}async handleErrorFor(e,t,r){if(this.shouldUseCorrespondingResults()&&(this.results()[r]=n.PromisePool.failed),!this.isStoppingThePoolError(e)){if(this.isValidationError(e))throw this.markAsStopped(),e;this.hasErrorHandler()?await this.runErrorHandlerFor(e,t):this.saveErrorFor(e,t)}}isStoppingThePoolError(e){return e instanceof o.StopThePromisePoolError}isValidationError(e){return e instanceof i.ValidationError}async runErrorHandlerFor(e,t){try{await(this.errorHandler?.(e,t,this))}catch(e){this.rethrowIfNotStoppingThePool(e)}}runOnTaskStartedHandlers(e){this.onTaskStartedHandlers.forEach((t=>{t(e,this)}))}runOnTaskFinishedHandlers(e){this.onTaskFinishedHandlers.forEach((t=>{t(e,this)}))}rethrowIfNotStoppingThePool(e){if(!this.isStoppingThePoolError(e))throw e}saveErrorFor(e,t){this.errors().push(s.PromisePoolError.createFrom(e,t))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}},55473:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePool=void 0;const n=r(20976);class i{constructor(e){this.timeout=void 0,this.concurrency=10,this.items=e??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(e){return this.concurrency=e,this}static withConcurrency(e){return(new this).withConcurrency(e)}withTaskTimeout(e){return this.timeout=e,this}static withTaskTimeout(e){return(new this).withTaskTimeout(e)}for(e){const t=new i(e).withConcurrency(this.concurrency);return"function"==typeof this.errorHandler&&t.handleError(this.errorHandler),"number"==typeof this.timeout?t.withTaskTimeout(this.timeout):t}static for(e){return(new this).for(e)}handleError(e){return this.errorHandler=e,this}onTaskStarted(e){return this.onTaskStartedHandlers.push(e),this}onTaskFinished(e){return this.onTaskFinishedHandlers.push(e),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(e){return(new n.PromisePoolExecutor).useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(e).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}t.PromisePool=i,i.notRun=Symbol("notRun"),i.failed=Symbol("failed")},98374:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},32081:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopThePromisePoolError=void 0;class r extends Error{}t.StopThePromisePoolError=r},55300:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;class r extends Error{constructor(e){super(e),Error.captureStackTrace&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static createFrom(e){return new this(e)}}t.ValidationError=r},26876:function(e,t,r){"use strict";var n=r(9727),i=r(4090),s=r(35717);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t=this.name;function r(e){this._initNamed(e,t)}return s(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},2435:function(e,t,r){"use strict";var n=r(52677).default,i=r(35717),s=r(27239).b,o=r(2399).Buffer;function a(e,t){s.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function u(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return u.isEncoderBuffer(e)||(e=new u(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+n(e));this.value=e,this.length=e.length}}i(a,s),t.C=a,a.isDecoderBuffer=function(e){return e instanceof a||"object"===n(e)&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},a.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,s.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new a(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.R=u,u.isEncoderBuffer=function(e){return e instanceof u||"object"===n(e)&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},u.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},40416:function(e,t,r){"use strict";var n=r(52677).default,i=r(27239).b,s=r(2435).R,o=r(2435).C,a=r(79746),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function l(e,t,r){var n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=l;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var e=this._baseState,t={};h.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},l.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},l.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==n(e)||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){l.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),u.forEach((function(e){l.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}})),l.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},l.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){var u=null;if(null!==r.explicit?u=r.explicit:null!==r.implicit?u=r.implicit:null!==r.tag&&(u=r.tag),null!==u||r.any){if(s=this._peekTag(e,u,r.any),e.isError(s))return s}else{var c=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(c)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var h=e.offset;if(null===r.use&&null===r.choice){var f;r.any&&(f=e.save());var d=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(d))return d;r.any?i=e.raw(f):e=d}if(t&&t.track&&null!==r.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var p=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(p,t)}}return r.obj&&s&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,i),i},l.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},l.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(s){var o=e.save(),a=r.choice[s];try{var u=a._decode(e,t);if(e.isError(u))return!1;n={type:s,value:u},i=!0}catch(t){return e.restore(o),!1}return!0}),this),i?n:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new s(e,this.reporter)},l.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},l.prototype._encodeValue=function(e,t,r){var s=this._baseState;if(null===s.parent)return s.children[0]._encode(e,t||new i);var o=null;if(this.reporter=t,s.optional&&void 0===e){if(null===s.default)return;e=s.default}var a=null,u=!1;if(s.any)o=this._createEncoderBuffer(e);else if(s.choice)o=this._encodeChoice(e,t);else if(s.contains)a=this._getUse(s.contains,r)._encode(e,t),u=!0;else if(s.children)a=s.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var i=t.enterKey(r._baseState.key);if("object"!==n(e))return t.error("Child expected, but input is not object");var s=r._encode(e[r._baseState.key],t,e);return t.leaveKey(i),s}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===s.tag||"setof"===s.tag){if(!s.args||1!==s.args.length)return t.error("Too many args for : "+s.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),c))}else null!==s.use?o=this._getUse(s.use,r)._encode(e,t):(a=this._encodePrimitive(s.tag,e),u=!0);if(!s.any&&null===s.choice){var l=null!==s.implicit?s.implicit:s.tag,h=null===s.implicit?"universal":"context";null===l?null===s.use&&t.error("Tag could be omitted only for .use()"):null===s.use&&(o=this._encodeComposite(l,u,h,a))}return null!==s.explicit&&(o=this._encodeComposite(s.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},27239:function(e,t,r){"use strict";var n=r(35717);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}t.b=i,i.prototype.isError=function(e){return e instanceof s},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof s;if(t=n?e:new s(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},69901:function(e,t){"use strict";function r(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},96709:function(e,t,r){"use strict";var n=r(35717),i=r(9097),s=r(2435).C,o=r(40416),a=r(69901);function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.call(this,"der",e)}function l(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var s=r;for(r=0;128==(128&s);){if(s=e.readUInt8(t),e.isError(s))return s;r<<=7,r|=127&s}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var s=0;s<i;s++){n<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}e.exports=u,u.prototype.decode=function(e,t){return s.isDecoderBuffer(e)||(e=new s(e,t)),this.tree._decode(e,t)},n(c,o),c.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},c.prototype._decodeTag=function(e,t,r){var n=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=h(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var r=l(e,t);if(e.isError(r))return r;var n=h(e,r.primitive,t);if(e.isError(n))return n;var i=void 0;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},c.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var o=r.decode(e,"der",n);if(e.isError(o)&&s)break;i.push(o)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(2*s));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,r){for(var n,i=[],s=0,o=0;!e.isEmpty();)s<<=7,s|=127&(o=e.readUInt8()),0==(128&o)&&(i.push(s),s=0);128&o&&i.push(s);var a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),t){var c=t[n.join(" ")];void 0===c&&(c=t[n.join(".")]),void 0!==c&&(n=c)}return n},c.prototype._decodeTime=function(e,t){var r,n,i,s,o,a,u=e.raw().toString();if("gentime"===t)r=0|u.slice(0,4),n=0|u.slice(4,6),i=0|u.slice(6,8),s=0|u.slice(8,10),o=0|u.slice(10,12),a=0|u.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|u.slice(0,2),n=0|u.slice(2,4),i=0|u.slice(4,6),s=0|u.slice(6,8),o=0|u.slice(8,10),a=0|u.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,n-1,i,s,o,a,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var r=e.raw(),n=new i(r);return t&&(n=t[n.toString(10)]||n),n},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},4090:function(e,t,r){"use strict";var n=t;n.der=r(96709),n.pem=r(51201)},51201:function(e,t,r){"use strict";var n=r(35717),i=r(2399).Buffer,s=r(96709);function o(e){s.call(this,e),this.enc="pem"}n(o,s),e.exports=o,o.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1,c=0;c<r.length;c++){var l=r[c].match(o);if(null!==l&&l[2]===n){if(-1!==a){if("END"!==l[1])break;u=c;break}if("BEGIN"!==l[1])break;a=c}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);var h=r.slice(a+1,u).join("");h.replace(/[^a-z0-9+/=]+/gi,"");var f=i.from(h,"base64");return s.prototype.decode.call(this,f,t)}},47581:function(e,t,r){"use strict";var n=r(35717),i=r(2399).Buffer,s=r(40416),o=r(69901);function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.call(this,"der",e)}function c(e){return e<10?"0"+e:e}e.exports=a,a.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(u,s),u.prototype._encodeComposite=function(e,t,r,n){var s=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(o.tagByName.hasOwnProperty(e))i=o.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=o.tagClassByName[r||"universal"]<<6,i}(e,t,r,this.reporter);if(n.length<128){var a=i.alloc(2);return a[0]=s,a[1]=n.length,this._createEncoderBuffer([a,n])}for(var u=1,c=n.length;c>=256;c>>=8)u++;var l=i.alloc(2+u);l[0]=s,l[1]=128|u;for(var h=1+u,f=n.length;f>0;h--,f>>=8)l[h]=255&f;return this._createEncoderBuffer([l,n])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=i.alloc(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(var s=0;s<e.length;s++)e[s]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var o=0,a=0;a<e.length;a++){var u=e[a];for(o++;u>=128;u>>=7)o++}for(var c=i.alloc(o),l=c.length-1,h=e.length-1;h>=0;h--){var f=e[h];for(c[l--]=127&f;(f>>=7)>0;)c[l--]=128|127&f}return this._createEncoderBuffer(c)},u.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[c(n.getUTCFullYear()),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[c(n.getUTCFullYear()%100),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=i.from(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var s=i.alloc(n);return e.copy(s),0===e.length&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var o=1,a=e;a>=256;a>>=8)o++;for(var u=new Array(o),c=u.length-1;c>=0;c--)u[c]=255&e,e>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(i.from(u))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var s=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),s.length!==i.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==i.defaultBuffer[n])return!1;return!0}},9727:function(e,t,r){"use strict";var n=t;n.der=r(47581),n.pem=r(86986)},86986:function(e,t,r){"use strict";var n=r(35717),i=r(47581);function s(e){i.call(this,e),this.enc="pem"}n(s,i),e.exports=s,s.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],s=0;s<r.length;s+=64)n.push(r.slice(s,s+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},78826:function(e){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function o(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var a,u={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},c=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(a[(240&n)>>4]+a[15&n])}return t.join("")}}),l={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],y=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],m=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],w=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],E=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],_=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],x=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function T(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};k.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,s=T(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=s[t],this._Kd[e-r][t%4]=s[t];for(var o,a=0,u=i;u<n;){if(o=s[i-1],s[0]^=f[o>>16&255]<<24^f[o>>8&255]<<16^f[255&o]<<8^f[o>>24&255]^h[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)s[t]^=s[t-1];else{for(t=1;t<i/2;t++)s[t]^=s[t-1];o=s[i/2-1],s[i/2]^=f[255&o]^f[o>>8&255]<<8^f[o>>16&255]<<16^f[o>>24&255]<<24;for(t=i/2+1;t<i;t++)s[t]^=s[t-1]}for(t=0;t<i&&u<n;)c=u>>2,d=u%4,this._Ke[c][d]=s[t],this._Kd[e-c][d]=s[t++],u++}for(var c=1;c<e;c++)for(var d=0;d<4;d++)o=this._Kd[c][d],this._Kd[c][d]=_[o>>24&255]^S[o>>16&255]^A[o>>8&255]^x[255&o]},k.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=T(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=p[n[i]>>24&255]^y[n[(i+1)%4]>>16&255]^g[n[(i+2)%4]>>8&255]^m[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var a,u=s(16);for(i=0;i<4;i++)a=this._Ke[t][i],u[4*i]=255&(f[n[i]>>24&255]^a>>24),u[4*i+1]=255&(f[n[(i+1)%4]>>16&255]^a>>16),u[4*i+2]=255&(f[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(f[255&n[(i+3)%4]]^a);return u},k.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=T(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=w[n[i]>>24&255]^b[n[(i+3)%4]>>16&255]^v[n[(i+2)%4]>>8&255]^E[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var a,u=s(16);for(i=0;i<4;i++)a=this._Kd[t][i],u[4*i]=255&(d[n[i]>>24&255]^a>>24),u[4*i+1]=255&(d[n[(i+3)%4]>>16&255]^a>>16),u[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(d[255&n[(i+1)%4]]^a);return u};var R=function(e){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(e)};R.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.encrypt(r),t,n);return t},R.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.decrypt(r),t,n);return t};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastCipherblock=i(t,!0),this._aes=new k(e)};P.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,t,n)}return t},P.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];o(e,this._lastCipherblock,0,n,n+16)}return t};var C=function(e,t,r){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=s(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(t,!0),this._aes=new k(e)};C.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[n+s]^=t[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},C.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[n+s]^=t[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var M=function(e,t){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new k(e)};M.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},M.prototype.decrypt=M.prototype.encrypt;var O=function(e){if(!(this instanceof O))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=s(16),this.setValue(e)):this.setBytes(e)};O.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},O.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},O.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var U=function(e,t){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof O||(t=new O(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(e)};U.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},U.prototype.decrypt=U.prototype.encrypt;var I={AES:k,Counter:O,ModeOfOperation:{ecb:R,cbc:P,cfb:C,ofb:M,ctr:U},utils:{hex:c,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=s(e.length+t);o(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var a=s(r);return o(e,a,0,0,r),a}}},_arrayTest:{coerceArray:i,createArray:s,copyArray:o}};e.exports=I}()},3549:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},29669:function(e,t,r){"use strict";var n=r(89509).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,s=0;e[r]===u;)i++,r++;for(var o=(e.length-r)*c+1>>>0,l=new Uint8Array(o);r<e.length;){var h=t[e.charCodeAt(r)];if(255===h)return;for(var f=0,d=o-1;(0!==h||f<s)&&-1!==d;d--,f++)h+=a*l[d]>>>0,l[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=f,r++}for(var p=o-s;p!==o&&0===l[p];)p++;var y=n.allocUnsafe(i+(o-p));y.fill(0,0,i);for(var g=i;p!==o;)y[g++]=l[p++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var c=(o-s)*l+1>>>0,h=new Uint8Array(c);s!==o;){for(var f=t[s],d=0,p=c-1;(0!==f||d<i)&&-1!==p;p--,d++)f+=256*h[p]>>>0,h[p]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");i=d,s++}for(var y=c-i;y!==c&&0===h[y];)y++;for(var g=u.repeat(r);y<c;++y)g+=e.charAt(h[y]);return g},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},73581:function(e,t,r){var n=r(29669);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},72047:function(e,t,r){var n=r(99353);e.exports=function(e,t){return new Promise((function(r,i){var s,o=t||{};function a(e){i(e||new Error("Aborted"))}function u(e,t){e.bail?a(e):s.retry(e)?o.onRetry&&o.onRetry(e,t):i(s.mainError())}"randomize"in o||(o.randomize=!0),(s=n.operation(o)).attempt((function(t){var n;try{n=e(a,t)}catch(e){return void u(e,t)}Promise.resolve(n).then(r).catch((function(e){u(e,t)}))}))}))}},82240:function(e,t,r){"use strict";var n=r(48764).Buffer;var i=r(31518);function s(e,t){return void 0===t&&(t="utf8"),n.isBuffer(e)?a(e.toString("base64")):a(n.from(e,t).toString("base64"))}function o(e){return e=e.toString(),i.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var u=s;u.encode=s,u.decode=function(e,t){return void 0===t&&(t="utf8"),n.from(o(e),"base64").toString(t)},u.toBase64=o,u.fromBase64=a,u.toBuffer=function(e){return n.from(o(e),"base64")},t.default=u},31518:function(e,t,r){"use strict";var n=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,r=t%4;if(!r)return e;var i=t,s=4-r,o=t+s,a=n.alloc(o);for(a.write(e);s--;)a.write("=",i++);return a.toString()}},45772:function(e,t,r){e.exports=r(82240).default,e.exports.default=e.exports},72023:function(module,exports,__webpack_require__){var process=__webpack_require__(34155),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,i=typeof e;if("string"===i){var s,o=[],a=e.length,u=0;for(n=0;n<a;++n)(s=e.charCodeAt(n))<128?o[u++]=s:s<2048?(o[u++]=192|s>>6,o[u++]=128|63&s):s<55296||s>=57344?(o[u++]=224|s>>12,o[u++]=128|s>>6&63,o[u++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++n)),o[u++]=240|s>>18,o[u++]=128|s>>12&63,o[u++]=128|s>>6&63,o[u++]=128|63&s);e=o}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],l=[];for(n=0;n<64;++n){var h=e[n]||0;c[n]=92^h,l[n]=54^h}Sha256.call(this,t,r),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,i,s=0,o=e.length,a=this.blocks;s<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;s<o&&i<64;++s)a[i>>2]|=e[s]<<SHIFT[3&i++];else for(i=this.start;s<o&&i<64;++s)(n=e.charCodeAt(s))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++s)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,i,s,o,a,u,c=this.h0,l=this.h1,h=this.h2,f=this.h3,d=this.h4,p=this.h5,y=this.h6,g=this.h7,m=this.blocks;for(e=16;e<64;++e)t=((i=m[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[e]=m[e-16]+t+m[e-7]+r<<0;for(u=l&h,e=0;e<64;e+=4)this.first?(this.is224?(s=300032,g=(i=m[0]-1413257819)-150054599<<0,f=i+24177077<<0):(s=704751109,g=(i=m[0]-210244248)-1521486534<<0,f=i+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(s=c&l)^c&h^u,g=f+(i=g+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&y)+K[e]+m[e])<<0,f=i+(t+n)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(o=f&c)^f&l^s,y=h+(i=y+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&d^~g&p)+K[e+1]+m[e+1])<<0,t=((h=i+(t+n)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(a=h&f)^h&c^o,p=l+(i=p+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&g^~y&d)+K[e+2]+m[e+2])<<0,t=((l=i+(t+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(u=l&h)^l&f^a,d=c+(i=d+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&y^~p&g)+K[e+3]+m[e+3])<<0,c=i+(t+n)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+f<<0,this.h4=this.h4+d<<0,this.h5=this.h5+p<<0,this.h6=this.h6+y<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},95811:function(e,t,r){e.exports=r(26066)(r(79653))},26066:function(e,t,r){const n=r(37016),i=r(5675);e.exports=function(e){const t=n(e),r=i(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},37016:function(e,t,r){var n=r(48764).Buffer;const{Transform:i}=r(88473);e.exports=e=>class t extends i{constructor(t,r,n,i,s){super(s),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},5675:function(e,t,r){var n=r(48764).Buffer;const{Transform:i}=r(88473);e.exports=e=>class t extends i{constructor(t,r,n,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},34040:function(e,t){const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(let t=0;t<24;++t){const n=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49];let d=h^(s<<1|o>>>31),p=f^(o<<1|s>>>31);const y=e[0]^d,g=e[1]^p,m=e[10]^d,w=e[11]^p,b=e[20]^d,v=e[21]^p,E=e[30]^d,_=e[31]^p,S=e[40]^d,A=e[41]^p;d=n^(a<<1|u>>>31),p=i^(u<<1|a>>>31);const x=e[2]^d,T=e[3]^p,k=e[12]^d,R=e[13]^p,P=e[22]^d,C=e[23]^p,M=e[32]^d,O=e[33]^p,U=e[42]^d,I=e[43]^p;d=s^(c<<1|l>>>31),p=o^(l<<1|c>>>31);const B=e[4]^d,N=e[5]^p,L=e[14]^d,D=e[15]^p,q=e[24]^d,F=e[25]^p,H=e[34]^d,j=e[35]^p,z=e[44]^d,K=e[45]^p;d=a^(h<<1|f>>>31),p=u^(f<<1|h>>>31);const $=e[6]^d,G=e[7]^p,V=e[16]^d,W=e[17]^p,J=e[26]^d,X=e[27]^p,Z=e[36]^d,Y=e[37]^p,Q=e[46]^d,ee=e[47]^p;d=c^(n<<1|i>>>31),p=l^(i<<1|n>>>31);const te=e[8]^d,re=e[9]^p,ne=e[18]^d,ie=e[19]^p,se=e[28]^d,oe=e[29]^p,ae=e[38]^d,ue=e[39]^p,ce=e[48]^d,le=e[49]^p,he=y,fe=g,de=w<<4|m>>>28,pe=m<<4|w>>>28,ye=b<<3|v>>>29,ge=v<<3|b>>>29,me=_<<9|E>>>23,we=E<<9|_>>>23,be=S<<18|A>>>14,ve=A<<18|S>>>14,Ee=x<<1|T>>>31,_e=T<<1|x>>>31,Se=R<<12|k>>>20,Ae=k<<12|R>>>20,xe=P<<10|C>>>22,Te=C<<10|P>>>22,ke=O<<13|M>>>19,Re=M<<13|O>>>19,Pe=U<<2|I>>>30,Ce=I<<2|U>>>30,Me=N<<30|B>>>2,Oe=B<<30|N>>>2,Ue=L<<6|D>>>26,Ie=D<<6|L>>>26,Be=F<<11|q>>>21,Ne=q<<11|F>>>21,Le=H<<15|j>>>17,De=j<<15|H>>>17,qe=K<<29|z>>>3,Fe=z<<29|K>>>3,He=$<<28|G>>>4,je=G<<28|$>>>4,ze=W<<23|V>>>9,Ke=V<<23|W>>>9,$e=J<<25|X>>>7,Ge=X<<25|J>>>7,Ve=Z<<21|Y>>>11,We=Y<<21|Z>>>11,Je=ee<<24|Q>>>8,Xe=Q<<24|ee>>>8,Ze=te<<27|re>>>5,Ye=re<<27|te>>>5,Qe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=oe<<7|se>>>25,rt=se<<7|oe>>>25,nt=ae<<8|ue>>>24,it=ue<<8|ae>>>24,st=ce<<14|le>>>18,ot=le<<14|ce>>>18;e[0]=he^~Se&Be,e[1]=fe^~Ae&Ne,e[10]=He^~Qe&ye,e[11]=je^~et&ge,e[20]=Ee^~Ue&$e,e[21]=_e^~Ie&Ge,e[30]=Ze^~de&xe,e[31]=Ye^~pe&Te,e[40]=Me^~ze&tt,e[41]=Oe^~Ke&rt,e[2]=Se^~Be&Ve,e[3]=Ae^~Ne&We,e[12]=Qe^~ye&ke,e[13]=et^~ge&Re,e[22]=Ue^~$e&nt,e[23]=Ie^~Ge&it,e[32]=de^~xe&Le,e[33]=pe^~Te&De,e[42]=ze^~tt&me,e[43]=Ke^~rt&we,e[4]=Be^~Ve&st,e[5]=Ne^~We&ot,e[14]=ye^~ke&qe,e[15]=ge^~Re&Fe,e[24]=$e^~nt&be,e[25]=Ge^~it&ve,e[34]=xe^~Le&Je,e[35]=Te^~De&Xe,e[44]=tt^~me&Pe,e[45]=rt^~we&Ce,e[6]=Ve^~st&he,e[7]=We^~ot&fe,e[16]=ke^~qe&He,e[17]=Re^~Fe&je,e[26]=nt^~be&Ee,e[27]=it^~ve&_e,e[36]=Le^~Je&Ze,e[37]=De^~Xe&Ye,e[46]=me^~Pe&Me,e[47]=we^~Ce&Oe,e[8]=st^~he&Se,e[9]=ot^~fe&Ae,e[18]=qe^~He&Qe,e[19]=Fe^~je&et,e[28]=be^~Ee&Ue,e[29]=ve^~_e&Ie,e[38]=Je^~Ze&de,e[39]=Xe^~Ye&pe,e[48]=Pe^~Me&ze,e[49]=Ce^~Oe&Ke,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},79653:function(e,t,r){var n=r(48764).Buffer;const i=r(34040);function s(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}s.prototype.initialize=function(e,t){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},s.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},s.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},s.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=n.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return t},s.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=s},94281:function(e){"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,s,o,a;if("string"==typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},56753:function(e,t,r){"use strict";var n=r(34155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var s=r(79481),o=r(64229);r(35717)(l,s);for(var a=i(o.prototype),u=0;u<a.length;u++){var c=a[u];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82725:function(e,t,r){"use strict";e.exports=i;var n=r(74605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(35717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},79481:function(e,t,r){"use strict";var n,i=r(34155);e.exports=x,x.ReadableState=A;r(17187).EventEmitter;var s=function(e,t){return e.listeners(t).length},o=r(22503),a=r(48764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,l=r(94616);c=l&&l.debuglog?l.debuglog("stream"):function(){};var h,f,d,p=r(57327),y=r(61195),g=r(82457).getHighWaterMark,m=r(94281).q,w=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,E=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(x,o);var _=y.errorOrDestroy,S=["error","close","destroy","pause","resume"];function A(e,t,i){n=n||r(56753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(32553).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function x(e){if(n=n||r(56753),!(this instanceof x))return new x(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function T(e,t,r,n,i){c("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}(e,o);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new w("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(o,t)),s)_(e,s);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)o.endEmitted?_(e,new E):k(e,o,t,!0);else if(o.ended)_(e,new b);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?k(e,o,t,!1):O(e,o)):k(e,o,t,!1)}else n||(o.reading=!1,O(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&C(e)),O(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=y.destroy,x.prototype._undestroy=y.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},x.prototype.unshift=function(e){return T(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){h||(h=r(32553).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(M,e))}function M(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function O(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(U,e,t))}function U(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){c("readable nexttick read 0"),e.read(0)}function N(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function q(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function H(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}x.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?q(this):C(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&q(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&q(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){_(this,new v("_read()"))},x.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:g;function a(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",f),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}n.endEmitted?i.nextTick(o):r.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",l);var h=!1;function f(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==H(n.pipes,e))&&!h&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){c("onerror",t),g(),e.removeListener("error",d),0===s(e,"error")&&_(e,t)}function p(){e.removeListener("finish",y),g()}function y(){c("onfinish"),e.removeListener("close",p),g()}function g(){c("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",y),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=H(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},x.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?C(this):n.reading||i.nextTick(B,this))),r},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(I,this),r},x.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(I,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(N,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(45850)),f(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=D,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===d&&(d=r(15167)),d(x,e,t)})},74605:function(e,t,r){"use strict";e.exports=l;var n=r(94281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(56753);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(35717)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},64229:function(e,t,r){"use strict";var n,i=r(34155);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=x,x.WritableState=A;var o={deprecate:r(94927)},a=r(22503),u=r(48764).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,h=r(61195),f=r(82457).getHighWaterMark,d=r(94281).q,p=d.ERR_INVALID_ARG_TYPE,y=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,w=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,E=d.ERR_UNKNOWN_ENCODING,_=h.errorOrDestroy;function S(){}function A(e,t,o){n=n||r(56753),e=e||{},"boolean"!=typeof o&&(o=t instanceof n),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,s=r.writecb;if("function"!=typeof s)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,s){--t.pendingcb,r?(i.nextTick(s,n),i.nextTick(M,e,t),e._writableState.errorEmitted=!0,_(e,n)):(s(n),e._writableState.errorEmitted=!0,_(e,n),M(e,t))}(e,r,n,t,s);else{var o=P(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),n?i.nextTick(k,e,r,o,s):k(e,r,o,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function x(e){var t=this instanceof(n=n||r(56753));if(!t&&!l.call(x,this))return new x(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function T(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new w("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),M(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,T(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(T(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var r=P(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(35717)(x,a),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===x&&(e&&e._writableState instanceof A)}})):l=function(e){return e instanceof this},x.prototype.pipe=function(){_(this,new m)},x.prototype.write=function(e,t,r){var n,s=this._writableState,o=!1,a=!s.objectMode&&(n=e,u.isBuffer(n)||n instanceof c);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=S),s.ending?function(e,t){var r=new v;_(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var s;return null===r?s=new b:"string"==typeof r||t.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(_(e,s),i.nextTick(n,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,n,i,s);return c}(this,s,a,e,t,r)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new y("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,M(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=h.destroy,x.prototype._undestroy=h.undestroy,x.prototype._destroy=function(e,t){t(e)}},45850:function(e,t,r){"use strict";var n,i=r(34155);function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(8610),a=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function y(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[h]=null,e[a]=null,e[u]=null,t(p(r,!1)))}}function g(e){i.nextTick(y,e)}var m=Object.getPrototypeOf((function(){})),w=Object.setPrototypeOf((s(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),s(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(w,(s(t={},d,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,u,{value:null,writable:!0}),s(t,c,{value:null,writable:!0}),s(t,l,{value:e._readableState.endEmitted,writable:!0}),s(t,f,{value:function(e,t){var n=r[d].read();n?(r[h]=null,r[a]=null,r[u]=null,e(p(n,!1))):(r[a]=e,r[u]=t)},writable:!0}),t));return r[h]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[h]=null,r[a]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",g.bind(null,r)),r}},57327:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var u=r(48764).Buffer,c=r(52361).inspect,l=c&&c.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t,r,n,i=u.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,n=o,u.prototype.copy.call(t,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return c(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},61195:function(e,t,r){"use strict";var n=r(34155);function i(e,t){o(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,e)):n.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(s,r),t(e)):n.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:function(e,t,r){"use strict";var n=r(94281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,h=!0,a||s.call(t)},d=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},y=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?y():t.on("request",y)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},15167:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},59946:function(e,t,r){"use strict";var n;var i=r(94281).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return u(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(c),s||(o.forEach(c),i(n))}))}));return t.reduce(l)}},82457:function(e,t,r){"use strict";var n=r(94281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},22503:function(e,t,r){e.exports=r(17187).EventEmitter},88473:function(e,t,r){(t=e.exports=r(79481)).Stream=t,t.Readable=t,t.Writable=r(64229),t.Duplex=r(56753),t.Transform=r(74605),t.PassThrough=r(82725),t.finished=r(8610),t.pipeline=r(59946)},99353:function(e,t,r){e.exports=r(71846)},71846:function(e,t,r){var n=r(41960);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"==typeof e[i]&&n.push(i);for(var s=0;s<n.length;s++){var o=n[s],a=e[o];e[o]=function(n){var i=t.operation(r),s=Array.prototype.slice.call(arguments,1),o=s.pop();s.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(e,s)}))}.bind(e,a),e[o].options=r}}},41960:function(e){function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t}},2399:function(e,t,r){"use strict";var n,i=r(34155),s=r(48764),o=s.Buffer,a={};for(n in s)s.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=s[n]);var u=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(u[n]=o[n]);if(a.Buffer.prototype=o.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),u.alloc||(u.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a},17635:function(e){"use strict";!function(t){const r=2147483647;function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,s=2773480762,o=1359893119,a=2600822924,u=528734635,c=1541459225;const l=new Uint32Array(64);function h(e){let h=0,f=e.length;for(;f>=64;){let d,p,y,g,m,w=r,b=n,v=i,E=s,_=o,S=a,A=u,x=c;for(p=0;p<16;p++)y=h+4*p,l[p]=(255&e[y])<<24|(255&e[y+1])<<16|(255&e[y+2])<<8|255&e[y+3];for(p=16;p<64;p++)d=l[p-2],g=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,d=l[p-15],m=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,l[p]=(g+l[p-7]|0)+(m+l[p-16]|0)|0;for(p=0;p<64;p++)g=(((_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&S^~_&A)|0)+(x+(t[p]+l[p]|0)|0)|0,m=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&b^w&v^b&v)|0,x=A,A=S,S=_,_=E+g|0,E=v,v=b,b=w,w=g+m|0;r=r+w|0,n=n+b|0,i=i+v|0,s=s+E|0,o=o+_|0,a=a+S|0,u=u+A|0,c=c+x|0,h+=64,f-=64}}h(e);let f,d=e.length%64,p=e.length/536870912|0,y=e.length<<3,g=d<56?56:120,m=e.slice(e.length-d,e.length);for(m.push(128),f=d+1;f<g;f++)m.push(0);return m.push(p>>>24&255),m.push(p>>>16&255),m.push(p>>>8&255),m.push(p>>>0&255),m.push(y>>>24&255),m.push(y>>>16&255),m.push(y>>>8&255),m.push(y>>>0&255),h(m),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);const i=64+t.length+4,s=new Array(i),o=new Array(64);let a,u=[];for(a=0;a<64;a++)s[a]=54;for(a=0;a<e.length;a++)s[a]^=e[a];for(a=0;a<t.length;a++)s[64+a]=t[a];for(a=i-4;a<i;a++)s[a]=0;for(a=0;a<64;a++)o[a]=92;for(a=0;a<e.length;a++)o[a]^=e[a];function c(){for(let e=i-1;e>=i-4;e--){if(s[e]++,s[e]<=255)return;s[e]=0}}for(;r>=32;)c(),u=u.concat(n(o.concat(n(s)))),r-=32;return r>0&&(c(),u=u.concat(n(o.concat(n(s))).slice(0,r))),u}function s(e,t,r,n,i){let s;for(c(e,16*(2*r-1),i,0,16),s=0;s<2*r;s++)u(e,16*s,i,16),a(i,n),c(i,0,e,t+16*s,16);for(s=0;s<r;s++)c(e,t+2*s*16,e,16*s,16);for(s=0;s<r;s++)c(e,t+16*(2*s+1),e,16*(s+r),16)}function o(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=o(t[0]+t[12],7),t[8]^=o(t[4]+t[0],9),t[12]^=o(t[8]+t[4],13),t[0]^=o(t[12]+t[8],18),t[9]^=o(t[5]+t[1],7),t[13]^=o(t[9]+t[5],9),t[1]^=o(t[13]+t[9],13),t[5]^=o(t[1]+t[13],18),t[14]^=o(t[10]+t[6],7),t[2]^=o(t[14]+t[10],9),t[6]^=o(t[2]+t[14],13),t[10]^=o(t[6]+t[2],18),t[3]^=o(t[15]+t[11],7),t[7]^=o(t[3]+t[15],9),t[11]^=o(t[7]+t[3],13),t[15]^=o(t[11]+t[7],18),t[1]^=o(t[0]+t[3],7),t[2]^=o(t[1]+t[0],9),t[3]^=o(t[2]+t[1],13),t[0]^=o(t[3]+t[2],18),t[6]^=o(t[5]+t[4],7),t[7]^=o(t[6]+t[5],9),t[4]^=o(t[7]+t[6],13),t[5]^=o(t[4]+t[7],18),t[11]^=o(t[10]+t[9],7),t[8]^=o(t[11]+t[10],9),t[9]^=o(t[8]+t[11],13),t[10]^=o(t[9]+t[8],18),t[12]^=o(t[15]+t[14],7),t[13]^=o(t[12]+t[15],9),t[14]^=o(t[13]+t[12],13),t[15]^=o(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function u(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function c(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function l(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function h(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function f(e,t,n,o,a,f,d){if(n=h(n,"N"),o=h(o,"r"),a=h(a,"p"),f=h(f,"dkLen"),0===n||0!=(n&n-1))throw new Error("N must be power of 2");if(n>r/128/o)throw new Error("N too large");if(o>r/128/a)throw new Error("r too large");if(!l(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!l(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let p=i(e,t,128*a*o);const y=new Uint32Array(32*a*o);for(let e=0;e<y.length;e++){const t=4*e;y[e]=(255&p[t+3])<<24|(255&p[t+2])<<16|(255&p[t+1])<<8|(255&p[t+0])<<0}const g=new Uint32Array(64*o),m=new Uint32Array(32*o*n),w=32*o,b=new Uint32Array(16),v=new Uint32Array(16),E=a*n*2;let _,S,A=0,x=null,T=!1,k=0,R=0;const P=d?parseInt(1e3/o):4294967295,C="undefined"!=typeof setImmediate?setImmediate:setTimeout,M=function(){if(T)return d(new Error("cancelled"),A/E);let t;switch(k){case 0:S=32*R*o,c(y,S,g,0,w),k=1,_=0;case 1:t=n-_,t>P&&(t=P);for(let e=0;e<t;e++)c(g,0,m,(_+e)*w,w),s(g,w,o,b,v);if(_+=t,A+=t,d){const e=parseInt(1e3*A/E);if(e!==x){if(T=d(null,A/E),T)break;x=e}}if(_<n)break;_=0,k=2;case 2:t=n-_,t>P&&(t=P);for(let e=0;e<t;e++){const e=g[16*(2*o-1)]&n-1;u(m,e*w,g,w),s(g,w,o,b,v)}if(_+=t,A+=t,d){const e=parseInt(1e3*A/E);if(e!==x){if(T=d(null,A/E),T)break;x=e}}if(_<n)break;if(c(g,0,y,S,w),R++,R<a){k=0;break}p=[];for(let e=0;e<y.length;e++)p.push(y[e]>>0&255),p.push(y[e]>>8&255),p.push(y[e]>>16&255),p.push(y[e]>>24&255);const r=i(e,p,f);return d&&d(null,1,r),r}d&&C(M)};if(!d)for(;;){const e=M();if(null!=e)return e}M()}const d={scrypt:function(e,t,r,n,i,s,o){return new Promise((function(a,u){let c=0;o&&o(0),f(e,t,r,n,i,s,(function(e,t,r){if(e)u(e);else if(r)o&&1!==c&&o(1),a(new Uint8Array(r));else if(o&&t!==c)return c=t,o(t)}))}))},syncScrypt:function(e,t,r,n,i,s){return new Uint8Array(f(e,t,r,n,i,s))}};e.exports=d}()},17221:function(e,t,r){e.exports=r(59119)(r(58573))},58573:function(e,t,r){const n=new(0,r(86266).ec)("secp256k1"),i=n.curve,s=i.n.constructor;function o(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new s(t);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let o=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();3===e!==o.isOdd()&&(o=o.redNeg());const a=r.redSqr().redIMul(r);return o.redSqr().redISub(a.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:r,y:o}}):null}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let o=new s(t),a=new s(r);if(o.cmp(i.p)>=0||a.cmp(i.p)>=0)return null;if(o=o.toRed(i.red),a=a.toRed(i.red),(6===e||7===e)&&a.isOdd()!==(7===e))return null;const u=o.redSqr().redIMul(o);return a.redSqr().redISub(u.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:o,y:a}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function a(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}e.exports={contextRandomize(){return 0},privateKeyVerify(e){const t=new s(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new s(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new s(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new s(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new s(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new s(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify(e){return null===o(e)?1:0},publicKeyCreate(e,t){const r=new s(t);if(r.cmp(i.n)>=0||r.isZero())return 1;return a(e,n.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=o(t);if(null===r)return 1;return a(e,r.getPublic()),0},publicKeyNegate(e,t){const r=o(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),a(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=o(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(a(e,n),0)},publicKeyTweakAdd(e,t,r){const n=o(t);if(null===n)return 1;if((r=new s(r)).cmp(i.n)>=0)return 2;const u=n.getPublic().add(i.g.mul(r));return u.isInfinity()?2:(a(e,u),0)},publicKeyTweakMul(e,t,r){const n=o(t);if(null===n)return 1;if((r=new s(r)).cmp(i.n)>=0||r.isZero())return 2;return a(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new s(e.subarray(0,32)),r=new s(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new s(r).cmp(i.n)>=0)return 1;if(new s(n).cmp(i.n)>=0)return 1;const{output:o}=e;let a=o.subarray(4,37);a[0]=0,a.set(r,1);let u=33,c=0;for(;u>1&&0===a[c]&&!(128&a[c+1]);--u,++c);if(a=a.subarray(c),128&a[0])return 1;if(u>1&&0===a[0]&&!(128&a[1]))return 1;let l=o.subarray(39,72);l[0]=0,l.set(n,1);let h=33,f=0;for(;h>1&&0===l[f]&&!(128&l[f+1]);--h,++f);return l=l.subarray(f),128&l[0]||h>1&&0===l[0]&&!(128&l[1])?1:(e.outputlen=6+u+h,o[0]=48,o[1]=e.outputlen-2,o[2]=2,o[3]=a.length,o.set(a,4),o[4+u]=2,o[5+u]=l.length,o.set(l,6+u),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let o=t.subarray(4,4+r);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;let a=t.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let u=new s(o);u.cmp(i.n)>=0&&(u=new s(0));let c=new s(t.subarray(6+r));return c.cmp(i.n)>=0&&(c=new s(0)),e.set(u.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,o,a){if(a){const e=a;a=n=>{const i=e(t,r,null,o,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new s(i)}}const u=new s(r);if(u.cmp(i.n)>=0||u.isZero())return 1;let c;try{c=n.sign(t,r,{canonical:!0,k:a,pers:o})}catch(e){return 1}return e.signature.set(c.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(c.s.toArrayLike(Uint8Array,"be",32),32),e.recid=c.recoveryParam,0},ecdsaVerify(e,t,r){const a={r:e.subarray(0,32),s:e.subarray(32,64)},u=new s(a.r),c=new s(a.s);if(u.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(1===c.cmp(n.nh)||u.isZero()||c.isZero())return 3;const l=o(r);if(null===l)return 2;const h=l.getPublic();return n.verify(t,a,h)?0:3},ecdsaRecover(e,t,r,o){const u={r:t.slice(0,32),s:t.slice(32,64)},c=new s(u.r),l=new s(u.s);if(c.cmp(i.n)>=0||l.cmp(i.n)>=0)return 1;if(c.isZero()||l.isZero())return 2;let h;try{h=n.recoverPubKey(o,u,r)}catch(e){return 2}return a(e,h),0},ecdh(e,t,r,a,u,c,l){const h=o(t);if(null===h)return 1;const f=new s(r);if(f.cmp(i.n)>=0||f.isZero())return 2;const d=h.getPublic().mul(f);if(void 0===u){const t=d.encode(null,!0),r=n.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{c||(c=new Uint8Array(32));const t=d.getX().toArray("be",32);for(let e=0;e<32;++e)c[e]=t[e];l||(l=new Uint8Array(32));const r=d.getY().toArray("be",32);for(let e=0;e<32;++e)l[e]=r[e];const n=u(c,l,a);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},59119:function(e){const t="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",i="Unknow error on context randomization",s="Private Key is invalid",o="Public Key could not be parsed",a="Public Key serialization error",u="The sum of the public keys is not valid",c="Signature could not be parsed",l="The nonce generation function failed, or the private key was invalid",h="Public key could not be recover",f="Scalar was invalid (zero or overflow)";function d(e,t){if(!e)throw new Error(t)}function p(e,t,r){if(d(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;d(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;d(t.length===r,n)}}function y(e){d("Boolean"===m(e),"Expected compressed to be a Boolean")}function g(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),p("output",e,t),e}function m(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(d(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&p("seed",t,32),1===e.contextRandomize(t))throw new Error(i)},privateKeyVerify(t){return p("private key",t,32),0===e.privateKeyVerify(t)},privateKeyNegate(r){switch(p("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(t)}},privateKeyTweakAdd(t,n){switch(p("private key",t,32),p("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,r){switch(p("private key",t,32),p("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(n)}},publicKeyVerify(t){return p("public key",t,[33,65]),0===e.publicKeyVerify(t)},publicKeyCreate(t,r=!0,n){switch(p("private key",t,32),y(r),n=g(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(a)}},publicKeyConvert(t,r=!0,n){switch(p("public key",t,[33,65]),y(r),n=g(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(a)}},publicKeyNegate(r,n=!0,i){switch(p("public key",r,[33,65]),y(n),i=g(i,n?33:65),e.publicKeyNegate(i,r)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(t);case 3:throw new Error(a)}},publicKeyCombine(t,r=!0,n){d(Array.isArray(t),"Expected public keys to be an Array"),d(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)p("public key",e,[33,65]);switch(y(r),n=g(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(u);case 3:throw new Error(a)}},publicKeyTweakAdd(t,n,i=!0,s){switch(p("public key",t,[33,65]),p("tweak",n,32),y(i),s=g(s,i?33:65),e.publicKeyTweakAdd(s,t,n)){case 0:return s;case 1:throw new Error(o);case 2:throw new Error(r)}},publicKeyTweakMul(t,r,i=!0,s){switch(p("public key",t,[33,65]),p("tweak",r,32),y(i),s=g(s,i?33:65),e.publicKeyTweakMul(s,t,r)){case 0:return s;case 1:throw new Error(o);case 2:throw new Error(n)}},signatureNormalize(t){switch(p("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(c)}},signatureExport(r,n){p("signature",r,64);const i={output:n=g(n,72),outputlen:72};switch(e.signatureExport(i,r)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(c);case 2:throw new Error(t)}},signatureImport(r,n){switch(p("signature",r),n=g(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(t)}},ecdsaSign(r,n,i={},s){p("message",r,32),p("private key",n,32),d("Object"===m(i),"Expected options to be an Object"),void 0!==i.data&&p("options.data",i.data),void 0!==i.noncefn&&d("Function"===m(i.noncefn),"Expected options.noncefn to be a Function");const o={signature:s=g(s,64),recid:null};switch(e.ecdsaSign(o,r,n,i.data,i.noncefn)){case 0:return o;case 1:throw new Error(l);case 2:throw new Error(t)}},ecdsaVerify(t,r,n){switch(p("signature",t,64),p("message",r,32),p("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(c);case 2:throw new Error(o)}},ecdsaRecover(r,n,i,s=!0,o){switch(p("signature",r,64),d("Number"===m(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),p("message",i,32),y(s),o=g(o,s?33:65),e.ecdsaRecover(o,r,n,i)){case 0:return o;case 1:throw new Error(c);case 2:throw new Error(h);case 3:throw new Error(t)}},ecdh(t,r,n={},i){switch(p("public key",t,[33,65]),p("private key",r,32),d("Object"===m(n),"Expected options to be an Object"),void 0!==n.data&&p("options.data",n.data),void 0!==n.hashfn?(d("Function"===m(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&p("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&p("options.ybuf",n.ybuf,32),p("output",i)):i=g(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(f)}}})},50780:function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=t(),a=t([1]),u=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function y(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function g(e,t,r,n){return y(e,t,r,n,16)}function m(e,t,r,n){return y(e,t,r,n,32)}function w(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=s,_=o,S=a,A=u,x=c,T=l,k=h,R=f,P=d,C=p,M=y,O=g,U=m,I=w,B=b,N=v,L=0;L<20;L+=2)E^=(i=(U^=(i=(P^=(i=(x^=(i=E+U|0)<<7|i>>>25)+E|0)<<9|i>>>23)+x|0)<<13|i>>>19)+P|0)<<18|i>>>14,T^=(i=(_^=(i=(I^=(i=(C^=(i=T+_|0)<<7|i>>>25)+T|0)<<9|i>>>23)+C|0)<<13|i>>>19)+I|0)<<18|i>>>14,M^=(i=(k^=(i=(S^=(i=(B^=(i=M+k|0)<<7|i>>>25)+M|0)<<9|i>>>23)+B|0)<<13|i>>>19)+S|0)<<18|i>>>14,N^=(i=(O^=(i=(R^=(i=(A^=(i=N+O|0)<<7|i>>>25)+N|0)<<9|i>>>23)+A|0)<<13|i>>>19)+R|0)<<18|i>>>14,E^=(i=(A^=(i=(S^=(i=(_^=(i=E+A|0)<<7|i>>>25)+E|0)<<9|i>>>23)+_|0)<<13|i>>>19)+S|0)<<18|i>>>14,T^=(i=(x^=(i=(R^=(i=(k^=(i=T+x|0)<<7|i>>>25)+T|0)<<9|i>>>23)+k|0)<<13|i>>>19)+R|0)<<18|i>>>14,M^=(i=(C^=(i=(P^=(i=(O^=(i=M+C|0)<<7|i>>>25)+M|0)<<9|i>>>23)+O|0)<<13|i>>>19)+P|0)<<18|i>>>14,N^=(i=(B^=(i=(I^=(i=(U^=(i=N+B|0)<<7|i>>>25)+N|0)<<9|i>>>23)+U|0)<<13|i>>>19)+I|0)<<18|i>>>14;E=E+s|0,_=_+o|0,S=S+a|0,A=A+u|0,x=x+c|0,T=T+l|0,k=k+h|0,R=R+f|0,P=P+d|0,C=C+p|0,M=M+y|0,O=O+g|0,U=U+m|0,I=I+w|0,B=B+b|0,N=N+v|0,e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=x>>>0&255,e[17]=x>>>8&255,e[18]=x>>>16&255,e[19]=x>>>24&255,e[20]=T>>>0&255,e[21]=T>>>8&255,e[22]=T>>>16&255,e[23]=T>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=R>>>0&255,e[29]=R>>>8&255,e[30]=R>>>16&255,e[31]=R>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=C>>>0&255,e[37]=C>>>8&255,e[38]=C>>>16&255,e[39]=C>>>24&255,e[40]=M>>>0&255,e[41]=M>>>8&255,e[42]=M>>>16&255,e[43]=M>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=U>>>0&255,e[49]=U>>>8&255,e[50]=U>>>16&255,e[51]=U>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=B>>>0&255,e[57]=B>>>8&255,e[58]=B>>>16&255,e[59]=B>>>24&255,e[60]=N>>>0&255,e[61]=N>>>8&255,e[62]=N>>>16&255,e[63]=N>>>24&255}(e,t,r,n)}function b(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=0;E<20;E+=2)s^=(i=(m^=(i=(d^=(i=(c^=(i=s+m|0)<<7|i>>>25)+s|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,l^=(i=(o^=(i=(w^=(i=(p^=(i=l+o|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+w|0)<<18|i>>>14,y^=(i=(h^=(i=(a^=(i=(b^=(i=y+h|0)<<7|i>>>25)+y|0)<<9|i>>>23)+b|0)<<13|i>>>19)+a|0)<<18|i>>>14,v^=(i=(g^=(i=(f^=(i=(u^=(i=v+g|0)<<7|i>>>25)+v|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,s^=(i=(u^=(i=(a^=(i=(o^=(i=s+u|0)<<7|i>>>25)+s|0)<<9|i>>>23)+o|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(c^=(i=(f^=(i=(h^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,y^=(i=(p^=(i=(d^=(i=(g^=(i=y+p|0)<<7|i>>>25)+y|0)<<9|i>>>23)+g|0)<<13|i>>>19)+d|0)<<18|i>>>14,v^=(i=(b^=(i=(w^=(i=(m^=(i=v+b|0)<<7|i>>>25)+v|0)<<9|i>>>23)+m|0)<<13|i>>>19)+w|0)<<18|i>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=v>>>0&255,e[13]=v>>>8&255,e[14]=v>>>16&255,e[15]=v>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(e,t,r,n,i,s,o){var a,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=s[u];for(;i>=64;){for(w(l,c,o,v),u=0;u<64;u++)e[t+u]=r[n+u]^l[u];for(a=1,u=8;u<16;u++)a=a+(255&c[u])|0,c[u]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(w(l,c,o,v),u=0;u<i;u++)e[t+u]=r[n+u]^l[u];return 0}function _(e,t,r,n,i){var s,o,a=new Uint8Array(16),u=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(w(u,a,i,v),o=0;o<64;o++)e[t+o]=u[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(w(u,a,i,v),o=0;o<r;o++)e[t+o]=u[o];return 0}function S(e,t,r,n,i){var s=new Uint8Array(32);b(s,n,i,v);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return _(e,t,r,o,s)}function A(e,t,r,n,i,s,o){var a=new Uint8Array(32);b(a,s,o,v);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=s[c+16];return E(e,t,r,n,i,u,a)}var x=function(e){var t,r,n,i,s,o,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|a<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function T(e,t,r,n,i,s){var o=new x(s);return o.update(r,n,i),o.finish(e,t),0}function k(e,t,r,n,i,s){var o=new Uint8Array(16);return T(o,0,r,n,i,s),g(e,t,o,0)}function R(e,t,r,n,i){var s;if(r<32)return-1;for(A(e,0,t,0,r,n,i),T(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function P(e,t,r,n,i){var s,o=new Uint8Array(32);if(r<32)return-1;if(S(o,0,32,n,i),0!==k(t,16,t,32,r-32,o))return-1;for(A(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function C(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function M(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function O(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function U(e,r){var n,i,s,o=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(M(a),M(a),M(a),i=0;i<2;i++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,O(a,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function I(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return U(r,e),U(n,t),m(r,0,n,0)}function B(e){var t=new Uint8Array(32);return U(t,e),1&t[0]}function N(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function q(e,t,r){var n,i,s=0,o=0,a=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,y=0,g=0,m=0,w=0,b=0,v=0,E=0,_=0,S=0,A=0,x=0,T=0,k=0,R=0,P=0,C=0,M=0,O=0,U=0,I=0,B=0,N=r[0],L=r[1],D=r[2],q=r[3],F=r[4],H=r[5],j=r[6],z=r[7],K=r[8],$=r[9],G=r[10],V=r[11],W=r[12],J=r[13],X=r[14],Z=r[15];s+=(n=t[0])*N,o+=n*L,a+=n*D,u+=n*q,c+=n*F,l+=n*H,h+=n*j,f+=n*z,d+=n*K,p+=n*$,y+=n*G,g+=n*V,m+=n*W,w+=n*J,b+=n*X,v+=n*Z,o+=(n=t[1])*N,a+=n*L,u+=n*D,c+=n*q,l+=n*F,h+=n*H,f+=n*j,d+=n*z,p+=n*K,y+=n*$,g+=n*G,m+=n*V,w+=n*W,b+=n*J,v+=n*X,E+=n*Z,a+=(n=t[2])*N,u+=n*L,c+=n*D,l+=n*q,h+=n*F,f+=n*H,d+=n*j,p+=n*z,y+=n*K,g+=n*$,m+=n*G,w+=n*V,b+=n*W,v+=n*J,E+=n*X,_+=n*Z,u+=(n=t[3])*N,c+=n*L,l+=n*D,h+=n*q,f+=n*F,d+=n*H,p+=n*j,y+=n*z,g+=n*K,m+=n*$,w+=n*G,b+=n*V,v+=n*W,E+=n*J,_+=n*X,S+=n*Z,c+=(n=t[4])*N,l+=n*L,h+=n*D,f+=n*q,d+=n*F,p+=n*H,y+=n*j,g+=n*z,m+=n*K,w+=n*$,b+=n*G,v+=n*V,E+=n*W,_+=n*J,S+=n*X,A+=n*Z,l+=(n=t[5])*N,h+=n*L,f+=n*D,d+=n*q,p+=n*F,y+=n*H,g+=n*j,m+=n*z,w+=n*K,b+=n*$,v+=n*G,E+=n*V,_+=n*W,S+=n*J,A+=n*X,x+=n*Z,h+=(n=t[6])*N,f+=n*L,d+=n*D,p+=n*q,y+=n*F,g+=n*H,m+=n*j,w+=n*z,b+=n*K,v+=n*$,E+=n*G,_+=n*V,S+=n*W,A+=n*J,x+=n*X,T+=n*Z,f+=(n=t[7])*N,d+=n*L,p+=n*D,y+=n*q,g+=n*F,m+=n*H,w+=n*j,b+=n*z,v+=n*K,E+=n*$,_+=n*G,S+=n*V,A+=n*W,x+=n*J,T+=n*X,k+=n*Z,d+=(n=t[8])*N,p+=n*L,y+=n*D,g+=n*q,m+=n*F,w+=n*H,b+=n*j,v+=n*z,E+=n*K,_+=n*$,S+=n*G,A+=n*V,x+=n*W,T+=n*J,k+=n*X,R+=n*Z,p+=(n=t[9])*N,y+=n*L,g+=n*D,m+=n*q,w+=n*F,b+=n*H,v+=n*j,E+=n*z,_+=n*K,S+=n*$,A+=n*G,x+=n*V,T+=n*W,k+=n*J,R+=n*X,P+=n*Z,y+=(n=t[10])*N,g+=n*L,m+=n*D,w+=n*q,b+=n*F,v+=n*H,E+=n*j,_+=n*z,S+=n*K,A+=n*$,x+=n*G,T+=n*V,k+=n*W,R+=n*J,P+=n*X,C+=n*Z,g+=(n=t[11])*N,m+=n*L,w+=n*D,b+=n*q,v+=n*F,E+=n*H,_+=n*j,S+=n*z,A+=n*K,x+=n*$,T+=n*G,k+=n*V,R+=n*W,P+=n*J,C+=n*X,M+=n*Z,m+=(n=t[12])*N,w+=n*L,b+=n*D,v+=n*q,E+=n*F,_+=n*H,S+=n*j,A+=n*z,x+=n*K,T+=n*$,k+=n*G,R+=n*V,P+=n*W,C+=n*J,M+=n*X,O+=n*Z,w+=(n=t[13])*N,b+=n*L,v+=n*D,E+=n*q,_+=n*F,S+=n*H,A+=n*j,x+=n*z,T+=n*K,k+=n*$,R+=n*G,P+=n*V,C+=n*W,M+=n*J,O+=n*X,U+=n*Z,b+=(n=t[14])*N,v+=n*L,E+=n*D,_+=n*q,S+=n*F,A+=n*H,x+=n*j,T+=n*z,k+=n*K,R+=n*$,P+=n*G,C+=n*V,M+=n*W,O+=n*J,U+=n*X,I+=n*Z,v+=(n=t[15])*N,o+=38*(_+=n*D),a+=38*(S+=n*q),u+=38*(A+=n*F),c+=38*(x+=n*H),l+=38*(T+=n*j),h+=38*(k+=n*z),f+=38*(R+=n*K),d+=38*(P+=n*$),p+=38*(C+=n*G),y+=38*(M+=n*V),g+=38*(O+=n*W),m+=38*(U+=n*J),w+=38*(I+=n*X),b+=38*(B+=n*Z),s=(n=(s+=38*(E+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=u,e[4]=c,e[5]=l,e[6]=h,e[7]=f,e[8]=d,e[9]=p,e[10]=y,e[11]=g,e[12]=m,e[13]=w,e[14]=b,e[15]=v}function F(e,t){q(e,t,t)}function H(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)F(i,i),2!==n&&4!==n&&q(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function j(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)F(i,i),1!==n&&q(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function z(e,r,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),c=t(),l=t(),h=t(),f=t(),d=t(),p=t();for(s=0;s<31;s++)o[s]=r[s];for(o[31]=127&r[31]|64,o[0]&=248,N(a,n),s=0;s<16;s++)l[s]=a[s],f[s]=c[s]=h[s]=0;for(c[0]=f[0]=1,s=254;s>=0;--s)O(c,l,i=o[s>>>3]>>>(7&s)&1),O(h,f,i),L(d,c,h),D(c,c,h),L(h,l,f),D(l,l,f),F(f,d),F(p,c),q(c,h,c),q(h,l,d),L(d,c,h),D(c,c,h),F(l,c),D(h,f,p),q(c,h,u),L(c,c,f),q(h,h,c),q(c,f,p),q(f,l,a),F(l,d),O(c,l,i),O(h,f,i);for(s=0;s<16;s++)a[s+16]=c[s],a[s+32]=h[s],a[s+48]=l[s],a[s+64]=f[s];var y=a.subarray(32),g=a.subarray(16);return H(y,y),q(g,g,y),U(e,g),0}function K(e,t){return z(e,t,s)}function $(e,t){return n(t,32),K(e,t)}function G(e,t,r){var n=new Uint8Array(32);return z(n,r,t),b(e,i,n,v)}x.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,u,c,l,h,f,d,p,y,g,m,w,b,v,E,_=this.fin?0:2048,S=this.h[0],A=this.h[1],x=this.h[2],T=this.h[3],k=this.h[4],R=this.h[5],P=this.h[6],C=this.h[7],M=this.h[8],O=this.h[9],U=this.r[0],I=this.r[1],B=this.r[2],N=this.r[3],L=this.r[4],D=this.r[5],q=this.r[6],F=this.r[7],H=this.r[8],j=this.r[9];r>=16;)f=h=0,f+=(S+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*U,f+=(A+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*j),f+=(x+=8191&(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*H),f+=(T+=8191&(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),h=(f+=(k+=8191&(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*q))>>>13,f&=8191,f+=(R+=a>>>1&8191)*(5*D),f+=(P+=8191&(a>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*L),f+=(C+=8191&(u>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*N),f+=(M+=8191&(c>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*B),d=h+=(f+=(O+=l>>>5|_)*(5*I))>>>13,d+=S*I,d+=A*U,d+=x*(5*j),d+=T*(5*H),h=(d+=k*(5*F))>>>13,d&=8191,d+=R*(5*q),d+=P*(5*D),d+=C*(5*L),d+=M*(5*N),h+=(d+=O*(5*B))>>>13,d&=8191,p=h,p+=S*B,p+=A*I,p+=x*U,p+=T*(5*j),h=(p+=k*(5*H))>>>13,p&=8191,p+=R*(5*F),p+=P*(5*q),p+=C*(5*D),p+=M*(5*L),y=h+=(p+=O*(5*N))>>>13,y+=S*N,y+=A*B,y+=x*I,y+=T*U,h=(y+=k*(5*j))>>>13,y&=8191,y+=R*(5*H),y+=P*(5*F),y+=C*(5*q),y+=M*(5*D),g=h+=(y+=O*(5*L))>>>13,g+=S*L,g+=A*N,g+=x*B,g+=T*I,h=(g+=k*U)>>>13,g&=8191,g+=R*(5*j),g+=P*(5*H),g+=C*(5*F),g+=M*(5*q),m=h+=(g+=O*(5*D))>>>13,m+=S*D,m+=A*L,m+=x*N,m+=T*B,h=(m+=k*I)>>>13,m&=8191,m+=R*U,m+=P*(5*j),m+=C*(5*H),m+=M*(5*F),w=h+=(m+=O*(5*q))>>>13,w+=S*q,w+=A*D,w+=x*L,w+=T*N,h=(w+=k*B)>>>13,w&=8191,w+=R*I,w+=P*U,w+=C*(5*j),w+=M*(5*H),b=h+=(w+=O*(5*F))>>>13,b+=S*F,b+=A*q,b+=x*D,b+=T*L,h=(b+=k*N)>>>13,b&=8191,b+=R*B,b+=P*I,b+=C*U,b+=M*(5*j),v=h+=(b+=O*(5*H))>>>13,v+=S*H,v+=A*F,v+=x*q,v+=T*D,h=(v+=k*L)>>>13,v&=8191,v+=R*N,v+=P*B,v+=C*I,v+=M*U,E=h+=(v+=O*(5*j))>>>13,E+=S*j,E+=A*H,E+=x*F,E+=T*q,h=(E+=k*D)>>>13,E&=8191,E+=R*L,E+=P*N,E+=C*B,E+=M*I,S=f=8191&(h=(h=((h+=(E+=O*U)>>>13)<<2)+h|0)+(f&=8191)|0),A=d+=h>>>=13,x=p&=8191,T=y&=8191,k=g&=8191,R=m&=8191,P=w&=8191,C=b&=8191,M=v&=8191,O=E&=8191,t+=16,r-=16;this.h[0]=S,this.h[1]=A,this.h[2]=x,this.h[3]=T,this.h[4]=k,this.h[5]=R,this.h[6]=P,this.h[7]=C,this.h[8]=M,this.h[9]=O},x.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},x.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var V=R,W=P;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(e,t,r,n){for(var i,s,o,a,u,c,l,h,f,d,p,y,g,m,w,b,v,E,_,S,A,x,T,k,R,P,C=new Int32Array(16),M=new Int32Array(16),O=e[0],U=e[1],I=e[2],B=e[3],N=e[4],L=e[5],D=e[6],q=e[7],F=t[0],H=t[1],j=t[2],z=t[3],K=t[4],$=t[5],G=t[6],V=t[7],W=0;n>=128;){for(_=0;_<16;_++)S=8*_+W,C[_]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],M[_]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(_=0;_<80;_++)if(i=O,s=U,o=I,a=B,u=N,c=L,l=D,q,f=F,d=H,p=j,y=z,g=K,m=$,w=G,V,T=65535&(x=V),k=x>>>16,R=65535&(A=q),P=A>>>16,T+=65535&(x=(K>>>14|N<<18)^(K>>>18|N<<14)^(N>>>9|K<<23)),k+=x>>>16,R+=65535&(A=(N>>>14|K<<18)^(N>>>18|K<<14)^(K>>>9|N<<23)),P+=A>>>16,T+=65535&(x=K&$^~K&G),k+=x>>>16,R+=65535&(A=N&L^~N&D),P+=A>>>16,T+=65535&(x=J[2*_+1]),k+=x>>>16,R+=65535&(A=J[2*_]),P+=A>>>16,A=C[_%16],k+=(x=M[_%16])>>>16,R+=65535&A,P+=A>>>16,R+=(k+=(T+=65535&x)>>>16)>>>16,T=65535&(x=E=65535&T|k<<16),k=x>>>16,R=65535&(A=v=65535&R|(P+=R>>>16)<<16),P=A>>>16,T+=65535&(x=(F>>>28|O<<4)^(O>>>2|F<<30)^(O>>>7|F<<25)),k+=x>>>16,R+=65535&(A=(O>>>28|F<<4)^(F>>>2|O<<30)^(F>>>7|O<<25)),P+=A>>>16,k+=(x=F&H^F&j^H&j)>>>16,R+=65535&(A=O&U^O&I^U&I),P+=A>>>16,h=65535&(R+=(k+=(T+=65535&x)>>>16)>>>16)|(P+=R>>>16)<<16,b=65535&T|k<<16,T=65535&(x=y),k=x>>>16,R=65535&(A=a),P=A>>>16,k+=(x=E)>>>16,R+=65535&(A=v),P+=A>>>16,U=i,I=s,B=o,N=a=65535&(R+=(k+=(T+=65535&x)>>>16)>>>16)|(P+=R>>>16)<<16,L=u,D=c,q=l,O=h,H=f,j=d,z=p,K=y=65535&T|k<<16,$=g,G=m,V=w,F=b,_%16==15)for(S=0;S<16;S++)A=C[S],T=65535&(x=M[S]),k=x>>>16,R=65535&A,P=A>>>16,A=C[(S+9)%16],T+=65535&(x=M[(S+9)%16]),k+=x>>>16,R+=65535&A,P+=A>>>16,v=C[(S+1)%16],T+=65535&(x=((E=M[(S+1)%16])>>>1|v<<31)^(E>>>8|v<<24)^(E>>>7|v<<25)),k+=x>>>16,R+=65535&(A=(v>>>1|E<<31)^(v>>>8|E<<24)^v>>>7),P+=A>>>16,v=C[(S+14)%16],k+=(x=((E=M[(S+14)%16])>>>19|v<<13)^(v>>>29|E<<3)^(E>>>6|v<<26))>>>16,R+=65535&(A=(v>>>19|E<<13)^(E>>>29|v<<3)^v>>>6),P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,C[S]=65535&R|P<<16,M[S]=65535&T|k<<16;T=65535&(x=F),k=x>>>16,R=65535&(A=O),P=A>>>16,A=e[0],k+=(x=t[0])>>>16,R+=65535&A,P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[0]=O=65535&R|P<<16,t[0]=F=65535&T|k<<16,T=65535&(x=H),k=x>>>16,R=65535&(A=U),P=A>>>16,A=e[1],k+=(x=t[1])>>>16,R+=65535&A,P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[1]=U=65535&R|P<<16,t[1]=H=65535&T|k<<16,T=65535&(x=j),k=x>>>16,R=65535&(A=I),P=A>>>16,A=e[2],k+=(x=t[2])>>>16,R+=65535&A,P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[2]=I=65535&R|P<<16,t[2]=j=65535&T|k<<16,T=65535&(x=z),k=x>>>16,R=65535&(A=B),P=A>>>16,A=e[3],k+=(x=t[3])>>>16,R+=65535&A,P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[3]=B=65535&R|P<<16,t[3]=z=65535&T|k<<16,T=65535&(x=K),k=x>>>16,R=65535&(A=N),P=A>>>16,A=e[4],k+=(x=t[4])>>>16,R+=65535&A,P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[4]=N=65535&R|P<<16,t[4]=K=65535&T|k<<16,T=65535&(x=$),k=x>>>16,R=65535&(A=L),P=A>>>16,A=e[5],k+=(x=t[5])>>>16,R+=65535&A,P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[5]=L=65535&R|P<<16,t[5]=$=65535&T|k<<16,T=65535&(x=G),k=x>>>16,R=65535&(A=D),P=A>>>16,A=e[6],k+=(x=t[6])>>>16,R+=65535&A,P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[6]=D=65535&R|P<<16,t[6]=G=65535&T|k<<16,T=65535&(x=V),k=x>>>16,R=65535&(A=q),P=A>>>16,A=e[7],k+=(x=t[7])>>>16,R+=65535&A,P+=A>>>16,P+=(R+=(k+=(T+=65535&x)>>>16)>>>16)>>>16,e[7]=q=65535&R|P<<16,t[7]=V=65535&T|k<<16,W+=128,n-=128}return n}function Z(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,X(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,a/536870912|0,a<<3),X(i,s,o,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function Y(e,r){var n=t(),i=t(),s=t(),o=t(),a=t(),u=t(),c=t(),h=t(),f=t();D(n,e[1],e[0]),D(f,r[1],r[0]),q(n,n,f),L(i,e[0],e[1]),L(f,r[0],r[1]),q(i,i,f),q(s,e[3],r[3]),q(s,s,l),q(o,e[2],r[2]),L(o,o,o),D(a,i,n),D(u,o,s),L(c,o,s),L(h,i,n),q(e[0],a,u),q(e[1],h,c),q(e[2],c,u),q(e[3],a,h)}function Q(e,t,r){var n;for(n=0;n<4;n++)O(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),s=t();H(s,r[2]),q(n,r[0],s),q(i,r[1],s),U(e,i),e[31]^=B(n)<<7}function te(e,t,r){var n,i;for(C(e[0],o),C(e[1],a),C(e[2],a),C(e[3],o),i=255;i>=0;--i)Q(e,t,n=r[i/8|0]>>(7&i)&1),Y(t,e),Y(e,e),Q(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];C(n[0],h),C(n[1],f),C(n[2],a),q(n[3],h,f),te(e,n,r)}function ne(e,r,i){var s,o=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),Z(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64,re(a,o),ee(e,a),s=0;s<32;s++)r[s+32]=e[s];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,r)}function ae(e,r,n,i){var s,o,a=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),h=[t(),t(),t(),t()];Z(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(Z(c,e.subarray(32),n+32),oe(c),re(h,c),ee(e,h),s=32;s<64;s++)e[s]=i[s];for(Z(u,e,n+64),oe(u),s=0;s<64;s++)l[s]=0;for(s=0;s<32;s++)l[s]=c[s];for(s=0;s<32;s++)for(o=0;o<32;o++)l[s+o]+=u[s]*a[o];return se(e.subarray(32),l),f}function ue(e,r,n,i){var s,u=new Uint8Array(32),l=new Uint8Array(64),h=[t(),t(),t(),t()],f=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),s=t(),u=t(),l=t(),h=t(),f=t();return C(e[2],a),N(e[1],r),F(s,e[1]),q(u,s,c),D(s,s,e[2]),L(u,e[2],u),F(l,u),F(h,l),q(f,h,l),q(n,f,s),q(n,n,u),j(n,n),q(n,n,s),q(n,n,u),q(n,n,u),q(e[0],n,u),F(i,e[0]),q(i,i,u),I(i,s)&&q(e[0],e[0],d),F(i,e[0]),q(i,i,u),I(i,s)?-1:(B(e[0])===r[31]>>7&&D(e[0],o,e[0]),q(e[3],e[0],e[1]),0)}(f,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(Z(l,e,n),oe(l),te(h,f,l),re(f,r.subarray(32)),Y(h,f),ee(u,h),n-=64,m(r,0,u,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ce=16,le=64,he=32,fe=64;function de(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ye(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:A,crypto_stream:S,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:_,crypto_onetimeauth:T,crypto_onetimeauth_verify:k,crypto_verify_16:g,crypto_verify_32:m,crypto_secretbox:R,crypto_secretbox_open:P,crypto_scalarmult:z,crypto_scalarmult_base:K,crypto_box_beforenm:G,crypto_box_afternm:V,crypto_box:function(e,t,r,n,i,s){var o=new Uint8Array(32);return G(o,i,s),V(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,s){var o=new Uint8Array(32);return G(o,i,s),W(e,t,r,n,o)},crypto_box_keypair:$,crypto_hash:Z,crypto_sign:ae,crypto_sign_keypair:ne,crypto_sign_open:ue,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:he,crypto_sign_SECRETKEYBYTES:fe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ie,pack25519:U,unpack25519:N,M:q,A:L,S:F,Z:D,pow2523:j,add:Y,set25519:C,modL:se,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),de(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return R(i,n,n.length,t,r),i.subarray(ce)},e.secretbox.open=function(e,t,r){pe(e,t,r),de(r,t);for(var n=new Uint8Array(ce+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+ce]=e[s];return n.length<32||0!==P(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return K(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return G(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return $(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return K(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==fe)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ue(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(le),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==he)throw new Error("bad public key size");var n,i=new Uint8Array(le+e.length),s=new Uint8Array(le+e.length);for(n=0;n<le;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+le]=e[n];return ue(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(he),t=new Uint8Array(fe);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==fe)throw new Error("bad secret key size");for(var t=new Uint8Array(he),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(he),r=new Uint8Array(fe),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=he,e.sign.secretKeyLength=fe,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===y(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ye(i)}))}else(t=r(55024))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ye(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},54447:function(e,t,r){var n=r(90267);function i(e){var t,r;function i(t,r){try{var o=e[t](r),a=o.value,u=a instanceof n;Promise.resolve(u?a.v:a).then((function(r){if(u){var n="return"===t?"return":"next";if(!a.k||r.done)return i(n,r);r=e[n](r).value}s(o.done?"return":"normal",r)}),(function(e){i("throw",e)}))}catch(e){s("throw",e)}}function s(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(s,o){var a={key:e,arg:n,resolve:s,reject:o,next:null};r?r=r.next=a:(t=r=a,i(e,n))}))},"function"!=typeof e.return&&(this.return=void 0)}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)},e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},90267:function(e){e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},31625:function(e,t,r){var n=r(90267);e.exports=function(e){var t={},r=!1;function i(t,i){return r=!0,i=new Promise((function(r){r(e[t](i))})),{done:!1,value:new n(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):i("return",e)}),t},e.exports.__esModule=!0,e.exports.default=e.exports},44987:function(e){function t(e){function r(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return t=function(e){this.s=e,this.n=e.next},t.prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):r(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):r(t.apply(this.s,arguments))}},new t(e)}e.exports=function(e){var r,n,i,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);s--;){if(n&&null!=(r=e[n]))return r.call(e);if(i&&null!=(r=e[i]))return new t(r.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},77262:function(e,t,r){var n=r(90267);e.exports=function(e){return new n(e,0)},e.exports.__esModule=!0,e.exports.default=e.exports},61227:function(e,t,r){var n=r(82187),i=r(96936),s=r(96263),o=r(69094);e.exports=function(e){return n(e)||i(e)||s(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},93938:function(e,t,r){var n=r(54447);e.exports=function(e){return function(){return new n(e.apply(this,arguments))}},e.exports.__esModule=!0,e.exports.default=e.exports},12288:function(e,t,r){"use strict";r.r(t),r.d(t,{WebIrys:function(){return HE},default:function(){return HE}});var n={};r.r(n),r.d(n,{hasBrowserEnv:function(){return Ue},hasStandardBrowserEnv:function(){return Be},hasStandardBrowserWebWorkerEnv:function(){return Ne},navigator:function(){return Ie},origin:function(){return Le}});var i={};r.r(i),r.d(i,{hasBrowserEnv:function(){return bn},hasStandardBrowserEnv:function(){return En},hasStandardBrowserWebWorkerEnv:function(){return _n},navigator:function(){return vn},origin:function(){return Sn}});var s={};r.r(s),r.d(s,{arToWinston:function(){return $s},b64UrlDecode:function(){return zs},b64UrlEncode:function(){return js},b64UrlToBuffer:function(){return qs},b64UrlToString:function(){return Bs},bufferToString:function(){return Ns},bufferTob64:function(){return Fs},bufferTob64Url:function(){return Hs},concatBuffers:function(){return Is},stringToB64Url:function(){return Ds},stringToBuffer:function(){return Ls},winstonToAr:function(){return Ks}});var o={};r.r(o),r.d(o,{hasBrowserEnv:function(){return ma},hasStandardBrowserEnv:function(){return ba},hasStandardBrowserWebWorkerEnv:function(){return va},navigator:function(){return wa},origin:function(){return Ea}});var a={};r.r(a),r.d(a,{AVSCTap:function(){return xd},AlgorandSigner:function(){return Yf},AptosSigner:function(){return id},ArconnectSigner:function(){return yd},Arweave:function(){return Ku},ArweaveSigner:function(){return uc},Bundle:function(){return Id},BundleItem:function(){return zd},CryptoDriver:function(){return Gu},Curve25519:function(){return Os},DataItem:function(){return Cd},EthereumSigner:function(){return Wf},HexInjectedSolanaSigner:function(){return ed},HexSolanaSigner:function(){return rd},InjectedAptosSigner:function(){return od},InjectedEthereumSigner:function(){return Pf},InjectedSolanaSigner:function(){return lc},InjectedTypedEthereumSigner:function(){return pd},MAX_TAG_BYTES:function(){return Pd},MIN_BINARY_SIZE:function(){return Rd},MultiSignatureAptosSigner:function(){return ud},NearSigner:function(){return Xf},PolygonSigner:function(){return Jf},Rsa4096:function(){return Xu},SIG_CONFIG:function(){return Ps},SignatureConfig:function(){return Rs},Signer:function(){return ks},SolanaSigner:function(){return Mf},TypedEthereumSigner:function(){return ld},bundleAndSignData:function(){return Dd},byteArrayToLong:function(){return Sd},concatBuffers:function(){return Is},createData:function(){return jd},deepHash:function(){return Vs},deserializeTags:function(){return kd},exportForTesting:function(){return Kf},getCryptoDriver:function(){return Wu},getSignatureAndId:function(){return qd},indexToType:function(){return gd},keccak256:function(){return Bf},longTo16ByteArray:function(){return Ed},longTo32ByteArray:function(){return _d},longTo8ByteArray:function(){return bd},longToNByteArray:function(){return wd},secp256k1:function(){return Gf},serializeTags:function(){return Td},shortTo2ByteArray:function(){return vd},sign:function(){return Fd},stringToBuffer:function(){return Ls},unbundleData:function(){return Ld}});var u={};r.r(u),r.d(u,{default:function(){return Jd},processStream:function(){return $d},streamExportForTesting:function(){return Xd},streamSigner:function(){return Gd}});var c={};r.r(c),r.d(c,{DataItem:function(){return Cd},bundleAndSignData:function(){return Dd},createData:function(){return jd},deepHash:function(){return Vs},getCryptoDriver:function(){return Wu},stringToBuffer:function(){return Ls}});const l=()=>{throw new Error("Unimplemented")};globalThis.crypto??={},globalThis.crypto.subtle??={},globalThis.crypto.subtle.generateKey??=l,globalThis.crypto.subtle.importKey??=l,globalThis.crypto.subtle.exportKey??=l,globalThis.crypto.subtle.digest??=l,globalThis.crypto.subtle.sign??=l;var h=r(5574),f=r(52677);function d(e,t){return function(){return e.apply(t,arguments)}}var p,y=r(34155),g=Object.prototype.toString,m=Object.getPrototypeOf,w=(p=Object.create(null),function(e){var t=g.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())}),b=function(e){return e=e.toLowerCase(),function(t){return w(t)===e}},v=function(e){return function(t){return f(t)===e}},E=Array.isArray,_=v("undefined");var S=b("ArrayBuffer");var A=v("string"),x=v("function"),T=v("number"),k=function(e){return null!==e&&"object"===f(e)},R=function(e){if("object"!==w(e))return!1;var t=m(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},P=b("Date"),C=b("File"),M=b("Blob"),O=b("FileList"),U=b("URLSearchParams"),I=["ReadableStream","Request","Response","Headers"].map(b),B=h(I,4),N=B[0],L=B[1],D=B[2],q=B[3];function F(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.allOwnKeys,o=void 0!==s&&s;if(null!=e)if("object"!==f(e)&&(e=[e]),E(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{var a,u=o?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(r=0;r<c;r++)a=u[r],t.call(null,e[a],a,e)}}function H(e,t){t=t.toLowerCase();for(var r,n=Object.keys(e),i=n.length;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}var j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,z=function(e){return!_(e)&&e!==j};var K,$,G=(K="undefined"!=typeof Uint8Array&&m(Uint8Array),function(e){return K&&e instanceof K}),V=b("HTMLFormElement"),W=($=Object.prototype.hasOwnProperty,function(e,t){return $.call(e,t)}),J=b("RegExp"),X=function(e,t){var r=Object.getOwnPropertyDescriptors(e),n={};F(r,(function(r,i){var s;!1!==(s=t(r,i,e))&&(n[i]=s||r)})),Object.defineProperties(e,n)},Z="abcdefghijklmnopqrstuvwxyz",Y="0123456789",Q={DIGIT:Y,ALPHA:Z,ALPHA_DIGIT:Z+Z.toUpperCase()+Y};var ee,te,re,ne,ie=b("AsyncFunction"),se=(ee="function"==typeof setImmediate,te=x(j.postMessage),ee?setImmediate:te?(re="axios@".concat(Math.random()),ne=[],j.addEventListener("message",(function(e){var t=e.source,r=e.data;t===j&&r===re&&ne.length&&ne.shift()()}),!1),function(e){ne.push(e),j.postMessage(re,"*")}):function(e){return setTimeout(e)}),oe="undefined"!=typeof queueMicrotask?queueMicrotask.bind(j):void 0!==y&&y.nextTick||se,ae={isArray:E,isArrayBuffer:S,isBuffer:function(e){return null!==e&&!_(e)&&null!==e.constructor&&!_(e.constructor)&&x(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||x(e.append)&&("formdata"===(t=w(e))||"object"===t&&x(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&S(e.buffer)},isString:A,isNumber:T,isBoolean:function(e){return!0===e||!1===e},isObject:k,isPlainObject:R,isReadableStream:N,isRequest:L,isResponse:D,isHeaders:q,isUndefined:_,isDate:P,isFile:C,isBlob:M,isRegExp:J,isFunction:x,isStream:function(e){return k(e)&&x(e.pipe)},isURLSearchParams:U,isTypedArray:G,isFileList:O,forEach:F,merge:function e(){for(var t=z(this)&&this||{},r=t.caseless,n={},i=function(t,i){var s=r&&H(n,i)||i;R(n[s])&&R(t)?n[s]=e(n[s],t):R(t)?n[s]=e({},t):E(t)?n[s]=t.slice():n[s]=t},s=0,o=arguments.length;s<o;s++)arguments[s]&&F(arguments[s],i);return n},extend:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.allOwnKeys;return F(t,(function(t,n){r&&x(t)?e[n]=d(t,r):e[n]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var i,s,o,a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],n&&!n(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==r&&m(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:w,kindOfTest:b,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(E(e))return e;var t=e.length;if(!T(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var i=r.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:V,hasOwnProperty:W,hasOwnProp:W,reduceDescriptors:X,freezeMethods:function(e){X(e,(function(t,r){if(x(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;var n=e[r];x(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:function(e,t){var r={},n=function(e){e.forEach((function(e){r[e]=!0}))};return E(e)?n(e):n(String(e).split(t)),r},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:H,global:j,isContextDefined:z,ALPHABET:Q,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.ALPHA_DIGIT,r="",n=t.length;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&x(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(r,n){if(k(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[n]=r;var i=E(r)?[]:{};return F(r,(function(t,r){var s=e(t,n+1);!_(s)&&(i[r]=s)})),t[n]=void 0,i}}return r}(e,0)},isAsyncFn:ie,isThenable:function(e){return e&&(k(e)||x(e))&&x(e.then)&&x(e.catch)},setImmediate:se,asap:oe},ue=r(15009),ce=r(99289),le=r(12444),he=r(72004);function fe(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ae.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});var de=fe.prototype,pe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){pe[e]={value:e}})),Object.defineProperties(fe,pe),Object.defineProperty(de,"isAxiosError",{value:!0}),fe.from=function(e,t,r,n,i,s){var o=Object.create(de);return ae.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),fe.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var ye=fe,ge=r(48764).Buffer;function me(e){return ae.isPlainObject(e)||ae.isArray(e)}function we(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function be(e,t,r){return e?e.concat(t).map((function(e,t){return e=we(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}var ve=ae.toFlatObject(ae,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Ee=function(e,t,r){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var n=(r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ae.isUndefined(t[e])}))).metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(ae.isDate(e))return e.toISOString();if(!a&&ae.isBlob(e))throw new ye("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(e)||ae.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):ge.from(e):e}function c(e,r,i){var a=e;if(e&&!i&&"object"===f(e))if(ae.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(ae.isArray(e)&&function(e){return ae.isArray(e)&&!e.some(me)}(e)||(ae.isFileList(e)||ae.endsWith(r,"[]"))&&(a=ae.toArray(e)))return r=we(r),a.forEach((function(e,n){!ae.isUndefined(e)&&null!==e&&t.append(!0===o?be([r],n,s):null===o?r:r+"[]",u(e))})),!1;return!!me(e)||(t.append(be(i,r,s),u(e)),!1)}var l=[],h=Object.assign(ve,{defaultVisitor:c,convertValue:u,isVisitable:me});if(!ae.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!ae.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),ae.forEach(r,(function(r,s){!0===(!(ae.isUndefined(r)||null===r)&&i.call(t,r,ae.isString(s)?s.trim():s,n,h))&&e(r,n?n.concat(s):[s])})),l.pop()}}(e),t};function _e(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Se(e,t){this._pairs=[],e&&Ee(e,this,t)}var Ae=Se.prototype;Ae.append=function(e,t){this._pairs.push([e,t])},Ae.toString=function(e){var t=e?function(t){return e.call(this,t,_e)}:_e;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var xe=Se;function Te(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ke(e,t,r){if(!t)return e;var n=r&&r.encode||Te;ae.isFunction(r)&&(r={serialize:r});var i,s=r&&r.serialize;if(i=s?s(t,r):ae.isURLSearchParams(t)?t.toString():new xe(t,r).toString(n)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var Re=function(){function e(){le(this,e),this.handlers=[]}return he(e,[{key:"use",value:function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){ae.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Pe=Re,Ce={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Me=r(97857),Oe={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:xe,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ue="undefined"!=typeof window&&"undefined"!=typeof document,Ie="object"===("undefined"==typeof navigator?"undefined":f(navigator))&&navigator||void 0,Be=Ue&&(!Ie||["ReactNative","NativeScript","NS"].indexOf(Ie.product)<0),Ne="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Le=Ue&&window.location.href||"http://localhost",De=Me(Me({},n),Oe);var qe=function(e){function t(e,r,n,i){var s=e[i++];if("__proto__"===s)return!0;var o=Number.isFinite(+s),a=i>=e.length;return s=!s&&ae.isArray(n)?n.length:s,a?(ae.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o):(n[s]&&ae.isObject(n[s])||(n[s]=[]),t(e,r,n[s],i)&&ae.isArray(n[s])&&(n[s]=function(e){var t,r,n={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)n[r=i[t]]=e[r];return n}(n[s])),!o)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){var r={};return ae.forEachEntry(e,(function(e,n){t(function(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),n,r,0)})),r}return null};var Fe={transitional:Ce,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var r,n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=ae.isObject(e);if(s&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return i?JSON.stringify(qe(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ee(e,new De.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return De.isNode&&ae.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=ae.isFileList(e))||n.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Ee(r?{"files[]":e}:e,o&&new o,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),function(e,t,r){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Fe.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(r&&!this.responseType||n)){var i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw ye.from(e,ye.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:De.classes.FormData,Blob:De.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],(function(e){Fe.headers[e]={}}));var He=Fe,je=r(64599),ze=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ke=Symbol("internals");function $e(e){return e&&String(e).trim().toLowerCase()}function Ge(e){return!1===e||null==e?e:ae.isArray(e)?e.map(Ge):String(e)}function Ve(e,t,r,n,i){return ae.isFunction(n)?n.call(this,t,r):(i&&(t=r),ae.isString(t)?ae.isString(n)?-1!==t.indexOf(n):ae.isRegExp(n)?n.test(t):void 0:void 0)}var We=function(e,t){function r(e){le(this,r),e&&this.set(e)}return he(r,[{key:"set",value:function(e,t,r){var n=this;function i(e,t,r){var i=$e(t);if(!i)throw new Error("header name must be a non-empty string");var s=ae.findKey(n,i);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Ge(e))}var s=function(e,t){return ae.forEach(e,(function(e,r){return i(e,r,t)}))};if(ae.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ae.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s(function(e){var t,r,n,i={};return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&ze[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)})),i}(e),t);else if(ae.isHeaders(e)){var o,a=je(e.entries());try{for(a.s();!(o=a.n()).done;){var u=h(o.value,2),c=u[0];i(u[1],c,r)}}catch(e){a.e(e)}finally{a.f()}}else null!=e&&i(t,e,r);return this}},{key:"get",value:function(e,t){if(e=$e(e)){var r=ae.findKey(this,e);if(r){var n=this[r];if(!t)return n;if(!0===t)return function(e){for(var t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=n.exec(e);)r[t[1]]=t[2];return r}(n);if(ae.isFunction(t))return t.call(this,n,r);if(ae.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=$e(e)){var r=ae.findKey(this,e);return!(!r||void 0===this[r]||t&&!Ve(0,this[r],r,t))}return!1}},{key:"delete",value:function(e,t){var r=this,n=!1;function i(e){if(e=$e(e)){var i=ae.findKey(r,e);!i||t&&!Ve(0,r[i],i,t)||(delete r[i],n=!0)}}return ae.isArray(e)?e.forEach(i):i(e),n}},{key:"clear",value:function(e){for(var t=Object.keys(this),r=t.length,n=!1;r--;){var i=t[r];e&&!Ve(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}},{key:"normalize",value:function(e){var t=this,r={};return ae.forEach(this,(function(n,i){var s=ae.findKey(r,i);if(s)return t[s]=Ge(n),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Ge(n),r[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.constructor).concat.apply(e,[this].concat(r))}},{key:"toJSON",value:function(e){var t=Object.create(null);return ae.forEach(this,(function(r,n){null!=r&&!1!==r&&(t[n]=e&&ae.isArray(r)?r.join(", "):r)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=h(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Ke]=this[Ke]={accessors:{}}).accessors,r=this.prototype;function n(e){var n=$e(e);t[n]||(!function(e,t){var r=ae.toCamelCase(" "+t);["get","set","has"].forEach((function(n){Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return ae.isArray(e)?e.forEach(n):n(e),this}}]),r}(Symbol.iterator,Symbol.toStringTag);We.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ae.reduceDescriptors(We.prototype,(function(e,t){var r=e.value,n=t[0].toUpperCase()+t.slice(1);return{get:function(){return r},set:function(e){this[n]=e}}})),ae.freezeMethods(We);var Je=We;function Xe(e,t){var r=this||He,n=t||r,i=Je.from(n.headers),s=n.data;return ae.forEach(e,(function(e){s=e.call(r,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Ze(e){return!(!e||!e.__CANCEL__)}function Ye(e,t,r){ye.call(this,null==e?"canceled":e,ye.ERR_CANCELED,t,r),this.name="CanceledError"}ae.inherits(Ye,ye,{__CANCEL__:!0});var Qe=Ye;function et(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}var tt=r(9783);var rt=function(e,t){e=e||10;var r,n=new Array(e),i=new Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){var u=Date.now(),c=i[o];r||(r=u),n[s]=a,i[s]=u;for(var l=o,h=0;l!==s;)h+=n[l++],l%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),!(u-r<t)){var f=c&&u-c;return f?Math.round(1e3*h/f):void 0}}};var nt=function(e,t){var r,n,i=0,s=1e3/t,o=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){for(var e=Date.now(),t=e-i,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];t>=s?o(u,e):(r=u,n||(n=setTimeout((function(){n=null,o(r)}),s-t)))},function(){return r&&o(r)}]},it=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0,i=rt(50,250);return nt((function(r){var s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,u=i(a);n=s;var c=tt({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&s<=o?(o-s)/u:void 0,event:r,lengthComputable:null!=o},t?"download":"upload",!0);e(c)}),r)},st=function(e,t){var r=null!=e;return[function(n){return t[0]({lengthComputable:r,total:e,loaded:n})},t[1]]},ot=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ae.asap((function(){return e.apply(void 0,r)}))}},at=r(19632),ut=r(61227),ct=De.hasStandardBrowserEnv?function(e,t){return function(r){return r=new URL(r,De.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)}}(new URL(De.origin),De.navigator&&/(msie|trident)/i.test(De.navigator.userAgent)):function(){return!0},lt=De.hasStandardBrowserEnv?{write:function(e,t,r,n,i,s){var o=[e+"="+encodeURIComponent(t)];ae.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ae.isString(n)&&o.push("path="+n),ae.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function ht(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var ft=function(e){return e instanceof Je?Me({},e):e};function dt(e,t){t=t||{};var r={};function n(e,t,r,n){return ae.isPlainObject(e)&&ae.isPlainObject(t)?ae.merge.call({caseless:n},e,t):ae.isPlainObject(t)?ae.merge({},t):ae.isArray(t)?t.slice():t}function i(e,t,r,i){return ae.isUndefined(t)?ae.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function s(e,t){if(!ae.isUndefined(t))return n(void 0,t)}function o(e,t){return ae.isUndefined(t)?ae.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,s){return s in t?n(r,i):s in e?n(void 0,r):void 0}var u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:function(e,t,r){return i(ft(e),ft(t),0,!0)}};return ae.forEach(Object.keys(Object.assign({},e,t)),(function(n){var s=u[n]||i,o=s(e[n],t[n],n);ae.isUndefined(o)&&s!==a||(r[n]=o)})),r}var pt,yt,gt=function(e){var t,r=dt({},e),n=r.data,i=r.withXSRFToken,s=r.xsrfHeaderName,o=r.xsrfCookieName,a=r.headers,u=r.auth;if(r.headers=a=Je.from(a),r.url=ke(ht(r.baseURL,r.url),e.params,e.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ae.isFormData(n))if(De.hasStandardBrowserEnv||De.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(t=a.getContentType())){var c=t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[],l=ut(c),h=l[0],f=l.slice(1);a.setContentType([h||"multipart/form-data"].concat(at(f)).join("; "))}if(De.hasStandardBrowserEnv&&(i&&ae.isFunction(i)&&(i=i(r)),i||!1!==i&&ct(r.url))){var d=s&&o&&lt.read(o);d&&a.set(s,d)}return r},mt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){var n,i,s,o,a,u=gt(e),c=u.data,l=Je.from(u.headers).normalize(),f=u.responseType,d=u.onUploadProgress,p=u.onDownloadProgress;function y(){o&&o(),a&&a(),u.cancelToken&&u.cancelToken.unsubscribe(n),u.signal&&u.signal.removeEventListener("abort",n)}var g=new XMLHttpRequest;function m(){if(g){var n=Je.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());et((function(e){t(e),y()}),(function(e){r(e),y()}),{data:f&&"text"!==f&&"json"!==f?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}}if(g.open(u.method.toUpperCase(),u.url,!0),g.timeout=u.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(r(new ye("Request aborted",ye.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new ye("Network Error",ye.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){var t=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",n=u.transitional||Ce;u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),r(new ye(t,n.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,g)),g=null},void 0===c&&l.setContentType(null),"setRequestHeader"in g&&ae.forEach(l.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),ae.isUndefined(u.withCredentials)||(g.withCredentials=!!u.withCredentials),f&&"json"!==f&&(g.responseType=u.responseType),p){var w=it(p,!0),b=h(w,2);s=b[0],a=b[1],g.addEventListener("progress",s)}if(d&&g.upload){var v=it(d),E=h(v,2);i=E[0],o=E[1],g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",o)}(u.cancelToken||u.signal)&&(n=function(t){g&&(r(!t||t.type?new Qe(null,e,g):t),g.abort(),g=null)},u.cancelToken&&u.cancelToken.subscribe(n),u.signal&&(u.signal.aborted?n():u.signal.addEventListener("abort",n)));var _,S,A=(_=u.url,(S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_))&&S[1]||"");A&&-1===De.protocols.indexOf(A)?r(new ye("Unsupported protocol "+A+":",ye.ERR_BAD_REQUEST,e)):g.send(c||null)}))},wt=function(e,t){var r=(e=e?e.filter(Boolean):[]).length;if(t||r){var n,i=new AbortController,s=function(e){if(!n){n=!0,a();var t=e instanceof Error?e:this.reason;i.abort(t instanceof ye?t:new Qe(t instanceof Error?t.message:t))}},o=t&&setTimeout((function(){o=null,s(new ye("timeout ".concat(t," of ms exceeded"),ye.ETIMEDOUT))}),t),a=function(){e&&(o&&clearTimeout(o),o=null,e.forEach((function(e){e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((function(e){return e.addEventListener("abort",s)}));var u=i.signal;return u.unsubscribe=function(){return ae.asap(a)},u}},bt=r(93938),vt=r(77262),Et=r(31625),_t=r(44987),St=ue().mark((function e(t,r){var n,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.byteLength,r&&!(n<r)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:i=0;case 6:if(!(i<n)){e.next=13;break}return s=i+r,e.next=10,t.slice(i,s);case 10:i=s,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),At=function(){var e=bt(ue().mark((function e(t,r){var n,i,s,o,a,u;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,o=_t(xt(t));case 4:return e.next=6,vt(o.next());case 6:if(!(n=!(a=e.sent).done)){e.next=12;break}return u=a.value,e.delegateYield(Et(_t(St(u,r)),vt),"t0",9);case 9:n=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),i=!0,s=e.t1;case 18:if(e.prev=18,e.prev=19,!n||null==o.return){e.next=23;break}return e.next=23,vt(o.return());case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t,r){return e.apply(this,arguments)}}(),xt=function(){var e=bt(ue().mark((function e(t){var r,n,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[Symbol.asyncIterator]){e.next=3;break}return e.delegateYield(Et(_t(t),vt),"t0",2);case 2:return e.abrupt("return");case 3:r=t.getReader(),e.prev=4;case 5:return e.next=7,vt(r.read());case 7:if(n=e.sent,i=n.done,s=n.value,!i){e.next=12;break}return e.abrupt("break",16);case 12:return e.next=14,s;case 14:e.next=5;break;case 16:return e.prev=16,e.next=19,vt(r.cancel());case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),Tt=function(e,t,r,n){var i,s=At(e,t),o=0,a=function(e){i||(i=!0,n&&n(e))};return new ReadableStream({pull:function(e){return ce(ue().mark((function t(){var n,i,u,c,l;return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.next();case 3:if(n=t.sent,i=n.done,u=n.value,!i){t.next=10;break}return a(),e.close(),t.abrupt("return");case 10:c=u.byteLength,r&&(l=o+=c,r(l)),e.enqueue(new Uint8Array(u)),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(0),a(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return a(e),s.return()}},{highWaterMark:2})},kt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Rt=kt&&"function"==typeof ReadableStream,Pt=kt&&("function"==typeof TextEncoder?(pt=new TextEncoder,function(e){return pt.encode(e)}):function(){var e=ce(ue().mark((function e(t){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ct=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e.apply(void 0,r)}catch(e){return!1}},Mt=Rt&&Ct((function(){var e=!1,t=new Request(De.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ot=Rt&&Ct((function(){return ae.isReadableStream(new Response("").body)})),Ut={stream:Ot&&function(e){return e.body}};kt&&(yt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(e){!Ut[e]&&(Ut[e]=ae.isFunction(yt[e])?function(t){return t[e]()}:function(t,r){throw new ye("Response type '".concat(e,"' is not supported"),ye.ERR_NOT_SUPPORT,r)})})));var It=function(){var e=ce(ue().mark((function e(t){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!ae.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!ae.isSpecCompliantForm(t)){e.next=9;break}return r=new Request(De.origin,{method:"POST",body:t}),e.next=8,r.arrayBuffer();case 8:case 15:return e.abrupt("return",e.sent.byteLength);case 9:if(!ae.isArrayBufferView(t)&&!ae.isArrayBuffer(t)){e.next=11;break}return e.abrupt("return",t.byteLength);case 11:if(ae.isURLSearchParams(t)&&(t+=""),!ae.isString(t)){e.next=16;break}return e.next=15,Pt(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=ce(ue().mark((function e(t,r){var n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ae.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==n?It(r):n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Nt=kt&&function(){var e=ce(ue().mark((function e(t){var r,n,i,s,o,a,u,c,l,f,d,p,y,g,m,w,b,v,E,_,S,A,x,T,k,R,P,C,M,O,U,I,B,N;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gt(t),n=r.url,i=r.method,s=r.data,o=r.signal,a=r.cancelToken,u=r.timeout,c=r.onDownloadProgress,l=r.onUploadProgress,f=r.responseType,d=r.headers,p=r.withCredentials,y=void 0===p?"same-origin":p,g=r.fetchOptions,f=f?(f+"").toLowerCase():"text",m=wt([o,a&&a.toAbortSignal()],u),b=m&&m.unsubscribe&&function(){m.unsubscribe()},e.prev=4,e.t0=l&&Mt&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,Bt(d,s);case 9:e.t1=v=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}E=new Request(n,{method:"POST",body:s,duplex:"half"}),ae.isFormData(s)&&(_=E.headers.get("content-type"))&&d.setContentType(_),E.body&&(S=st(v,it(ot(l))),A=h(S,2),x=A[0],T=A[1],s=Tt(E.body,65536,x,T));case 15:return ae.isString(y)||(y=y?"include":"omit"),k="credentials"in Request.prototype,w=new Request(n,Me(Me({},g),{},{signal:m,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:k?y:void 0})),e.next=20,fetch(w);case 20:return R=e.sent,P=Ot&&("stream"===f||"response"===f),Ot&&(c||P&&b)&&(C={},["status","statusText","headers"].forEach((function(e){C[e]=R[e]})),M=ae.toFiniteNumber(R.headers.get("content-length")),O=c&&st(M,it(ot(c),!0))||[],U=h(O,2),I=U[0],B=U[1],R=new Response(Tt(R.body,65536,I,(function(){B&&B(),b&&b()})),C)),f=f||"text",e.next=26,Ut[ae.findKey(Ut,f)||"text"](R,t);case 26:return N=e.sent,!P&&b&&b(),e.next=30,new Promise((function(e,r){et(e,r,{data:N,headers:Je.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:w})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),b&&b(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new ye("Network Error",ye.ERR_NETWORK,t,w),{cause:e.t2.cause||e.t2});case 38:throw ye.from(e.t2,e.t2&&e.t2.code,t,w);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),Lt={http:null,xhr:mt,fetch:Nt};ae.forEach(Lt,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var Dt=function(e){return"- ".concat(e)},qt=function(e){return ae.isFunction(e)||null===e||!1===e},Ft=function(e){for(var t,r,n=(e=ae.isArray(e)?e:[e]).length,i={},s=0;s<n;s++){var o=void 0;if(r=t=e[s],!qt(t)&&void 0===(r=Lt[(o=String(t)).toLowerCase()]))throw new ye("Unknown adapter '".concat(o,"'"));if(r)break;i[o||"#"+s]=r}if(!r){var a=Object.entries(i).map((function(e){var t=h(e,2),r=t[0],n=t[1];return"adapter ".concat(r," ")+(!1===n?"is not supported by the environment":"is not available in the build")})),u=n?a.length>1?"since :\n"+a.map(Dt).join("\n"):" "+Dt(a[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r};function Ht(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qe(null,e)}function jt(e){return Ht(e),e.headers=Je.from(e.headers),e.data=Xe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ft(e.adapter||He.adapter)(e).then((function(t){return Ht(e),t.data=Xe.call(e,e.transformResponse,t),t.headers=Je.from(t.headers),t}),(function(t){return Ze(t)||(Ht(e),t&&t.response&&(t.response.data=Xe.call(e,e.transformResponse,t.response),t.response.headers=Je.from(t.response.headers))),Promise.reject(t)}))}var zt="1.7.9",Kt={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Kt[e]=function(r){return f(r)===e||"a"+(t<1?"n ":" ")+e}}));var $t={};Kt.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,s){if(!1===e)throw new ye(n(i," has been removed"+(t?" in "+t:"")),ye.ERR_DEPRECATED);return t&&!$t[i]&&($t[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}},Kt.spelling=function(e){return function(t,r){return console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0}};var Gt={assertOptions:function(e,t,r){if("object"!==f(e))throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var s=n[i],o=t[s];if(o){var a=e[s],u=void 0===a||o(a,s,e);if(!0!==u)throw new ye("option "+s+" must be "+u,ye.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}},validators:Kt},Vt=Gt.validators,Wt=function(){function e(t){le(this,e),this.defaults=t,this.interceptors={request:new Pe,response:new Pe}}var t;return he(e,[{key:"request",value:(t=ce(ue().mark((function e(t,r){var n,i;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,r);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){n={},Error.captureStackTrace?Error.captureStackTrace(n):n=new Error,i=n.stack?n.stack.replace(/^.+\n/,""):"";try{e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i}catch(e){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,r){return t.apply(this,arguments)})},{key:"_request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var r=t=dt(this.defaults,t),n=r.transitional,i=r.paramsSerializer,s=r.headers;void 0!==n&&Gt.assertOptions(n,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),null!=i&&(ae.isFunction(i)?t.paramsSerializer={serialize:i}:Gt.assertOptions(i,{encode:Vt.function,serialize:Vt.function},!0)),Gt.assertOptions(t,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=s&&ae.merge(s.common,s[t.method]);s&&ae.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete s[e]})),t.headers=Je.concat(o,s);var a=[],u=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var h,f=0;if(!u){var d=[jt.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,l),h=d.length,c=Promise.resolve(t);f<h;)c=c.then(d[f++],d[f++]);return c}h=a.length;var p=t;for(f=0;f<h;){var y=a[f++],g=a[f++];try{p=y(p)}catch(e){g.call(this,e);break}}try{c=jt.call(this,p)}catch(e){return Promise.reject(e)}for(f=0,h=l.length;f<h;)c=c.then(l[f++],l[f++]);return c}},{key:"getUri",value:function(e){return ke(ht((e=dt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();ae.forEach(["delete","get","head","options"],(function(e){Wt.prototype[e]=function(t,r){return this.request(dt(r||{},{method:e,url:t,data:(r||{}).data}))}})),ae.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(dt(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Wt.prototype[e]=t(),Wt.prototype[e+"Form"]=t(!0)}));var Jt=Wt,Xt=function(){function e(t){if(le(this,e),"function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length;t-- >0;)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},t((function(e,t,i){n.reason||(n.reason=new Qe(e,t,i),r(n.reason))}))}return he(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var e=this,t=new AbortController,r=function(e){t.abort(e)};return this.subscribe(r),t.signal.unsubscribe=function(){return e.unsubscribe(r)},t.signal}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Zt=Xt;var Yt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yt).forEach((function(e){var t=h(e,2),r=t[0],n=t[1];Yt[n]=r}));var Qt=Yt;var er=function e(t){var r=new Jt(t),n=d(Jt.prototype.request,r);return ae.extend(n,Jt.prototype,r,{allOwnKeys:!0}),ae.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(dt(t,r))},n}(He);er.Axios=Jt,er.CanceledError=Qe,er.CancelToken=Zt,er.isCancel=Ze,er.VERSION=zt,er.toFormData=Ee,er.AxiosError=ye,er.Cancel=er.CanceledError,er.all=function(e){return Promise.all(e)},er.spread=function(e){return function(t){return e.apply(null,t)}},er.isAxiosError=function(e){return ae.isObject(e)&&!0===e.isAxiosError},er.mergeConfig=dt,er.AxiosHeaders=Je,er.formToJSON=function(e){return qe(ae.isHTMLForm(e)?new FormData(e):e)},er.getAdapter=Ft,er.HttpStatusCode=Qt,er.default=er;var tr=er,rr=r(72047),nr=r(55835),ir=r(48764).Buffer;var sr=r(45772),or=r(70794);or.Z.set({DECIMAL_PLACES:50});const ar=e=>new Promise((t=>setTimeout(t,e)));class ur{api;token;tokenConfig;arbundles;constructor(e,t,r){this.api=e,this.token=t,this.tokenConfig=r,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(e,t,r){if(e?.status&&!(r??[]).includes(e.status)&&200!=e.status)throw new Error(`HTTP Error: ${t}: ${e.status} ${"string"!=typeof e.data?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return ur.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const t=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${e}`);return ur.checkAndThrow(t,"Getting balance"),new or.Z(t.data.balance)}async getBundlerAddress(e){const t=await this.api.get("/info");ur.checkAndThrow(t,"Getting Bundler address");const r=t.data.addresses[e];if(!r)throw new Error(`Specified bundler does not support token ${e}`);return r}async getPrice(e,t){const r=await this.api.get(`/price/${e}/${t}`);return ur.checkAndThrow(r,"Getting storage cost"),new or.Z(r.data)}async estimateFolderPrice(e){Array.isArray(e)&&(e={fileCount:e.length,totalBytes:e.reduce(((e,t)=>e+t),0)});const t=e.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,r=(await this.getPrice(this.tokenConfig.name,t)).multipliedBy(e.fileCount);return(await this.getPrice(this.tokenConfig.name,e.totalBytes)).plus(r).decimalPlaces(0)}toAtomic(e){return new or.Z(e).multipliedBy(this.tokenConfig.base[1])}fromAtomic(e){return new or.Z(e).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(e,t=30){if(this.tokenConfig.isSlow)return;let r,n;t<0&&(t=0);const i=await Promise.race([(async()=>(await ar(1e3*t),n=!0,"RACE"))(),(async()=>{for(;!n;){if(await this.tokenConfig.getTx(e).then((e=>e?.confirmed)).catch((e=>(r=e,!1))))return!0;await ar(1e3)}return!1})()]);return"RACE"===i?(console.warn(`Tx ${e} didn't finalize after ${t} seconds ${r?` - ${r}`:""}`),r):i}unitConverter(e){return new or.Z(e).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(e){return ur.verifyReceipt(this.arbundles,e)}static async verifyReceipt(e,t){const{id:r,deadlineHeight:n,timestamp:i,public:s,signature:o,version:a}=t,u=await e.deepHash([e.stringToBuffer("Bundlr"),e.stringToBuffer(a),e.stringToBuffer(r),e.stringToBuffer(n.toString()),e.stringToBuffer(i.toString())]);return await e.getCryptoDriver().verify(s,u,sr.toBuffer(o))}async getReceipt(e){const t=`query {\n      transactions(ids: ["${e}"]) {\n        edges {\n          node {\n            receipt {\n              signature\n              timestamp\n              version\n              deadlineHeight\n            }\n          }\n        }\n      }\n    }`,r=(await rr((async()=>await this.api.post("/graphql",{query:t},{headers:{"content-type":"application/json"},validateStatus:e=>200===e}))))?.data?.data?.transactions?.edges?.at(0)?.node?.receipt;if(!r)throw new Error(`Missing required receipt data from node for tx: ${e}`);const n={public:(await this.api.get("/public")).data,version:r.version,id:e,timestamp:r.timestamp,validatorSignatures:[],signature:r.signature,deadlineHeight:r.deadlineHeight,verify:async()=>!1};return n.verify=async()=>this.verifyReceipt(n),n}}var cr=r(48764).Buffer;function lr(e,t){return function(){return e.apply(t,arguments)}}var hr=r(34155),fr=Object.prototype.toString,dr=Object.getPrototypeOf,pr=function(e){return function(t){var r=fr.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null)),yr=function(e){return e=e.toLowerCase(),function(t){return pr(t)===e}},gr=function(e){return function(t){return f(t)===e}},mr=Array.isArray,wr=gr("undefined");var br=yr("ArrayBuffer");var vr=gr("string"),Er=gr("function"),_r=gr("number"),Sr=function(e){return null!==e&&"object"===f(e)},Ar=function(e){if("object"!==pr(e))return!1;var t=dr(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},xr=yr("Date"),Tr=yr("File"),kr=yr("Blob"),Rr=yr("FileList"),Pr=yr("URLSearchParams"),Cr=["ReadableStream","Request","Response","Headers"].map(yr),Mr=h(Cr,4),Or=Mr[0],Ur=Mr[1],Ir=Mr[2],Br=Mr[3];function Nr(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.allOwnKeys,o=void 0!==s&&s;if(null!=e)if("object"!==f(e)&&(e=[e]),mr(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{var a,u=o?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(r=0;r<c;r++)a=u[r],t.call(null,e[a],a,e)}}function Lr(e,t){t=t.toLowerCase();for(var r,n=Object.keys(e),i=n.length;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}var Dr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,qr=function(e){return!wr(e)&&e!==Dr};var Fr=function(e){return function(t){return e&&t instanceof e}}("undefined"!=typeof Uint8Array&&dr(Uint8Array)),Hr=yr("HTMLFormElement"),jr=function(e){var t=Object.prototype.hasOwnProperty;return function(e,r){return t.call(e,r)}}(),zr=yr("RegExp"),Kr=function(e,t){var r=Object.getOwnPropertyDescriptors(e),n={};Nr(r,(function(r,i){var s;!1!==(s=t(r,i,e))&&(n[i]=s||r)})),Object.defineProperties(e,n)},$r="abcdefghijklmnopqrstuvwxyz",Gr="0123456789",Vr={DIGIT:Gr,ALPHA:$r,ALPHA_DIGIT:$r+$r.toUpperCase()+Gr};var Wr=yr("AsyncFunction"),Jr=function(e,t){return e?setImmediate:t?function(e,t){return Dr.addEventListener("message",(function(r){var n=r.source,i=r.data;n===Dr&&i===e&&t.length&&t.shift()()}),!1),function(r){t.push(r),Dr.postMessage(e,"*")}}("axios@".concat(Math.random()),[]):function(e){return setTimeout(e)}}("function"==typeof setImmediate,Er(Dr.postMessage)),Xr="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Dr):void 0!==hr&&hr.nextTick||Jr,Zr={isArray:mr,isArrayBuffer:br,isBuffer:function(e){return null!==e&&!wr(e)&&null!==e.constructor&&!wr(e.constructor)&&Er(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||Er(e.append)&&("formdata"===(t=pr(e))||"object"===t&&Er(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&br(e.buffer)},isString:vr,isNumber:_r,isBoolean:function(e){return!0===e||!1===e},isObject:Sr,isPlainObject:Ar,isReadableStream:Or,isRequest:Ur,isResponse:Ir,isHeaders:Br,isUndefined:wr,isDate:xr,isFile:Tr,isBlob:kr,isRegExp:zr,isFunction:Er,isStream:function(e){return Sr(e)&&Er(e.pipe)},isURLSearchParams:Pr,isTypedArray:Fr,isFileList:Rr,forEach:Nr,merge:function e(){for(var t=qr(this)&&this||{},r=t.caseless,n={},i=function(t,i){var s=r&&Lr(n,i)||i;Ar(n[s])&&Ar(t)?n[s]=e(n[s],t):Ar(t)?n[s]=e({},t):mr(t)?n[s]=t.slice():n[s]=t},s=0,o=arguments.length;s<o;s++)arguments[s]&&Nr(arguments[s],i);return n},extend:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.allOwnKeys;return Nr(t,(function(t,n){r&&Er(t)?e[n]=lr(t,r):e[n]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var i,s,o,a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],n&&!n(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==r&&dr(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:pr,kindOfTest:yr,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(mr(e))return e;var t=e.length;if(!_r(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var i=r.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Hr,hasOwnProperty:jr,hasOwnProp:jr,reduceDescriptors:Kr,freezeMethods:function(e){Kr(e,(function(t,r){if(Er(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;var n=e[r];Er(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:function(e,t){var r={},n=function(e){e.forEach((function(e){r[e]=!0}))};return mr(e)?n(e):n(String(e).split(t)),r},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:Lr,global:Dr,isContextDefined:qr,ALPHABET:Vr,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr.ALPHA_DIGIT,r="",n=t.length;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&Er(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(r,n){if(Sr(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[n]=r;var i=mr(r)?[]:{};return Nr(r,(function(t,r){var s=e(t,n+1);!wr(s)&&(i[r]=s)})),t[n]=void 0,i}}return r}(e,0)},isAsyncFn:Wr,isThenable:function(e){return e&&(Sr(e)||Er(e))&&Er(e.then)&&Er(e.catch)},setImmediate:Jr,asap:Xr};function Yr(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Zr.inherits(Yr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Zr.toJSONObject(this.config),code:this.code,status:this.status}}});var Qr=Yr.prototype,en={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){en[e]={value:e}})),Object.defineProperties(Yr,en),Object.defineProperty(Qr,"isAxiosError",{value:!0}),Yr.from=function(e,t,r,n,i,s){var o=Object.create(Qr);return Zr.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Yr.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var tn=Yr,rn=r(48764).Buffer;function nn(e){return Zr.isPlainObject(e)||Zr.isArray(e)}function sn(e){return Zr.endsWith(e,"[]")?e.slice(0,-2):e}function on(e,t,r){return e?e.concat(t).map((function(e,t){return e=sn(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}var an=Zr.toFlatObject(Zr,{},null,(function(e){return/^is[A-Z]/.test(e)}));var un=function(e,t,r){if(!Zr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var n=(r=Zr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Zr.isUndefined(t[e])}))).metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&Zr.isSpecCompliantForm(t);if(!Zr.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(Zr.isDate(e))return e.toISOString();if(!a&&Zr.isBlob(e))throw new tn("Blob is not supported. Use a Buffer instead.");return Zr.isArrayBuffer(e)||Zr.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):rn.from(e):e}function c(e,r,i){var a=e;if(e&&!i&&"object"===f(e))if(Zr.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Zr.isArray(e)&&function(e){return Zr.isArray(e)&&!e.some(nn)}(e)||(Zr.isFileList(e)||Zr.endsWith(r,"[]"))&&(a=Zr.toArray(e)))return r=sn(r),a.forEach((function(e,n){!Zr.isUndefined(e)&&null!==e&&t.append(!0===o?on([r],n,s):null===o?r:r+"[]",u(e))})),!1;return!!nn(e)||(t.append(on(i,r,s),u(e)),!1)}var l=[],h=Object.assign(an,{defaultVisitor:c,convertValue:u,isVisitable:nn});if(!Zr.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Zr.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),Zr.forEach(r,(function(r,s){!0===(!(Zr.isUndefined(r)||null===r)&&i.call(t,r,Zr.isString(s)?s.trim():s,n,h))&&e(r,n?n.concat(s):[s])})),l.pop()}}(e),t};function cn(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ln(e,t){this._pairs=[],e&&un(e,this,t)}var hn=ln.prototype;hn.append=function(e,t){this._pairs.push([e,t])},hn.toString=function(e){var t=e?function(t){return e.call(this,t,cn)}:cn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var fn=ln;function dn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pn(e,t,r){if(!t)return e;var n=r&&r.encode||dn;Zr.isFunction(r)&&(r={serialize:r});var i,s=r&&r.serialize;if(i=s?s(t,r):Zr.isURLSearchParams(t)?t.toString():new fn(t,r).toString(n)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var yn=function(){function e(){le(this,e),this.handlers=[]}return he(e,[{key:"use",value:function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Zr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),gn=yn,mn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wn={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:fn,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},bn="undefined"!=typeof window&&"undefined"!=typeof document,vn="object"===("undefined"==typeof navigator?"undefined":f(navigator))&&navigator||void 0,En=bn&&(!vn||["ReactNative","NativeScript","NS"].indexOf(vn.product)<0),_n="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Sn=bn&&window.location.href||"http://localhost",An=Me(Me({},i),wn);var xn=function(e){function t(e,r,n,i){var s=e[i++];if("__proto__"===s)return!0;var o=Number.isFinite(+s),a=i>=e.length;return s=!s&&Zr.isArray(n)?n.length:s,a?(Zr.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o):(n[s]&&Zr.isObject(n[s])||(n[s]=[]),t(e,r,n[s],i)&&Zr.isArray(n[s])&&(n[s]=function(e){var t,r,n={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)n[r=i[t]]=e[r];return n}(n[s])),!o)}if(Zr.isFormData(e)&&Zr.isFunction(e.entries)){var r={};return Zr.forEachEntry(e,(function(e,n){t(function(e){return Zr.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),n,r,0)})),r}return null};var Tn={transitional:mn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var r,n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=Zr.isObject(e);if(s&&Zr.isHTMLForm(e)&&(e=new FormData(e)),Zr.isFormData(e))return i?JSON.stringify(xn(e)):e;if(Zr.isArrayBuffer(e)||Zr.isBuffer(e)||Zr.isStream(e)||Zr.isFile(e)||Zr.isBlob(e)||Zr.isReadableStream(e))return e;if(Zr.isArrayBufferView(e))return e.buffer;if(Zr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return un(e,new An.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return An.isNode&&Zr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=Zr.isFileList(e))||n.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return un(r?{"files[]":e}:e,o&&new o,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),function(e,t,r){if(Zr.isString(e))try{return(t||JSON.parse)(e),Zr.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Tn.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Zr.isResponse(e)||Zr.isReadableStream(e))return e;if(e&&Zr.isString(e)&&(r&&!this.responseType||n)){var i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw tn.from(e,tn.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Zr.forEach(["delete","get","head","post","put","patch"],(function(e){Tn.headers[e]={}}));var kn=Tn,Rn=Zr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pn=Symbol("internals");function Cn(e){return e&&String(e).trim().toLowerCase()}function Mn(e){return!1===e||null==e?e:Zr.isArray(e)?e.map(Mn):String(e)}function On(e,t,r,n,i){return Zr.isFunction(n)?n.call(this,t,r):(i&&(t=r),Zr.isString(t)?Zr.isString(n)?-1!==t.indexOf(n):Zr.isRegExp(n)?n.test(t):void 0:void 0)}var Un=function(e,t){function r(e){le(this,r),e&&this.set(e)}return he(r,[{key:"set",value:function(e,t,r){var n=this;function i(e,t,r){var i=Cn(t);if(!i)throw new Error("header name must be a non-empty string");var s=Zr.findKey(n,i);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Mn(e))}var s=function(e,t){return Zr.forEach(e,(function(e,r){return i(e,r,t)}))};if(Zr.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Zr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s(function(e){var t,r,n,i={};return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&Rn[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)})),i}(e),t);else if(Zr.isHeaders(e)){var o,a=je(e.entries());try{for(a.s();!(o=a.n()).done;){var u=h(o.value,2),c=u[0];i(u[1],c,r)}}catch(e){a.e(e)}finally{a.f()}}else null!=e&&i(t,e,r);return this}},{key:"get",value:function(e,t){if(e=Cn(e)){var r=Zr.findKey(this,e);if(r){var n=this[r];if(!t)return n;if(!0===t)return function(e){for(var t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=n.exec(e);)r[t[1]]=t[2];return r}(n);if(Zr.isFunction(t))return t.call(this,n,r);if(Zr.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Cn(e)){var r=Zr.findKey(this,e);return!(!r||void 0===this[r]||t&&!On(0,this[r],r,t))}return!1}},{key:"delete",value:function(e,t){var r=this,n=!1;function i(e){if(e=Cn(e)){var i=Zr.findKey(r,e);!i||t&&!On(0,r[i],i,t)||(delete r[i],n=!0)}}return Zr.isArray(e)?e.forEach(i):i(e),n}},{key:"clear",value:function(e){for(var t=Object.keys(this),r=t.length,n=!1;r--;){var i=t[r];e&&!On(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}},{key:"normalize",value:function(e){var t=this,r={};return Zr.forEach(this,(function(n,i){var s=Zr.findKey(r,i);if(s)return t[s]=Mn(n),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Mn(n),r[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.constructor).concat.apply(e,[this].concat(r))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Zr.forEach(this,(function(r,n){null!=r&&!1!==r&&(t[n]=e&&Zr.isArray(r)?r.join(", "):r)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=h(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Pn]=this[Pn]={accessors:{}}).accessors,r=this.prototype;function n(e){var n=Cn(e);t[n]||(!function(e,t){var r=Zr.toCamelCase(" "+t);["get","set","has"].forEach((function(n){Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return Zr.isArray(e)?e.forEach(n):n(e),this}}]),r}(Symbol.iterator,Symbol.toStringTag);Un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Zr.reduceDescriptors(Un.prototype,(function(e,t){var r=e.value,n=t[0].toUpperCase()+t.slice(1);return{get:function(){return r},set:function(e){this[n]=e}}})),Zr.freezeMethods(Un);var In=Un;function Bn(e,t){var r=this||kn,n=t||r,i=In.from(n.headers),s=n.data;return Zr.forEach(e,(function(e){s=e.call(r,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Nn(e){return!(!e||!e.__CANCEL__)}function Ln(e,t,r){tn.call(this,null==e?"canceled":e,tn.ERR_CANCELED,t,r),this.name="CanceledError"}Zr.inherits(Ln,tn,{__CANCEL__:!0});var Dn=Ln;function qn(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new tn("Request failed with status code "+r.status,[tn.ERR_BAD_REQUEST,tn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}var Fn=function(e,t){e=e||10;var r,n=new Array(e),i=new Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){var u=Date.now(),c=i[o];r||(r=u),n[s]=a,i[s]=u;for(var l=o,h=0;l!==s;)h+=n[l++],l%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),!(u-r<t)){var f=c&&u-c;return f?Math.round(1e3*h/f):void 0}}};var Hn=function(e,t){var r,n,i=0,s=1e3/t,o=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){for(var e=Date.now(),t=e-i,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];t>=s?o(u,e):(r=u,n||(n=setTimeout((function(){n=null,o(r)}),s-t)))},function(){return r&&o(r)}]},jn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0,i=Fn(50,250);return Hn((function(r){var s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,u=i(a);n=s;var c=tt({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&s<=o?(o-s)/u:void 0,event:r,lengthComputable:null!=o},t?"download":"upload",!0);e(c)}),r)},zn=function(e,t){var r=null!=e;return[function(n){return t[0]({lengthComputable:r,total:e,loaded:n})},t[1]]},Kn=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Zr.asap((function(){return e.apply(void 0,r)}))}},$n=An.hasStandardBrowserEnv?function(e,t){return function(r){return r=new URL(r,An.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)}}(new URL(An.origin),An.navigator&&/(msie|trident)/i.test(An.navigator.userAgent)):function(){return!0},Gn=An.hasStandardBrowserEnv?{write:function(e,t,r,n,i,s){var o=[e+"="+encodeURIComponent(t)];Zr.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Zr.isString(n)&&o.push("path="+n),Zr.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Vn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Wn=function(e){return e instanceof In?Me({},e):e};function Jn(e,t){t=t||{};var r={};function n(e,t,r,n){return Zr.isPlainObject(e)&&Zr.isPlainObject(t)?Zr.merge.call({caseless:n},e,t):Zr.isPlainObject(t)?Zr.merge({},t):Zr.isArray(t)?t.slice():t}function i(e,t,r,i){return Zr.isUndefined(t)?Zr.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function s(e,t){if(!Zr.isUndefined(t))return n(void 0,t)}function o(e,t){return Zr.isUndefined(t)?Zr.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,s){return s in t?n(r,i):s in e?n(void 0,r):void 0}var u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:function(e,t,r){return i(Wn(e),Wn(t),0,!0)}};return Zr.forEach(Object.keys(Object.assign({},e,t)),(function(n){var s=u[n]||i,o=s(e[n],t[n],n);Zr.isUndefined(o)&&s!==a||(r[n]=o)})),r}var Xn=function(e){var t,r=Jn({},e),n=r.data,i=r.withXSRFToken,s=r.xsrfHeaderName,o=r.xsrfCookieName,a=r.headers,u=r.auth;if(r.headers=a=In.from(a),r.url=pn(Vn(r.baseURL,r.url),e.params,e.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Zr.isFormData(n))if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(t=a.getContentType())){var c=t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[],l=ut(c),h=l[0],f=l.slice(1);a.setContentType([h||"multipart/form-data"].concat(at(f)).join("; "))}if(An.hasStandardBrowserEnv&&(i&&Zr.isFunction(i)&&(i=i(r)),i||!1!==i&&$n(r.url))){var d=s&&o&&Gn.read(o);d&&a.set(s,d)}return r},Zn="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){var n,i,s,o,a,u=Xn(e),c=u.data,l=In.from(u.headers).normalize(),f=u.responseType,d=u.onUploadProgress,p=u.onDownloadProgress;function y(){o&&o(),a&&a(),u.cancelToken&&u.cancelToken.unsubscribe(n),u.signal&&u.signal.removeEventListener("abort",n)}var g=new XMLHttpRequest;function m(){if(g){var n=In.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());qn((function(e){t(e),y()}),(function(e){r(e),y()}),{data:f&&"text"!==f&&"json"!==f?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}}if(g.open(u.method.toUpperCase(),u.url,!0),g.timeout=u.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(r(new tn("Request aborted",tn.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new tn("Network Error",tn.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){var t=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",n=u.transitional||mn;u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),r(new tn(t,n.clarifyTimeoutError?tn.ETIMEDOUT:tn.ECONNABORTED,e,g)),g=null},void 0===c&&l.setContentType(null),"setRequestHeader"in g&&Zr.forEach(l.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Zr.isUndefined(u.withCredentials)||(g.withCredentials=!!u.withCredentials),f&&"json"!==f&&(g.responseType=u.responseType),p){var w=jn(p,!0),b=h(w,2);s=b[0],a=b[1],g.addEventListener("progress",s)}if(d&&g.upload){var v=jn(d),E=h(v,2);i=E[0],o=E[1],g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",o)}(u.cancelToken||u.signal)&&(n=function(t){g&&(r(!t||t.type?new Dn(null,e,g):t),g.abort(),g=null)},u.cancelToken&&u.cancelToken.subscribe(n),u.signal&&(u.signal.aborted?n():u.signal.addEventListener("abort",n)));var _,S,A=(_=u.url,(S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_))&&S[1]||"");A&&-1===An.protocols.indexOf(A)?r(new tn("Unsupported protocol "+A+":",tn.ERR_BAD_REQUEST,e)):g.send(c||null)}))},Yn=function(e,t){var r=(e=e?e.filter(Boolean):[]).length;if(t||r){var n,i=new AbortController,s=function(e){if(!n){n=!0,a();var t=e instanceof Error?e:this.reason;i.abort(t instanceof tn?t:new Dn(t instanceof Error?t.message:t))}},o=t&&setTimeout((function(){o=null,s(new tn("timeout ".concat(t," of ms exceeded"),tn.ETIMEDOUT))}),t),a=function(){e&&(o&&clearTimeout(o),o=null,e.forEach((function(e){e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((function(e){return e.addEventListener("abort",s)}));var u=i.signal;return u.unsubscribe=function(){return Zr.asap(a)},u}},Qn=ue().mark((function e(t,r){var n,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.byteLength,r&&!(n<r)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:i=0;case 6:if(!(i<n)){e.next=13;break}return s=i+r,e.next=10,t.slice(i,s);case 10:i=s,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),ei=function(){var e=bt(ue().mark((function e(t,r){var n,i,s,o,a,u;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,o=_t(ti(t));case 4:return e.next=6,vt(o.next());case 6:if(!(n=!(a=e.sent).done)){e.next=12;break}return u=a.value,e.delegateYield(Et(_t(Qn(u,r)),vt),"t0",9);case 9:n=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),i=!0,s=e.t1;case 18:if(e.prev=18,e.prev=19,!n||null==o.return){e.next=23;break}return e.next=23,vt(o.return());case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t,r){return e.apply(this,arguments)}}(),ti=function(){var e=bt(ue().mark((function e(t){var r,n,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[Symbol.asyncIterator]){e.next=3;break}return e.delegateYield(Et(_t(t),vt),"t0",2);case 2:return e.abrupt("return");case 3:r=t.getReader(),e.prev=4;case 5:return e.next=7,vt(r.read());case 7:if(n=e.sent,i=n.done,s=n.value,!i){e.next=12;break}return e.abrupt("break",16);case 12:return e.next=14,s;case 14:e.next=5;break;case 16:return e.prev=16,e.next=19,vt(r.cancel());case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),ri=function(e,t,r,n){var i,s=ei(e,t),o=0,a=function(e){i||(i=!0,n&&n(e))};return new ReadableStream({pull:function(e){return ce(ue().mark((function t(){var n,i,u,c,l;return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.next();case 3:if(n=t.sent,i=n.done,u=n.value,!i){t.next=10;break}return a(),e.close(),t.abrupt("return");case 10:c=u.byteLength,r&&(l=o+=c,r(l)),e.enqueue(new Uint8Array(u)),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(0),a(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return a(e),s.return()}},{highWaterMark:2})},ni="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,ii=ni&&"function"==typeof ReadableStream,si=ni&&("function"==typeof TextEncoder?function(e){return function(t){return e.encode(t)}}(new TextEncoder):function(){var e=ce(ue().mark((function e(t){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oi=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e.apply(void 0,r)}catch(e){return!1}},ai=ii&&oi((function(){var e=!1,t=new Request(An.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),ui=ii&&oi((function(){return Zr.isReadableStream(new Response("").body)})),ci={stream:ui&&function(e){return e.body}};ni&&function(e){["text","arrayBuffer","blob","formData","stream"].forEach((function(t){!ci[t]&&(ci[t]=Zr.isFunction(e[t])?function(e){return e[t]()}:function(e,r){throw new tn("Response type '".concat(t,"' is not supported"),tn.ERR_NOT_SUPPORT,r)})}))}(new Response);var li=function(){var e=ce(ue().mark((function e(t){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!Zr.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!Zr.isSpecCompliantForm(t)){e.next=9;break}return r=new Request(An.origin,{method:"POST",body:t}),e.next=8,r.arrayBuffer();case 8:case 15:return e.abrupt("return",e.sent.byteLength);case 9:if(!Zr.isArrayBufferView(t)&&!Zr.isArrayBuffer(t)){e.next=11;break}return e.abrupt("return",t.byteLength);case 11:if(Zr.isURLSearchParams(t)&&(t+=""),!Zr.isString(t)){e.next=16;break}return e.next=15,si(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hi=function(){var e=ce(ue().mark((function e(t,r){var n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zr.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==n?li(r):n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),fi=ni&&function(){var e=ce(ue().mark((function e(t){var r,n,i,s,o,a,u,c,l,f,d,p,y,g,m,w,b,v,E,_,S,A,x,T,k,R,P,C,M,O,U,I,B,N;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xn(t),n=r.url,i=r.method,s=r.data,o=r.signal,a=r.cancelToken,u=r.timeout,c=r.onDownloadProgress,l=r.onUploadProgress,f=r.responseType,d=r.headers,p=r.withCredentials,y=void 0===p?"same-origin":p,g=r.fetchOptions,f=f?(f+"").toLowerCase():"text",m=Yn([o,a&&a.toAbortSignal()],u),b=m&&m.unsubscribe&&function(){m.unsubscribe()},e.prev=4,e.t0=l&&ai&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,hi(d,s);case 9:e.t1=v=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}E=new Request(n,{method:"POST",body:s,duplex:"half"}),Zr.isFormData(s)&&(_=E.headers.get("content-type"))&&d.setContentType(_),E.body&&(S=zn(v,jn(Kn(l))),A=h(S,2),x=A[0],T=A[1],s=ri(E.body,65536,x,T));case 15:return Zr.isString(y)||(y=y?"include":"omit"),k="credentials"in Request.prototype,w=new Request(n,Me(Me({},g),{},{signal:m,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:k?y:void 0})),e.next=20,fetch(w);case 20:return R=e.sent,P=ui&&("stream"===f||"response"===f),ui&&(c||P&&b)&&(C={},["status","statusText","headers"].forEach((function(e){C[e]=R[e]})),M=Zr.toFiniteNumber(R.headers.get("content-length")),O=c&&zn(M,jn(Kn(c),!0))||[],U=h(O,2),I=U[0],B=U[1],R=new Response(ri(R.body,65536,I,(function(){B&&B(),b&&b()})),C)),f=f||"text",e.next=26,ci[Zr.findKey(ci,f)||"text"](R,t);case 26:return N=e.sent,!P&&b&&b(),e.next=30,new Promise((function(e,r){qn(e,r,{data:N,headers:In.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:w})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),b&&b(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new tn("Network Error",tn.ERR_NETWORK,t,w),{cause:e.t2.cause||e.t2});case 38:throw tn.from(e.t2,e.t2&&e.t2.code,t,w);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),di={http:null,xhr:Zn,fetch:fi};Zr.forEach(di,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var pi=function(e){return"- ".concat(e)},yi=function(e){return Zr.isFunction(e)||null===e||!1===e},gi=function(e){for(var t,r,n=(e=Zr.isArray(e)?e:[e]).length,i={},s=0;s<n;s++){var o=void 0;if(r=t=e[s],!yi(t)&&void 0===(r=di[(o=String(t)).toLowerCase()]))throw new tn("Unknown adapter '".concat(o,"'"));if(r)break;i[o||"#"+s]=r}if(!r){var a=Object.entries(i).map((function(e){var t=h(e,2),r=t[0],n=t[1];return"adapter ".concat(r," ")+(!1===n?"is not supported by the environment":"is not available in the build")})),u=n?a.length>1?"since :\n"+a.map(pi).join("\n"):" "+pi(a[0]):"as no adapter specified";throw new tn("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r};function mi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dn(null,e)}function wi(e){return mi(e),e.headers=In.from(e.headers),e.data=Bn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gi(e.adapter||kn.adapter)(e).then((function(t){return mi(e),t.data=Bn.call(e,e.transformResponse,t),t.headers=In.from(t.headers),t}),(function(t){return Nn(t)||(mi(e),t&&t.response&&(t.response.data=Bn.call(e,e.transformResponse,t.response),t.response.headers=In.from(t.response.headers))),Promise.reject(t)}))}var bi="1.7.9",vi={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){vi[e]=function(r){return f(r)===e||"a"+(t<1?"n ":" ")+e}}));var Ei={};vi.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,s){if(!1===e)throw new tn(n(i," has been removed"+(t?" in "+t:"")),tn.ERR_DEPRECATED);return t&&!Ei[i]&&(Ei[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}},vi.spelling=function(e){return function(t,r){return console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0}};var _i={assertOptions:function(e,t,r){if("object"!==f(e))throw new tn("options must be an object",tn.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var s=n[i],o=t[s];if(o){var a=e[s],u=void 0===a||o(a,s,e);if(!0!==u)throw new tn("option "+s+" must be "+u,tn.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new tn("Unknown option "+s,tn.ERR_BAD_OPTION)}},validators:vi},Si=_i.validators,Ai=function(){function e(t){le(this,e),this.defaults=t,this.interceptors={request:new gn,response:new gn}}var t;return he(e,[{key:"request",value:(t=ce(ue().mark((function e(t,r){var n,i;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,r);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){n={},Error.captureStackTrace?Error.captureStackTrace(n):n=new Error,i=n.stack?n.stack.replace(/^.+\n/,""):"";try{e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i}catch(e){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,r){return t.apply(this,arguments)})},{key:"_request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var r=t=Jn(this.defaults,t),n=r.transitional,i=r.paramsSerializer,s=r.headers;void 0!==n&&_i.assertOptions(n,{silentJSONParsing:Si.transitional(Si.boolean),forcedJSONParsing:Si.transitional(Si.boolean),clarifyTimeoutError:Si.transitional(Si.boolean)},!1),null!=i&&(Zr.isFunction(i)?t.paramsSerializer={serialize:i}:_i.assertOptions(i,{encode:Si.function,serialize:Si.function},!0)),_i.assertOptions(t,{baseUrl:Si.spelling("baseURL"),withXsrfToken:Si.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=s&&Zr.merge(s.common,s[t.method]);s&&Zr.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete s[e]})),t.headers=In.concat(o,s);var a=[],u=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var h,f=0;if(!u){var d=[wi.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,l),h=d.length,c=Promise.resolve(t);f<h;)c=c.then(d[f++],d[f++]);return c}h=a.length;var p=t;for(f=0;f<h;){var y=a[f++],g=a[f++];try{p=y(p)}catch(e){g.call(this,e);break}}try{c=wi.call(this,p)}catch(e){return Promise.reject(e)}for(f=0,h=l.length;f<h;)c=c.then(l[f++],l[f++]);return c}},{key:"getUri",value:function(e){return pn(Vn((e=Jn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Zr.forEach(["delete","get","head","options"],(function(e){Ai.prototype[e]=function(t,r){return this.request(Jn(r||{},{method:e,url:t,data:(r||{}).data}))}})),Zr.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Jn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Ai.prototype[e]=t(),Ai.prototype[e+"Form"]=t(!0)}));var xi=Ai,Ti=function(){function e(t){if(le(this,e),"function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length;t-- >0;)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},t((function(e,t,i){n.reason||(n.reason=new Dn(e,t,i),r(n.reason))}))}return he(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var e=this,t=new AbortController,r=function(e){t.abort(e)};return this.subscribe(r),t.signal.unsubscribe=function(){return e.unsubscribe(r)},t.signal}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),ki=Ti;var Ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ri).forEach((function(e){var t=h(e,2),r=t[0],n=t[1];Ri[n]=r}));var Pi=Ri;var Ci=function e(t){var r=new xi(t),n=lr(xi.prototype.request,r);return Zr.extend(n,xi.prototype,r,{allOwnKeys:!0}),Zr.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Jn(t,r))},n}(kn);Ci.Axios=xi,Ci.CanceledError=Dn,Ci.CancelToken=ki,Ci.isCancel=Nn,Ci.VERSION=bi,Ci.toFormData=un,Ci.AxiosError=tn,Ci.Cancel=Ci.CanceledError,Ci.all=function(e){return Promise.all(e)},Ci.spread=function(e){return function(t){return e.apply(null,t)}},Ci.isAxiosError=function(e){return Zr.isObject(e)&&!0===e.isAxiosError},Ci.mergeConfig=Jn,Ci.AxiosHeaders=In,Ci.formToJSON=function(e){return xn(Zr.isHTMLForm(e)?new FormData(e):e)},Ci.getAdapter=gi,Ci.HttpStatusCode=Pi,Ci.default=Ci;var Mi=Ci,Oi=r(42830);class Ui{queryVars={};queryFields;queryInfo;_query;url;config;resultTracker={numPages:0,numResults:0,done:!1};constructor({url:e,retryConfig:t,query:r,queryName:n,opts:i}){if(!e)throw new Error("URL is required");if(this.url=new URL(e),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...t}},!1===r)return this;if(!r)throw new Error(`Unable to find query with name ${n}`);if(this.queryInfo={...r},this.queryFields=r.query,n.includes("arweave")&&"node1.bundlr.network"===this.url.host&&(this.url=new URL("https://arweave.net/graphql")),!i?.skipVariableSetters)for(const e of Object.keys(r.vars)){if(this[e])throw new Error(`Field setter ${e} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[e]=t=>(this.queryVars[e]=t,this)}return this}buildQuery(){if(this.config.userProvided)return this;const e=e=>JSON.stringify(e,((e,t)=>t instanceof Array?t[0]:"object"==typeof t?t:!1!==t?"":void 0)).replaceAll(":","").replaceAll('"',"").replaceAll(",","\n          "),t=e(this.queryFields),r=e({pageInfo:{[this.queryInfo.paging?.hasNextPage??"hasNextPage"]:void 0}}).slice(1,-1),n=this.queryInfo.enumValues,i={...this.queryInfo.vars,...this.queryVars};for(const[e,t]of Object.entries(this.queryInfo.remapVars??{}))if(void 0!==i?.[e]){if("function"==typeof t){const r=t(e,i[e],i);if(!r)continue;const[n,s]=r;if(i[n]=s,n===e)continue}else i[t]=i[e];i[e]=void 0}const s=JSON.stringify(i,(function(e,t){return void 0===t||t instanceof Array||"object"==typeof t||"number"==typeof t||n?.includes(e)?t:`'${t}'`})).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!this?.queryInfo?.name)throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {\n      ${this.queryInfo.name}(\n        ${s}\n      ) {\n        edges {\n          cursor\n          node ${t}\n        }\n        ${r}\n      }\n    }`:`query {\n    ${this.queryInfo.name}(\n      ${s}\n    ) \n    ${t}\n  }`;return this._query=o,this}async getPage(){if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let e;try{e=await rr((async e=>{const t=await Mi(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(t.data.errors)throw t;return t}),this.config.retryOpts)}catch(e){throw new Error(`Error running query\n ${this._query} - ${e.message?e.message+" -":""} (${JSON.stringify(e?.data?.errors.map((e=>e.message))??e?.errors??e)}) `)}if(this.config.userProvided)return this.trimmer([e.data.data].flat(20));const t=e.data.data[this.queryInfo.name];if(this.queryInfo.paging){const e=t.pageInfo[this.queryInfo.paging.hasNextPage]?t.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=e,this.trimmer(t.edges.map((e=>e.node)))}return this.trimmer([t].flat(20))}trimmer(e){const t=++this.resultTracker.numPages,r=this.resultTracker.numResults+=e.length;if(0===e.length)return this.resultTracker.done=!0,e;if(t>=this?.config?.numPages&&(this.resultTracker.done=!0),r>=this?.config?.numResults){this.resultTracker.done=!0;const t=this.config.numResults-(r-e.length);return e.slice(0,t)}return e}async first(){return(await this.getPage())?.at(0)??void 0}maxPages(e){return this.config.numPages=e,this}limit(e){return this.config.numResults=e,this}async all(){const e=[];do{const t=await this.getPage();if(!t)break;e.push(...t)}while(this.queryVars.after);return e}async*generator(){do{const e=await this.getPage();if(!e)return;for(const t of e)yield t}while(this.queryVars.after)}stream(){return Oi.Readable.from(this.generator())}query(e){return this._query=e,this.config.userProvided=!0,this}fields(e,t=!1){const r=(e,t,n)=>{for(const i of Object.keys(n)){let s=t[i];Array.isArray(s)&&(s=s[0]);const o=n[i];if(void 0===s)throw new Error(`Illegal field ${e}${i}`);"object"==typeof o&&r(e+i+".",s,o)}};return t||r("",this.queryFields,e),this.queryFields=e,this}variables(e){return this.queryVars={...this.queryVars,...e},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(e,t){return this.all().then(e,t)}async catch(e){return this.then().catch(e)}async finally(e){return this.then().finally(e)}}const Ii={id:"",timestamp:0,height:"",previous:""},Bi={id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},Ni={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(e,t,r)=>{r.timestamp={...r.timestamp,from:new Date(t).getTime()},r.fromTimestamp=void 0},toTimestamp:(e,t,r)=>{r.timestamp={...r.timestamp,to:new Date(t).getTime()},r.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:Bi,enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(e,t)=>[e,"ASC"===t?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(e,t,r)=>{r.block={...r.block,min:t},r.minHeight=void 0},maxHeight:(e,t,r)=>{r.block={...r.block,max:t},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":{name:"blocks",query:Ii,vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(e,t)=>[e,"ASC"===t?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(e,t,r)=>{r.height={...r.height,min:t},r.minHeight=void 0},maxHeight:(e,t,r)=>{r.height={...r.height,max:t},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}}};class Li{opts;constructor(e={url:new URL("https://node1.bundlr.network/graphql")}){if(!e.url)throw new Error("URL is required");e.url=new URL(e.url),this.opts=e}search(e,t){const r=t?.query??Ni[e];return new Ui({...this.opts,query:r,queryName:e})}}class Di{api;utils;uploader;funder;address;token;tokenConfig;provenance;transactions;_readyPromise;url;arbundles;IrysTransaction;static VERSION="0.0.2";constructor({url:e,arbundles:t}){this.url=e,this.arbundles=t,this.IrysTransaction=function(e){class t extends e.arbundles.DataItem{Irys;signer;constructor(e,t,r){super(!0===r?.dataIsRawTransaction?ir.from(e):t.arbundles.createData(e,t.tokenConfig.getSigner(),{...r,anchor:r?.anchor??nr.randomBytes(32).toString("base64").slice(0,32)}).getRaw()),this.Irys=t,this.signer=t.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(e){return(await this.Irys.uploader.uploadTransaction(this,{...e,getReceiptSignature:!0})).data}async upload(e){return(await this.Irys.uploader.uploadTransaction(this,e)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return e.arbundles.DataItem.verify(this.getRaw())}}return t}(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const e=new Li({url:new URL("/graphql",this.url)});return e.search.bind(e)}query(e){return new Li(e??{url:this.url})}async withdrawBalance(e){return async function(e,t,r){const n=e.tokenConfig,{deepHash:i,stringToBuffer:s}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:e.token,amount:new or.Z(r).toString(),nonce:await e.getNonce(),signature:"",sigType:n.getSigner().signatureType},a=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);cr.isBuffer(o.publicKey)||(o.publicKey=cr.from(o.publicKey));const u=await n.sign(a),c=await n.verify(o.publicKey,a,u);o.publicKey=sr.encode(o.publicKey),o.signature=sr.encode(cr.from(u));const l=sr.toBuffer(o.publicKey),h=sr.toBuffer(o.signature),f=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),d=await n.verify(l,f,h),p=n.ownerToAddress("arweave"==n.name?sr.decode(o.publicKey):sr.toBuffer(o.publicKey))===n.address;if(!(c||d||p))throw new Error(`Internal withdrawal validation failed - please report this!\nDebug Info:${JSON.stringify(o)}`);const y=await t.post("/account/withdraw",o);if(202===y.status){const t=y.data.tx_id,r=await e.confirmationPoll(t);if(!0!==r)throw new Error(`Unable to confirm withdrawal tx ${t} ${r?r?.toString():""}`)}else ur.checkAndThrow(y,"Withdrawing balance");return y.data}(this.utils,this.api,e)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,t){return this.funder.fund(e,t)}async getPrice(e){return this.utils.getPrice(this.token,e)}async verifyReceipt(e){return ur.verifyReceipt(this.arbundles,e)}createTransaction(e,t){return new this.IrysTransaction(e,this,t)}getSigner(){return this.tokenConfig.getSigner()}async upload(e,t){return this.uploader.uploadData(e,t)}async uploadWithReceipt(e,t){return this.uploader.uploadData(e,{...t,upload:{getReceiptSignature:!0}})}async ready(){return!this.tokenConfig.ready||await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const e=this;return{fromRaw(t){return new e.IrysTransaction(t,e,{dataIsRawTransaction:!0})}}}}class qi{_instance;cookieMap=new Map;config;constructor(e){e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const t=this.cookieMap.get(new URL(e.baseURL??"").host);return t&&(e.headers.cookie=t),e}async responseInterceptor(e){const t=e.headers?.["set-cookie"];return t&&this.cookieMap.set(e.request.host,t),e}mergeDefaults(e){return{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-js-sdk-version":Di.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){try{return await this.request(e,{...t,method:"GET"})}catch(e){if(e.response?.status)return e.response;throw e}}async post(e,t,r){try{return await this.request(e,{data:t,...r,method:"POST"})}catch(e){if(e.response?.status)return e.response;throw e}}get instance(){if(this._instance)return this._instance;const e=tr.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:536870912,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use((e=>(this.config.logger(`Requesting: ${e.baseURL}/${e.url}`),e))),e.interceptors.response.use((e=>(this.config.logger(`Response: ${e.config.url} - ${e.status}`),e)))),this._instance=e}async request(e,t){const r=this.instance,n=t?.url??new URL(e,this.config.url).toString();return rr((e=>r({...t,url:n})),{...this.config.retry,...t?.retry})}}class Fi{utils;constructor(e){this.utils=e}async fund(e,t=1){const r=new or.Z(e);if(!r.isInteger())throw new Error("must use an integer for funding amount");const n=this.utils.tokenConfig,i=await this.utils.getBundlerAddress(this.utils.token);let s;if(n.needsFee){const e=await n.getFee("winston"===n.base[0]?0:r,i);s=or.Z.isBigNumber(e)?e.multipliedBy(t).integerValue(or.Z.ROUND_CEIL):e}const o=await n.createTx(r,i,s);let a;try{a=await n.sendTx(o.tx)}catch(e){throw e}if(o.txId??=a,!o.txId)throw new Error("Undefined transaction ID");ur.checkAndThrow(a,`Sending transaction to the ${this.utils.token} network`);let u=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch((e=>{u=e})))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! \n ${u?` - ${u?.message??u}`:""}`);return{reward:or.Z.isBigNumber(s)?s.toString():JSON.stringify(s),target:i,quantity:r.toString(),id:o.txId}}async submitTransaction(e){return await rr((async()=>{const t=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:e});return ur.checkAndThrow(t,`Posting transaction ${e} information to the bundler`,[202]),t}),{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(e){return this.submitTransaction(e)}}var Hi=r(13550),ji=r.n(Hi);let zi=!1,Ki=!1;const $i={debug:1,default:2,info:2,warning:3,error:4,off:5};let Gi=$i.default,Vi=null;const Wi=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Ji,Xi;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Ji||(Ji={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(Xi||(Xi={}));const Zi="0123456789abcdef";class Yi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==$i[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Gi>$i[r]||console.log.apply(console,t)}debug(...e){this._log(Yi.levels.DEBUG,e)}info(...e){this._log(Yi.levels.INFO,e)}warn(...e){this._log(Yi.levels.WARNING,e)}makeError(e,t,r){if(Ki)return this.makeError("censored error",t,{});t||(t=Yi.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Zi[t[e]>>4],r+=Zi[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let s="";switch(t){case Xi.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Xi.CALL_EXCEPTION:case Xi.INSUFFICIENT_FUNDS:case Xi.MISSING_NEW:case Xi.NONCE_EXPIRED:case Xi.REPLACEMENT_UNDERPRICED:case Xi.TRANSACTION_REPLACED:case Xi.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Yi.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),Wi&&this.throwError("platform missing String.prototype.normalize",Yi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Wi})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Yi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Yi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Yi.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Yi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Yi.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Yi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Yi.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Vi||(Vi=new Yi("logger/5.7.0")),Vi}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Yi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),zi){if(!e)return;this.globalLogger().throwError("error censorship permanent",Yi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ki=!!e,zi=!!t}static setLogLevel(e){const t=$i[e.toLowerCase()];null!=t?Gi=t:Yi.globalLogger().warn("invalid log level - "+e)}static from(e){return new Yi(e)}}Yi.errors=Xi,Yi.levels=Ji;const Qi=new Yi("bytes/5.7.0");function es(e){return!!e.toHexString}function ts(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return ts(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function rs(e){return us(e)&&!(e.length%2)||is(e)}function ns(e){return"number"==typeof e&&e==e&&e%1==0}function is(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!ns(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!ns(r)||r<0||r>=256)return!1}return!0}function ss(e,t){if(t||(t={}),"number"==typeof e){Qi.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),ts(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),es(e)&&(e=e.toHexString()),us(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":Qi.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return ts(new Uint8Array(n))}return is(e)?ts(new Uint8Array(e)):Qi.throwArgumentError("invalid arrayify value","value",e)}function os(e){const t=e.map((e=>ss(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),ts(n)}function as(e){let t=ss(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function us(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const cs="0123456789abcdef";function ls(e,t){if(t||(t={}),"number"==typeof e){Qi.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=cs[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),es(e))return e.toHexString();if(us(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":Qi.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(is(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=cs[(240&n)>>4]+cs[15&n]}return t}return Qi.throwArgumentError("invalid hexlify value","value",e)}function hs(e){if("string"!=typeof e)e=ls(e);else if(!us(e)||e.length%2)return null;return(e.length-2)/2}function fs(e,t,r){return"string"!=typeof e?e=ls(e):(!us(e)||e.length%2)&&Qi.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function ds(e){let t="0x";return e.forEach((e=>{t+=ls(e).substring(2)})),t}function ps(e,t){for("string"!=typeof e?e=ls(e):us(e)||Qi.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Qi.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function ys(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(rs(e)){let r=ss(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=ls(r.slice(0,32)),t.s=ls(r.slice(32,64))):65===r.length?(t.r=ls(r.slice(0,32)),t.s=ls(r.slice(32,64)),t.v=r[64]):Qi.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:Qi.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=ls(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=function(e,t){(e=ss(e)).length>t&&Qi.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),ts(r)}(ss(t._vs),32);t._vs=ls(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&Qi.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=ls(r);null==t.s?t.s=i:t.s!==i&&Qi.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?Qi.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&Qi.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&us(t.r)?t.r=ps(t.r,32):Qi.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&us(t.s)?t.s=ps(t.s,32):Qi.throwArgumentError("signature missing or invalid s","signature",e);const r=ss(t.s);r[0]>=128&&Qi.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=ls(r);t._vs&&(us(t._vs)||Qi.throwArgumentError("signature invalid _vs","signature",e),t._vs=ps(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&Qi.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function gs(e){return ls(os([(e=ys(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var ms=ji().BN;const ws=new Yi("bignumber/5.7.0"),bs={},vs=9007199254740991;let Es=!1;class _s{constructor(e,t){e!==bs&&ws.throwError("cannot call constructor directly; use BigNumber.from",Yi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return As(xs(this).fromTwos(e))}toTwos(e){return As(xs(this).toTwos(e))}abs(){return"-"===this._hex[0]?_s.from(this._hex.substring(1)):this}add(e){return As(xs(this).add(xs(e)))}sub(e){return As(xs(this).sub(xs(e)))}div(e){return _s.from(e).isZero()&&Ts("division-by-zero","div"),As(xs(this).div(xs(e)))}mul(e){return As(xs(this).mul(xs(e)))}mod(e){const t=xs(e);return t.isNeg()&&Ts("division-by-zero","mod"),As(xs(this).umod(t))}pow(e){const t=xs(e);return t.isNeg()&&Ts("negative-power","pow"),As(xs(this).pow(t))}and(e){const t=xs(e);return(this.isNegative()||t.isNeg())&&Ts("unbound-bitwise-result","and"),As(xs(this).and(t))}or(e){const t=xs(e);return(this.isNegative()||t.isNeg())&&Ts("unbound-bitwise-result","or"),As(xs(this).or(t))}xor(e){const t=xs(e);return(this.isNegative()||t.isNeg())&&Ts("unbound-bitwise-result","xor"),As(xs(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Ts("negative-width","mask"),As(xs(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ts("negative-width","shl"),As(xs(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ts("negative-width","shr"),As(xs(this).shrn(e))}eq(e){return xs(this).eq(xs(e))}lt(e){return xs(this).lt(xs(e))}lte(e){return xs(this).lte(xs(e))}gt(e){return xs(this).gt(xs(e))}gte(e){return xs(this).gte(xs(e))}isNegative(){return"-"===this._hex[0]}isZero(){return xs(this).isZero()}toNumber(){try{return xs(this).toNumber()}catch(e){Ts("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return ws.throwError("this platform does not support BigInt",Yi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Es||(Es=!0,ws.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ws.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Yi.errors.UNEXPECTED_ARGUMENT,{}):ws.throwError("BigNumber.toString does not accept parameters",Yi.errors.UNEXPECTED_ARGUMENT,{})),xs(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof _s)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new _s(bs,Ss(e)):e.match(/^-?[0-9]+$/)?new _s(bs,Ss(new ms(e))):ws.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&Ts("underflow","BigNumber.from",e),(e>=vs||e<=-vs)&&Ts("overflow","BigNumber.from",e),_s.from(String(e));const t=e;if("bigint"==typeof t)return _s.from(t.toString());if(is(t))return _s.from(ls(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return _s.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(us(e)||"-"===e[0]&&us(e.substring(1))))return _s.from(e)}return ws.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function Ss(e){if("string"!=typeof e)return Ss(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&ws.throwArgumentError("invalid hex","value",e),"0x00"===(e=Ss(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function As(e){return _s.from(Ss(e))}function xs(e){const t=_s.from(e).toHexString();return"-"===t[0]?new ms("-"+t.substring(3),16):new ms(t.substring(2),16)}function Ts(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),ws.throwError(e,Yi.errors.NUMERIC_FAULT,n)}class ks{publicKey;signatureType;signatureLength;ownerLength;pem;static verify(e,t,r,n){throw new Error("You must implement verify method on child")}}var Rs;!function(e){e[e.ARWEAVE=1]="ARWEAVE",e[e.ED25519=2]="ED25519",e[e.ETHEREUM=3]="ETHEREUM",e[e.SOLANA=4]="SOLANA",e[e.INJECTEDAPTOS=5]="INJECTEDAPTOS",e[e.MULTIAPTOS=6]="MULTIAPTOS",e[e.TYPEDETHEREUM=7]="TYPEDETHEREUM"}(Rs||(Rs={}));const Ps={[Rs.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[Rs.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[Rs.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[Rs.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[Rs.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[Rs.MULTIAPTOS]:{sigLength:2052,pubLength:1025,sigName:"multiAptos"},[Rs.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};var Cs=r(15866),Ms=r(48764).Buffer;class Os{_key;pk;ownerLength=Ps[2].pubLength;signatureLength=Ps[2].sigLength;_publicKey;get publicKey(){return this._publicKey}signatureType=2;constructor(e,t){this._key=e,this.pk=t}get key(){throw new Error("You must implement `key`")}sign(e){return(0,Cs.Xx)(Ms.from(e),Ms.from(this.key))}static async verify(e,t,r){let n=e;return"string"==typeof e&&(n=sr.toBuffer(e)),(0,Cs.T)(Ms.from(r),Ms.from(t),Ms.from(n))}}var Us=r(79742);function Is(e){let t=0;for(const r of e)t+=r.byteLength;const r=new Uint8Array(t);let n=0;r.set(new Uint8Array(e[0]),n),n+=e[0].byteLength;for(let t=1;t<e.length;t++)r.set(new Uint8Array(e[t]),n),n+=e[t].byteLength;return r}function Bs(e){return Ns(qs(e))}function Ns(e){return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function Ls(e){return(new TextEncoder).encode(e)}function Ds(e){return Hs(Ls(e))}function qs(e){return new Uint8Array((0,Us.toByteArray)(zs(e)))}function Fs(e){return(0,Us.fromByteArray)(new Uint8Array(e))}function Hs(e){return js(Fs(e))}function js(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function zs(e){let t;return t=(e=e.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-e.length%4,e.concat("=".repeat(t))}function Ks(e){return new or.Z(e).shiftedBy(-12)}function $s(e){return new or.Z(e).shiftedBy(12)}class Gs{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){this.driver=crypto?.subtle}async generateJWK(){const e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),t=await this.driver.exportKey("jwk",e.privateKey);return{kty:t.kty,e:t.e,n:t.n,d:t.d,p:t.p,q:t.q,dp:t.dp,dq:t.dq,qi:t.qi}}async sign(e,t,{saltLength:r}={saltLength:32}){const n=await this.driver.sign({name:"RSA-PSS",saltLength:r},await this.jwkToCryptoKey(e),t);return new Uint8Array(n)}async hash(e,t="SHA-256"){const r=await this.driver.digest(t,e);return new Uint8Array(r)}async verify(e,t,r){const n={kty:"RSA",e:"AQAB",n:e},i=await this.jwkToPublicCryptoKey(n),s=await this.driver.digest("SHA-256",t),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},i,r,t),a=await this.driver.verify({name:"RSA-PSS",saltLength:32},i,r,t),u=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((i.algorithm.modulusLength-1)/8)-s.byteLength-2},i,r,t);return o||a||u}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,t,r){const n=await this.driver.importKey("raw","string"==typeof t?Ls(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:Ls(r||"salt"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);crypto.getRandomValues(s);return Is([s,await this.driver.encrypt({name:"AES-CBC",iv:s},i,e)])}async decrypt(e,t,r){const n=await this.driver.importKey("raw","string"==typeof t?Ls(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:Ls(r||"salt"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=e.slice(0,16);return Is([await this.driver.decrypt({name:"AES-CBC",iv:s},i,e.slice(16))])}}async function Vs(e){if("function"==typeof e[Symbol.asyncIterator]){const t=e,r=(0,nr.createHash)("sha384");let n=0;for await(const e of t)n+=e.byteLength,r.update(e);const i=Is([Ls("blob"),Ls(n.toString())]),s=Is([await Wu().hash(i,"SHA-384"),r.digest()]);return await Wu().hash(s,"SHA-384")}if(Array.isArray(e)){const t=Is([Ls("list"),Ls(e.length.toString())]);return await Ws(e,await Wu().hash(t,"SHA-384"))}const t=e,r=Is([Ls("blob"),Ls(t.byteLength.toString())]),n=Is([await Wu().hash(r,"SHA-384"),await Wu().hash(t,"SHA-384")]);return await Wu().hash(n,"SHA-384")}async function Ws(e,t){if(e.length<1)return t;const r=Is([t,await Vs(e[0])]),n=await Wu().hash(r,"SHA-384");return await Ws(e.slice(1),n)}class Js extends Error{type;response;constructor(e,t={}){t.message?super(t.message):super(),this.type=e,this.response=t.response}getType(){return this.type}}function Xs(e){let t=e.data;if("string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch(e){}return t?t.error||t:e.statusText||"unknown"}class Zs{api;network;constructor(e,t){this.api=e,this.network=t}async getByHash(e){const t=await this.api.get(`block/hash/${e}`);if(200===t.status)return t.data;throw 404===t.status?new Js("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getByHeight(e){const t=await this.api.get(`block/height/${e}`);if(200===t.status)return t.data;throw 404===t.status?new Js("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.getByHash(e)}}var Ys=r(48764).Buffer;const Qs=262144,eo=32;function to(e){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...to(e)):t.push(e)})),t}function ro(e){const t=new Uint8Array(32);for(let r=t.length-1;r>=0;r--){const n=e%256;t[r]=n,e=(e-n)/256}return t}function no(e){let t=0;for(let r=0;r<e.length;r++)t*=256,t+=e[r];return t}const io=(e,t)=>e.every(((e,r)=>t[r]===e));var so=class{crypto;constructor(e){this.crypto=e.deps.crypto}async chunkData(e){const t=[];let r=e,n=0;for(;r.byteLength>=Qs;){let e=Qs;const i=r.byteLength-Qs;i>0&&i<32768&&(e=Math.ceil(r.byteLength/2));const s=r.slice(0,e),o=await this.crypto.hash(s);n+=s.byteLength,t.push({dataHash:o,minByteRange:n-s.byteLength,maxByteRange:n}),r=r.slice(e)}return t.push({dataHash:await this.crypto.hash(r),minByteRange:n,maxByteRange:n+r.byteLength}),t}async generateLeaves(e){return Promise.all(e.map((async({dataHash:e,minByteRange:t,maxByteRange:r})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(e),this.hash(ro(r))])),dataHash:e,minByteRange:t,maxByteRange:r}))))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){const t=await this.chunkData(e),r=await this.generateLeaves(t),n=await this.buildLayers(r),i=await this.generateProofs(n),s=t.slice(-1)[0];return s.maxByteRange-s.minByteRange==0&&(t.splice(t.length-1,1),i.splice(i.length-1,1)),{data_root:n.id,chunks:t,proofs:i}}async buildLayers(e,t=0){if(e.length<2){return e[0]}const r=[];for(let t=0;t<e.length;t+=2)r.push(await this.hashBranch(e[t],e[t+1]));return this.buildLayers(r,t+1)}generateProofs(e){const t=this.resolveBranchProofs(e);return Array.isArray(t)?to(t):[t]}resolveBranchProofs(e,t=new Uint8Array,r=0){if("leaf"==e.type)return{offset:e.maxByteRange-1,proof:Is([t,e.dataHash,ro(e.maxByteRange)])};if("branch"==e.type){const n=Is([t,e.leftChild.id,e.rightChild.id,ro(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,n,r+1),this.resolveBranchProofs(e.rightChild,n,r+1)]}throw new Error("Unexpected node type")}async validatePath(e,t,r,n,i){if(n<=0)return!1;if(t>=n)return this.validatePath(e,0,n-1,n,i);if(t<0)return this.validatePath(e,0,0,n,i);if(64==i.length){const t=i.slice(0,eo),s=i.slice(t.length,t.length+32),o=await this.hash([await this.hash(t),await this.hash(s)]);return!!io(e,o)&&{offset:n-1,leftBound:r,rightBound:n,chunkSize:n-r}}const s=i.slice(0,eo),o=i.slice(s.length,s.length+eo),a=i.slice(s.length+o.length,s.length+o.length+32),u=no(a),c=i.slice(s.length+o.length+a.length),l=await this.hash([await this.hash(s),await this.hash(o),await this.hash(a)]);return!!io(e,l)&&(t<u?await this.validatePath(s,t,r,Math.min(n,u),c):await this.validatePath(o,t,Math.max(r,u),n,c))}async hashBranch(e,t){if(!t)return e;return{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(t.id),await this.hash(ro(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:t.maxByteRange,leftChild:e,rightChild:t}}async hash(e){return Array.isArray(e)&&(e=zu.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e,t=""){if(e.byteLength<1)return t;const r=e.slice(0,eo),n=e.slice(r.length,r.length+eo),i=e.slice(r.length+n.length,r.length+n.length+32),s=no(i),o=e.slice(r.length+n.length+i.length),a=await this.hash([await this.hash(r),await this.hash(n),await this.hash(i)]),u=`${t}\n${JSON.stringify(Ys.from(r))},${JSON.stringify(Ys.from(n))},${s} => ${JSON.stringify(a)}`;return this.debug(o,u)}};class oo{api;constructor(e){this.api=e}async getTransactionMetadata(e){const t=await this.api.get(`tx/${e}/offset`);if(200===t.status)return t.data;throw new Error(`Unable to get transaction offset: ${Xs(t)}`)}async getChunk(e){const t=await this.api.get(`chunk/${e}`);if(200===t.status)return t.data;throw new Error(`Unable to get chunk: ${Xs(t)}`)}async getChunkData(e){return qs((await this.getChunk(e)).chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,t){const r=await this.getTransactionMetadata(e),n=parseInt(r.size),i=new Uint8Array(n);let s=0;for await(const r of this.concurrentChunkDownloader(e,t))i.set(r,s),s+=r.length;return i}async*concurrentChunkDownloader(e,t){const r={concurrency:10,...t},n=await this.getTransactionMetadata(e),i=new or.Z(n.offset),s=new or.Z(n.size),o=i.minus(s).plus(1);let a=0;const u=e=>this.getChunkData(e.toString()).then((e=>(a+=e.length,e))),c=[],l=Math.ceil(s.dividedBy(Qs).toNumber())-2,h=Math.min(l,r.concurrency);let f=0;for(let e=0;e<h;e++)c.push(u(o.plus(Qs*f++)));for(;f<l;)c.push(u(o.plus(Qs*f++))),yield c.shift();for(;c.length>0;)yield c.shift();if(yield u(o.plus(Qs*f++)),s.isGreaterThan(a)&&(yield u(o.plus(Qs*f++))),!s.isEqualTo(a))throw new Error(`got ${a}B, expected ${s.toString()}B`)}}class ao{crypto;utils;constructor({deps:e}){this.crypto=e.crypto,this.utils=e.utils}async deepHash(e){if(Array.isArray(e)){const t=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(t,"SHA-384"))}const t=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),r=this.utils.concatBuffers([await this.crypto.hash(t,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(r,"SHA-384")}async deepHashChunks(e,t){if(e.length<1)return t;const r=this.utils.concatBuffers([t,await this.deepHash(e[0])]),n=await this.crypto.hash(r,"SHA-384");return await this.deepHashChunks(e.slice(1),n)}}function uo(e,t){return function(){return e.apply(t,arguments)}}var co=r(34155),lo=Object.prototype.toString,ho=Object.getPrototypeOf,fo=function(e){return function(t){var r=lo.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null)),po=function(e){return e=e.toLowerCase(),function(t){return fo(t)===e}},yo=function(e){return function(t){return f(t)===e}},go=Array.isArray,mo=yo("undefined");var wo=po("ArrayBuffer");var bo=yo("string"),vo=yo("function"),Eo=yo("number"),_o=function(e){return null!==e&&"object"===f(e)},So=function(e){if("object"!==fo(e))return!1;var t=ho(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Ao=po("Date"),xo=po("File"),To=po("Blob"),ko=po("FileList"),Ro=po("URLSearchParams"),Po=["ReadableStream","Request","Response","Headers"].map(po),Co=h(Po,4),Mo=Co[0],Oo=Co[1],Uo=Co[2],Io=Co[3];function Bo(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.allOwnKeys,o=void 0!==s&&s;if(null!=e)if("object"!==f(e)&&(e=[e]),go(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{var a,u=o?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(r=0;r<c;r++)a=u[r],t.call(null,e[a],a,e)}}function No(e,t){t=t.toLowerCase();for(var r,n=Object.keys(e),i=n.length;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}var Lo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Do=function(e){return!mo(e)&&e!==Lo};var qo=function(e){return function(t){return e&&t instanceof e}}("undefined"!=typeof Uint8Array&&ho(Uint8Array)),Fo=po("HTMLFormElement"),Ho=function(e){var t=Object.prototype.hasOwnProperty;return function(e,r){return t.call(e,r)}}(),jo=po("RegExp"),zo=function(e,t){var r=Object.getOwnPropertyDescriptors(e),n={};Bo(r,(function(r,i){var s;!1!==(s=t(r,i,e))&&(n[i]=s||r)})),Object.defineProperties(e,n)},Ko="abcdefghijklmnopqrstuvwxyz",$o="0123456789",Go={DIGIT:$o,ALPHA:Ko,ALPHA_DIGIT:Ko+Ko.toUpperCase()+$o};var Vo=po("AsyncFunction"),Wo=function(e,t){return e?setImmediate:t?function(e,t){return Lo.addEventListener("message",(function(r){var n=r.source,i=r.data;n===Lo&&i===e&&t.length&&t.shift()()}),!1),function(r){t.push(r),Lo.postMessage(e,"*")}}("axios@".concat(Math.random()),[]):function(e){return setTimeout(e)}}("function"==typeof setImmediate,vo(Lo.postMessage)),Jo="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Lo):void 0!==co&&co.nextTick||Wo,Xo={isArray:go,isArrayBuffer:wo,isBuffer:function(e){return null!==e&&!mo(e)&&null!==e.constructor&&!mo(e.constructor)&&vo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||vo(e.append)&&("formdata"===(t=fo(e))||"object"===t&&vo(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&wo(e.buffer)},isString:bo,isNumber:Eo,isBoolean:function(e){return!0===e||!1===e},isObject:_o,isPlainObject:So,isReadableStream:Mo,isRequest:Oo,isResponse:Uo,isHeaders:Io,isUndefined:mo,isDate:Ao,isFile:xo,isBlob:To,isRegExp:jo,isFunction:vo,isStream:function(e){return _o(e)&&vo(e.pipe)},isURLSearchParams:Ro,isTypedArray:qo,isFileList:ko,forEach:Bo,merge:function e(){for(var t=Do(this)&&this||{},r=t.caseless,n={},i=function(t,i){var s=r&&No(n,i)||i;So(n[s])&&So(t)?n[s]=e(n[s],t):So(t)?n[s]=e({},t):go(t)?n[s]=t.slice():n[s]=t},s=0,o=arguments.length;s<o;s++)arguments[s]&&Bo(arguments[s],i);return n},extend:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.allOwnKeys;return Bo(t,(function(t,n){r&&vo(t)?e[n]=uo(t,r):e[n]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var i,s,o,a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],n&&!n(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==r&&ho(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:fo,kindOfTest:po,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(go(e))return e;var t=e.length;if(!Eo(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var i=r.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Fo,hasOwnProperty:Ho,hasOwnProp:Ho,reduceDescriptors:zo,freezeMethods:function(e){zo(e,(function(t,r){if(vo(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;var n=e[r];vo(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:function(e,t){var r={},n=function(e){e.forEach((function(e){r[e]=!0}))};return go(e)?n(e):n(String(e).split(t)),r},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:No,global:Lo,isContextDefined:Do,ALPHABET:Go,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Go.ALPHA_DIGIT,r="",n=t.length;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&vo(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(r,n){if(_o(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[n]=r;var i=go(r)?[]:{};return Bo(r,(function(t,r){var s=e(t,n+1);!mo(s)&&(i[r]=s)})),t[n]=void 0,i}}return r}(e,0)},isAsyncFn:Vo,isThenable:function(e){return e&&(_o(e)||vo(e))&&vo(e.then)&&vo(e.catch)},setImmediate:Wo,asap:Jo};function Zo(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Xo.inherits(Zo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xo.toJSONObject(this.config),code:this.code,status:this.status}}});var Yo=Zo.prototype,Qo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Qo[e]={value:e}})),Object.defineProperties(Zo,Qo),Object.defineProperty(Yo,"isAxiosError",{value:!0}),Zo.from=function(e,t,r,n,i,s){var o=Object.create(Yo);return Xo.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Zo.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var ea=Zo,ta=r(48764).Buffer;function ra(e){return Xo.isPlainObject(e)||Xo.isArray(e)}function na(e){return Xo.endsWith(e,"[]")?e.slice(0,-2):e}function ia(e,t,r){return e?e.concat(t).map((function(e,t){return e=na(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}var sa=Xo.toFlatObject(Xo,{},null,(function(e){return/^is[A-Z]/.test(e)}));var oa=function(e,t,r){if(!Xo.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var n=(r=Xo.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Xo.isUndefined(t[e])}))).metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&Xo.isSpecCompliantForm(t);if(!Xo.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(Xo.isDate(e))return e.toISOString();if(!a&&Xo.isBlob(e))throw new ea("Blob is not supported. Use a Buffer instead.");return Xo.isArrayBuffer(e)||Xo.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):ta.from(e):e}function c(e,r,i){var a=e;if(e&&!i&&"object"===f(e))if(Xo.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Xo.isArray(e)&&function(e){return Xo.isArray(e)&&!e.some(ra)}(e)||(Xo.isFileList(e)||Xo.endsWith(r,"[]"))&&(a=Xo.toArray(e)))return r=na(r),a.forEach((function(e,n){!Xo.isUndefined(e)&&null!==e&&t.append(!0===o?ia([r],n,s):null===o?r:r+"[]",u(e))})),!1;return!!ra(e)||(t.append(ia(i,r,s),u(e)),!1)}var l=[],h=Object.assign(sa,{defaultVisitor:c,convertValue:u,isVisitable:ra});if(!Xo.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Xo.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),Xo.forEach(r,(function(r,s){!0===(!(Xo.isUndefined(r)||null===r)&&i.call(t,r,Xo.isString(s)?s.trim():s,n,h))&&e(r,n?n.concat(s):[s])})),l.pop()}}(e),t};function aa(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ua(e,t){this._pairs=[],e&&oa(e,this,t)}var ca=ua.prototype;ca.append=function(e,t){this._pairs.push([e,t])},ca.toString=function(e){var t=e?function(t){return e.call(this,t,aa)}:aa;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var la=ua;function ha(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fa(e,t,r){if(!t)return e;var n=r&&r.encode||ha;Xo.isFunction(r)&&(r={serialize:r});var i,s=r&&r.serialize;if(i=s?s(t,r):Xo.isURLSearchParams(t)?t.toString():new la(t,r).toString(n)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var da=function(){function e(){le(this,e),this.handlers=[]}return he(e,[{key:"use",value:function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Xo.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),pa=da,ya={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ga={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:la,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ma="undefined"!=typeof window&&"undefined"!=typeof document,wa="object"===("undefined"==typeof navigator?"undefined":f(navigator))&&navigator||void 0,ba=ma&&(!wa||["ReactNative","NativeScript","NS"].indexOf(wa.product)<0),va="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ea=ma&&window.location.href||"http://localhost",_a=Me(Me({},o),ga);var Sa=function(e){function t(e,r,n,i){var s=e[i++];if("__proto__"===s)return!0;var o=Number.isFinite(+s),a=i>=e.length;return s=!s&&Xo.isArray(n)?n.length:s,a?(Xo.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o):(n[s]&&Xo.isObject(n[s])||(n[s]=[]),t(e,r,n[s],i)&&Xo.isArray(n[s])&&(n[s]=function(e){var t,r,n={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)n[r=i[t]]=e[r];return n}(n[s])),!o)}if(Xo.isFormData(e)&&Xo.isFunction(e.entries)){var r={};return Xo.forEachEntry(e,(function(e,n){t(function(e){return Xo.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),n,r,0)})),r}return null};var Aa={transitional:ya,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var r,n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=Xo.isObject(e);if(s&&Xo.isHTMLForm(e)&&(e=new FormData(e)),Xo.isFormData(e))return i?JSON.stringify(Sa(e)):e;if(Xo.isArrayBuffer(e)||Xo.isBuffer(e)||Xo.isStream(e)||Xo.isFile(e)||Xo.isBlob(e)||Xo.isReadableStream(e))return e;if(Xo.isArrayBufferView(e))return e.buffer;if(Xo.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return oa(e,new _a.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return _a.isNode&&Xo.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=Xo.isFileList(e))||n.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return oa(r?{"files[]":e}:e,o&&new o,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),function(e,t,r){if(Xo.isString(e))try{return(t||JSON.parse)(e),Xo.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Aa.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Xo.isResponse(e)||Xo.isReadableStream(e))return e;if(e&&Xo.isString(e)&&(r&&!this.responseType||n)){var i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw ea.from(e,ea.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_a.classes.FormData,Blob:_a.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xo.forEach(["delete","get","head","post","put","patch"],(function(e){Aa.headers[e]={}}));var xa=Aa,Ta=Xo.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ka=Symbol("internals");function Ra(e){return e&&String(e).trim().toLowerCase()}function Pa(e){return!1===e||null==e?e:Xo.isArray(e)?e.map(Pa):String(e)}function Ca(e,t,r,n,i){return Xo.isFunction(n)?n.call(this,t,r):(i&&(t=r),Xo.isString(t)?Xo.isString(n)?-1!==t.indexOf(n):Xo.isRegExp(n)?n.test(t):void 0:void 0)}var Ma=function(e,t){function r(e){le(this,r),e&&this.set(e)}return he(r,[{key:"set",value:function(e,t,r){var n=this;function i(e,t,r){var i=Ra(t);if(!i)throw new Error("header name must be a non-empty string");var s=Xo.findKey(n,i);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Pa(e))}var s=function(e,t){return Xo.forEach(e,(function(e,r){return i(e,r,t)}))};if(Xo.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Xo.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s(function(e){var t,r,n,i={};return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&Ta[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)})),i}(e),t);else if(Xo.isHeaders(e)){var o,a=je(e.entries());try{for(a.s();!(o=a.n()).done;){var u=h(o.value,2),c=u[0];i(u[1],c,r)}}catch(e){a.e(e)}finally{a.f()}}else null!=e&&i(t,e,r);return this}},{key:"get",value:function(e,t){if(e=Ra(e)){var r=Xo.findKey(this,e);if(r){var n=this[r];if(!t)return n;if(!0===t)return function(e){for(var t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=n.exec(e);)r[t[1]]=t[2];return r}(n);if(Xo.isFunction(t))return t.call(this,n,r);if(Xo.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Ra(e)){var r=Xo.findKey(this,e);return!(!r||void 0===this[r]||t&&!Ca(0,this[r],r,t))}return!1}},{key:"delete",value:function(e,t){var r=this,n=!1;function i(e){if(e=Ra(e)){var i=Xo.findKey(r,e);!i||t&&!Ca(0,r[i],i,t)||(delete r[i],n=!0)}}return Xo.isArray(e)?e.forEach(i):i(e),n}},{key:"clear",value:function(e){for(var t=Object.keys(this),r=t.length,n=!1;r--;){var i=t[r];e&&!Ca(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}},{key:"normalize",value:function(e){var t=this,r={};return Xo.forEach(this,(function(n,i){var s=Xo.findKey(r,i);if(s)return t[s]=Pa(n),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Pa(n),r[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.constructor).concat.apply(e,[this].concat(r))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Xo.forEach(this,(function(r,n){null!=r&&!1!==r&&(t[n]=e&&Xo.isArray(r)?r.join(", "):r)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=h(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[ka]=this[ka]={accessors:{}}).accessors,r=this.prototype;function n(e){var n=Ra(e);t[n]||(!function(e,t){var r=Xo.toCamelCase(" "+t);["get","set","has"].forEach((function(n){Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return Xo.isArray(e)?e.forEach(n):n(e),this}}]),r}(Symbol.iterator,Symbol.toStringTag);Ma.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Xo.reduceDescriptors(Ma.prototype,(function(e,t){var r=e.value,n=t[0].toUpperCase()+t.slice(1);return{get:function(){return r},set:function(e){this[n]=e}}})),Xo.freezeMethods(Ma);var Oa=Ma;function Ua(e,t){var r=this||xa,n=t||r,i=Oa.from(n.headers),s=n.data;return Xo.forEach(e,(function(e){s=e.call(r,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Ia(e){return!(!e||!e.__CANCEL__)}function Ba(e,t,r){ea.call(this,null==e?"canceled":e,ea.ERR_CANCELED,t,r),this.name="CanceledError"}Xo.inherits(Ba,ea,{__CANCEL__:!0});var Na=Ba;function La(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new ea("Request failed with status code "+r.status,[ea.ERR_BAD_REQUEST,ea.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}var Da=function(e,t){e=e||10;var r,n=new Array(e),i=new Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){var u=Date.now(),c=i[o];r||(r=u),n[s]=a,i[s]=u;for(var l=o,h=0;l!==s;)h+=n[l++],l%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),!(u-r<t)){var f=c&&u-c;return f?Math.round(1e3*h/f):void 0}}};var qa=function(e,t){var r,n,i=0,s=1e3/t,o=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){for(var e=Date.now(),t=e-i,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];t>=s?o(u,e):(r=u,n||(n=setTimeout((function(){n=null,o(r)}),s-t)))},function(){return r&&o(r)}]},Fa=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0,i=Da(50,250);return qa((function(r){var s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,u=i(a);n=s;var c=tt({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&s<=o?(o-s)/u:void 0,event:r,lengthComputable:null!=o},t?"download":"upload",!0);e(c)}),r)},Ha=function(e,t){var r=null!=e;return[function(n){return t[0]({lengthComputable:r,total:e,loaded:n})},t[1]]},ja=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Xo.asap((function(){return e.apply(void 0,r)}))}},za=_a.hasStandardBrowserEnv?function(e,t){return function(r){return r=new URL(r,_a.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)}}(new URL(_a.origin),_a.navigator&&/(msie|trident)/i.test(_a.navigator.userAgent)):function(){return!0},Ka=_a.hasStandardBrowserEnv?{write:function(e,t,r,n,i,s){var o=[e+"="+encodeURIComponent(t)];Xo.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Xo.isString(n)&&o.push("path="+n),Xo.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function $a(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ga=function(e){return e instanceof Oa?Me({},e):e};function Va(e,t){t=t||{};var r={};function n(e,t,r,n){return Xo.isPlainObject(e)&&Xo.isPlainObject(t)?Xo.merge.call({caseless:n},e,t):Xo.isPlainObject(t)?Xo.merge({},t):Xo.isArray(t)?t.slice():t}function i(e,t,r,i){return Xo.isUndefined(t)?Xo.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function s(e,t){if(!Xo.isUndefined(t))return n(void 0,t)}function o(e,t){return Xo.isUndefined(t)?Xo.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,s){return s in t?n(r,i):s in e?n(void 0,r):void 0}var u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:function(e,t,r){return i(Ga(e),Ga(t),0,!0)}};return Xo.forEach(Object.keys(Object.assign({},e,t)),(function(n){var s=u[n]||i,o=s(e[n],t[n],n);Xo.isUndefined(o)&&s!==a||(r[n]=o)})),r}var Wa=function(e){var t,r=Va({},e),n=r.data,i=r.withXSRFToken,s=r.xsrfHeaderName,o=r.xsrfCookieName,a=r.headers,u=r.auth;if(r.headers=a=Oa.from(a),r.url=fa($a(r.baseURL,r.url),e.params,e.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Xo.isFormData(n))if(_a.hasStandardBrowserEnv||_a.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(t=a.getContentType())){var c=t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[],l=ut(c),h=l[0],f=l.slice(1);a.setContentType([h||"multipart/form-data"].concat(at(f)).join("; "))}if(_a.hasStandardBrowserEnv&&(i&&Xo.isFunction(i)&&(i=i(r)),i||!1!==i&&za(r.url))){var d=s&&o&&Ka.read(o);d&&a.set(s,d)}return r},Ja="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){var n,i,s,o,a,u=Wa(e),c=u.data,l=Oa.from(u.headers).normalize(),f=u.responseType,d=u.onUploadProgress,p=u.onDownloadProgress;function y(){o&&o(),a&&a(),u.cancelToken&&u.cancelToken.unsubscribe(n),u.signal&&u.signal.removeEventListener("abort",n)}var g=new XMLHttpRequest;function m(){if(g){var n=Oa.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());La((function(e){t(e),y()}),(function(e){r(e),y()}),{data:f&&"text"!==f&&"json"!==f?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}}if(g.open(u.method.toUpperCase(),u.url,!0),g.timeout=u.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(r(new ea("Request aborted",ea.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new ea("Network Error",ea.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){var t=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",n=u.transitional||ya;u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),r(new ea(t,n.clarifyTimeoutError?ea.ETIMEDOUT:ea.ECONNABORTED,e,g)),g=null},void 0===c&&l.setContentType(null),"setRequestHeader"in g&&Xo.forEach(l.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Xo.isUndefined(u.withCredentials)||(g.withCredentials=!!u.withCredentials),f&&"json"!==f&&(g.responseType=u.responseType),p){var w=Fa(p,!0),b=h(w,2);s=b[0],a=b[1],g.addEventListener("progress",s)}if(d&&g.upload){var v=Fa(d),E=h(v,2);i=E[0],o=E[1],g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",o)}(u.cancelToken||u.signal)&&(n=function(t){g&&(r(!t||t.type?new Na(null,e,g):t),g.abort(),g=null)},u.cancelToken&&u.cancelToken.subscribe(n),u.signal&&(u.signal.aborted?n():u.signal.addEventListener("abort",n)));var _,S,A=(_=u.url,(S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_))&&S[1]||"");A&&-1===_a.protocols.indexOf(A)?r(new ea("Unsupported protocol "+A+":",ea.ERR_BAD_REQUEST,e)):g.send(c||null)}))},Xa=function(e,t){var r=(e=e?e.filter(Boolean):[]).length;if(t||r){var n,i=new AbortController,s=function(e){if(!n){n=!0,a();var t=e instanceof Error?e:this.reason;i.abort(t instanceof ea?t:new Na(t instanceof Error?t.message:t))}},o=t&&setTimeout((function(){o=null,s(new ea("timeout ".concat(t," of ms exceeded"),ea.ETIMEDOUT))}),t),a=function(){e&&(o&&clearTimeout(o),o=null,e.forEach((function(e){e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((function(e){return e.addEventListener("abort",s)}));var u=i.signal;return u.unsubscribe=function(){return Xo.asap(a)},u}},Za=ue().mark((function e(t,r){var n,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.byteLength,r&&!(n<r)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:i=0;case 6:if(!(i<n)){e.next=13;break}return s=i+r,e.next=10,t.slice(i,s);case 10:i=s,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),Ya=function(){var e=bt(ue().mark((function e(t,r){var n,i,s,o,a,u;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,o=_t(Qa(t));case 4:return e.next=6,vt(o.next());case 6:if(!(n=!(a=e.sent).done)){e.next=12;break}return u=a.value,e.delegateYield(Et(_t(Za(u,r)),vt),"t0",9);case 9:n=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),i=!0,s=e.t1;case 18:if(e.prev=18,e.prev=19,!n||null==o.return){e.next=23;break}return e.next=23,vt(o.return());case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t,r){return e.apply(this,arguments)}}(),Qa=function(){var e=bt(ue().mark((function e(t){var r,n,i,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[Symbol.asyncIterator]){e.next=3;break}return e.delegateYield(Et(_t(t),vt),"t0",2);case 2:return e.abrupt("return");case 3:r=t.getReader(),e.prev=4;case 5:return e.next=7,vt(r.read());case 7:if(n=e.sent,i=n.done,s=n.value,!i){e.next=12;break}return e.abrupt("break",16);case 12:return e.next=14,s;case 14:e.next=5;break;case 16:return e.prev=16,e.next=19,vt(r.cancel());case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),eu=function(e,t,r,n){var i,s=Ya(e,t),o=0,a=function(e){i||(i=!0,n&&n(e))};return new ReadableStream({pull:function(e){return ce(ue().mark((function t(){var n,i,u,c,l;return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.next();case 3:if(n=t.sent,i=n.done,u=n.value,!i){t.next=10;break}return a(),e.close(),t.abrupt("return");case 10:c=u.byteLength,r&&(l=o+=c,r(l)),e.enqueue(new Uint8Array(u)),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(0),a(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return a(e),s.return()}},{highWaterMark:2})},tu="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,ru=tu&&"function"==typeof ReadableStream,nu=tu&&("function"==typeof TextEncoder?function(e){return function(t){return e.encode(t)}}(new TextEncoder):function(){var e=ce(ue().mark((function e(t){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),iu=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e.apply(void 0,r)}catch(e){return!1}},su=ru&&iu((function(){var e=!1,t=new Request(_a.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),ou=ru&&iu((function(){return Xo.isReadableStream(new Response("").body)})),au={stream:ou&&function(e){return e.body}};tu&&function(e){["text","arrayBuffer","blob","formData","stream"].forEach((function(t){!au[t]&&(au[t]=Xo.isFunction(e[t])?function(e){return e[t]()}:function(e,r){throw new ea("Response type '".concat(t,"' is not supported"),ea.ERR_NOT_SUPPORT,r)})}))}(new Response);var uu=function(){var e=ce(ue().mark((function e(t){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!Xo.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!Xo.isSpecCompliantForm(t)){e.next=9;break}return r=new Request(_a.origin,{method:"POST",body:t}),e.next=8,r.arrayBuffer();case 8:case 15:return e.abrupt("return",e.sent.byteLength);case 9:if(!Xo.isArrayBufferView(t)&&!Xo.isArrayBuffer(t)){e.next=11;break}return e.abrupt("return",t.byteLength);case 11:if(Xo.isURLSearchParams(t)&&(t+=""),!Xo.isString(t)){e.next=16;break}return e.next=15,nu(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cu=function(){var e=ce(ue().mark((function e(t,r){var n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xo.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==n?uu(r):n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),lu=tu&&function(){var e=ce(ue().mark((function e(t){var r,n,i,s,o,a,u,c,l,f,d,p,y,g,m,w,b,v,E,_,S,A,x,T,k,R,P,C,M,O,U,I,B,N;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wa(t),n=r.url,i=r.method,s=r.data,o=r.signal,a=r.cancelToken,u=r.timeout,c=r.onDownloadProgress,l=r.onUploadProgress,f=r.responseType,d=r.headers,p=r.withCredentials,y=void 0===p?"same-origin":p,g=r.fetchOptions,f=f?(f+"").toLowerCase():"text",m=Xa([o,a&&a.toAbortSignal()],u),b=m&&m.unsubscribe&&function(){m.unsubscribe()},e.prev=4,e.t0=l&&su&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,cu(d,s);case 9:e.t1=v=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}E=new Request(n,{method:"POST",body:s,duplex:"half"}),Xo.isFormData(s)&&(_=E.headers.get("content-type"))&&d.setContentType(_),E.body&&(S=Ha(v,Fa(ja(l))),A=h(S,2),x=A[0],T=A[1],s=eu(E.body,65536,x,T));case 15:return Xo.isString(y)||(y=y?"include":"omit"),k="credentials"in Request.prototype,w=new Request(n,Me(Me({},g),{},{signal:m,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:k?y:void 0})),e.next=20,fetch(w);case 20:return R=e.sent,P=ou&&("stream"===f||"response"===f),ou&&(c||P&&b)&&(C={},["status","statusText","headers"].forEach((function(e){C[e]=R[e]})),M=Xo.toFiniteNumber(R.headers.get("content-length")),O=c&&Ha(M,Fa(ja(c),!0))||[],U=h(O,2),I=U[0],B=U[1],R=new Response(eu(R.body,65536,I,(function(){B&&B(),b&&b()})),C)),f=f||"text",e.next=26,au[Xo.findKey(au,f)||"text"](R,t);case 26:return N=e.sent,!P&&b&&b(),e.next=30,new Promise((function(e,r){La(e,r,{data:N,headers:Oa.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:w})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),b&&b(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new ea("Network Error",ea.ERR_NETWORK,t,w),{cause:e.t2.cause||e.t2});case 38:throw ea.from(e.t2,e.t2&&e.t2.code,t,w);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),hu={http:null,xhr:Ja,fetch:lu};Xo.forEach(hu,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var fu=function(e){return"- ".concat(e)},du=function(e){return Xo.isFunction(e)||null===e||!1===e},pu=function(e){for(var t,r,n=(e=Xo.isArray(e)?e:[e]).length,i={},s=0;s<n;s++){var o=void 0;if(r=t=e[s],!du(t)&&void 0===(r=hu[(o=String(t)).toLowerCase()]))throw new ea("Unknown adapter '".concat(o,"'"));if(r)break;i[o||"#"+s]=r}if(!r){var a=Object.entries(i).map((function(e){var t=h(e,2),r=t[0],n=t[1];return"adapter ".concat(r," ")+(!1===n?"is not supported by the environment":"is not available in the build")})),u=n?a.length>1?"since :\n"+a.map(fu).join("\n"):" "+fu(a[0]):"as no adapter specified";throw new ea("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r};function yu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Na(null,e)}function gu(e){return yu(e),e.headers=Oa.from(e.headers),e.data=Ua.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pu(e.adapter||xa.adapter)(e).then((function(t){return yu(e),t.data=Ua.call(e,e.transformResponse,t),t.headers=Oa.from(t.headers),t}),(function(t){return Ia(t)||(yu(e),t&&t.response&&(t.response.data=Ua.call(e,e.transformResponse,t.response),t.response.headers=Oa.from(t.response.headers))),Promise.reject(t)}))}var mu="1.7.9",wu={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){wu[e]=function(r){return f(r)===e||"a"+(t<1?"n ":" ")+e}}));var bu={};wu.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,s){if(!1===e)throw new ea(n(i," has been removed"+(t?" in "+t:"")),ea.ERR_DEPRECATED);return t&&!bu[i]&&(bu[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}},wu.spelling=function(e){return function(t,r){return console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0}};var vu={assertOptions:function(e,t,r){if("object"!==f(e))throw new ea("options must be an object",ea.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var s=n[i],o=t[s];if(o){var a=e[s],u=void 0===a||o(a,s,e);if(!0!==u)throw new ea("option "+s+" must be "+u,ea.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ea("Unknown option "+s,ea.ERR_BAD_OPTION)}},validators:wu},Eu=vu.validators,_u=function(){function e(t){le(this,e),this.defaults=t,this.interceptors={request:new pa,response:new pa}}var t;return he(e,[{key:"request",value:(t=ce(ue().mark((function e(t,r){var n,i;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,r);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){n={},Error.captureStackTrace?Error.captureStackTrace(n):n=new Error,i=n.stack?n.stack.replace(/^.+\n/,""):"";try{e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i}catch(e){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,r){return t.apply(this,arguments)})},{key:"_request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var r=t=Va(this.defaults,t),n=r.transitional,i=r.paramsSerializer,s=r.headers;void 0!==n&&vu.assertOptions(n,{silentJSONParsing:Eu.transitional(Eu.boolean),forcedJSONParsing:Eu.transitional(Eu.boolean),clarifyTimeoutError:Eu.transitional(Eu.boolean)},!1),null!=i&&(Xo.isFunction(i)?t.paramsSerializer={serialize:i}:vu.assertOptions(i,{encode:Eu.function,serialize:Eu.function},!0)),vu.assertOptions(t,{baseUrl:Eu.spelling("baseURL"),withXsrfToken:Eu.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=s&&Xo.merge(s.common,s[t.method]);s&&Xo.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete s[e]})),t.headers=Oa.concat(o,s);var a=[],u=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var h,f=0;if(!u){var d=[gu.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,l),h=d.length,c=Promise.resolve(t);f<h;)c=c.then(d[f++],d[f++]);return c}h=a.length;var p=t;for(f=0;f<h;){var y=a[f++],g=a[f++];try{p=y(p)}catch(e){g.call(this,e);break}}try{c=gu.call(this,p)}catch(e){return Promise.reject(e)}for(f=0,h=l.length;f<h;)c=c.then(l[f++],l[f++]);return c}},{key:"getUri",value:function(e){return fa($a((e=Va(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Xo.forEach(["delete","get","head","options"],(function(e){_u.prototype[e]=function(t,r){return this.request(Va(r||{},{method:e,url:t,data:(r||{}).data}))}})),Xo.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Va(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}_u.prototype[e]=t(),_u.prototype[e+"Form"]=t(!0)}));var Su=_u,Au=function(){function e(t){if(le(this,e),"function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length;t-- >0;)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},t((function(e,t,i){n.reason||(n.reason=new Na(e,t,i),r(n.reason))}))}return he(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var e=this,t=new AbortController,r=function(e){t.abort(e)};return this.subscribe(r),t.signal.unsubscribe=function(){return e.unsubscribe(r)},t.signal}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),xu=Au;var Tu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tu).forEach((function(e){var t=h(e,2),r=t[0],n=t[1];Tu[n]=r}));var ku=Tu;var Ru=function e(t){var r=new Su(t),n=uo(Su.prototype.request,r);return Xo.extend(n,Su.prototype,r,{allOwnKeys:!0}),Xo.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Va(t,r))},n}(xa);Ru.Axios=Su,Ru.CanceledError=Na,Ru.CancelToken=xu,Ru.isCancel=Ia,Ru.VERSION=mu,Ru.toFormData=oa,Ru.AxiosError=ea,Ru.Cancel=Ru.CanceledError,Ru.all=function(e){return Promise.all(e)},Ru.spread=function(e){return function(t){return e.apply(null,t)}},Ru.isAxiosError=function(e){return Xo.isObject(e)&&!0===e.isAxiosError},Ru.mergeConfig=Va,Ru.AxiosHeaders=Oa,Ru.formToJSON=function(e){return Sa(Xo.isHTMLForm(e)?new FormData(e):e)},Ru.getAdapter=pu,Ru.HttpStatusCode=ku,Ru.default=Ru;var Pu=Ru;class Cu{_instance;cookieMap=new Map;config;constructor(e){e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const t=this.cookieMap.get(new URL(e.baseURL??"").host);return t&&(e.headers.cookie=t),e}async responseInterceptor(e){const t=e.headers?.["set-cookie"];return t&&this.cookieMap.set(e.request.host,t),e}mergeDefaults(e){return e.headers??={},e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-arweave-version":zu.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){try{return await this.request(e,{...t,method:"GET"})}catch(e){if(e.response?.status)return e.response;throw e}}async post(e,t,r){try{return await this.request(e,{data:t,...r,method:"POST"})}catch(e){if(e.response?.status)return e.response;throw e}}get instance(){if(this._instance)return this._instance;const e=Pu.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:536870912,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use((e=>(this.config.logger(`Requesting: ${e.baseURL}/${e.url}`),e))),e.interceptors.response.use((e=>(this.config.logger(`Response: ${e.config.url} - ${e.status}`),e)))),this._instance=e}async request(e,t){const r=this.instance,n=t?.url??new URL(e,this.config.url).toString();return rr((e=>r({...t,url:n})),{...this.config.retry,...t?.retry})}}const Mu=e=>"string"!=typeof e&&"url"in e,Ou={maxAttempts:15,randomlySelect:!0};var Uu=class{minerInstances=[];globalConfig;gatewayInstances=[];constructor({gateways:e,miners:t,opts:r}){this.globalConfig=r?.globalConfig??{},t&&this.addMiners(t),e&&this.addGateways(e)}async addPeersFrom(e,t){const r=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(r.slice(0,t?.limit).map((e=>`http://${e}`)))}addMiners(e){e.forEach((e=>this.minerInstances.push(new Cu(Mu(e)?e:{url:new URL(e),...this.globalConfig}))))}addGateways(e){e.forEach((e=>this.gatewayInstances.push(new Cu(Mu(e)?e:{url:new URL(e),...this.globalConfig}))))}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,r){return this.request(e,{data:t,...r,method:"POST"})}async request(e,t){const r={...Ou,...t?.fallback};let n=0;const i=[],s=t?.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(r?.maxAttempts,1),s.length),a=r?.onFallback;if(0===s.length)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;n++<o;){const u=s.at(r?.randomlySelect?Math.floor(Math.random()*s.length):n-1);if(u)try{return await u.request(e,{...t})}catch(e){if(a?.(e,u),i.push(e),n>=o)throw e}}throw new Error("unreachable")}};class Iu{get(e,t){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return t&&t.decode&&t.string?Ns(this[e]):t&&t.decode&&!t.string?this[e]:Hs(this[e]);if(this[e]instanceof Array){if(void 0!==t?.decode||void 0!==t?.string)throw"tags"===e&&console.warn("Did you mean to use 'transaction[\"tags\"]' ?"),new Error("Cannot decode or stringify an array.");return this[e]}return t&&1==t.decode?t&&t.string?Bs(this[e]):qs(this[e]):this[e]}}class Bu extends Iu{name;value;constructor(e,t){super(),this.name=e,this.value=t}}class Nu extends Iu{format=2;id="";last_tx="";owner="";tags=[];target="";quantity="0";data_size="0";data=new Uint8Array;data_root="";reward="0";signature="";merkle;deepHash;chunks;constructor({attributes:e,deps:t}){super(),this.merkle=t.merkle,this.deepHash=t.deepHash,Object.assign(this,e),"string"==typeof this.data&&(this.data=qs(this.data)),e.tags&&(this.tags=e.tags)}addTag(e,t){this.tags.push({name:Ds(e),value:Ds(t)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Hs(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(e){this.owner=e}setSignature({id:e,owner:t,reward:r,tags:n,signature:i}){this.id=e,this.owner=t,r&&(this.reward=r),n&&(this.tags=n),this.signature=i}async prepareChunks(e){!this.chunks&&e.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(e),this.data_root=Hs(this.chunks.data_root)),this.chunks||0!==e.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(e,t){if(!this.chunks)throw new Error("Chunks have not been prepared");const r=this.chunks.proofs[e],n=this.chunks.chunks[e];return{data_root:this.data_root,data_size:this.data_size,data_path:Hs(r.proof),offset:r.offset.toString(),chunk:Hs(t.slice(n.minByteRange,n.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const e=this.tags.reduce(((e,t)=>Is([e,qs(t.name),qs(t.value)])),new Uint8Array);return Is([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Ls(this.quantity),Ls(this.reward),this.get("last_tx",{decode:!0,string:!1}),e]);case 2:this.data_root||await this.prepareChunks(this.data);const t=this.tags.map((e=>[qs(e.name),qs(e.value)]));return await this.deepHash.deepHash([Ls(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Ls(this.quantity),Ls(this.reward),this.get("last_tx",{decode:!0,string:!1}),t,Ls(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class Lu{api;constructor(e){this.api=e}getInfo(){return this.api.get("info").then((e=>e.data))}getPeers(){return this.api.get("peers").then((e=>e.data))}}const Du=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"];class qu{chunkIndex=0;txPosted=!1;transaction;lastRequestTimeEnd=0;totalErrors=0;data;lastResponseStatus=0;lastResponseError="";get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}crypto;api;merkle;deepHash;constructor({deps:e,transaction:t}){if(!t.id)throw new Error("Transaction is not signed");if(!t.chunks)throw new Error("Transaction chunks not prepared");this.api=e.api,this.crypto=e.crypto,this.merkle=e.merkle,this.deepHash=e.deepHash,this.data=t.data,this.transaction=new Nu({attributes:Object.assign({},t,{data:new Uint8Array(0)}),deps:{merkle:e.merkle,deepHash:e.deepHash}})}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(""!==this.lastResponseError?this.totalErrors++:this.totalErrors=0,100===this.totalErrors)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let t=""===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+4e4-Date.now(),4e4);if(t>0&&(t-=t*Math.random()*.3,await new Promise((e=>setTimeout(e,t)))),this.lastResponseError="",!this.txPosted)return void await this.postTransaction();e&&(this.chunkIndex=e);const r=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(r.offset),0,parseInt(r.data_size),qs(r.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const n=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch((e=>(console.error(e.message),{status:-1,data:{error:e.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,200==this.lastResponseStatus)this.chunkIndex++;else if(this.lastResponseError=Xs(n),Du.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:e,data:t,deps:r}){if(!e||"number"!=typeof e.chunkIndex||"object"!=typeof e.transaction)throw new Error("Serialized object does not match expected format.");const n=new Nu(e.transaction);n.chunks||await n.prepareChunks(t);const i=new qu({deps:r,transaction:n});if(i.chunkIndex=e.chunkIndex,i.lastRequestTimeEnd=e.lastRequestTimeEnd,i.lastResponseError=e.lastResponseError,i.lastResponseStatus=e.lastResponseStatus,i.txPosted=e.txPosted,i.data=t,i.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return i}static async fromTransactionId(e,t){const r=await e.get(`tx/${t}`);if(200!==r.status)throw new Error(`Tx ${t} not found: ${r.status}`);const n=r.data;n.data=new Uint8Array(0);return{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:n}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=1){this.transaction.data=this.data;const e=await this.api.post("tx",this.transaction).catch((e=>(console.error(e),{status:-1,data:{error:e.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=e.status,this.transaction.data=new Uint8Array(0),e.status>=200&&e.status<300)return this.txPosted=!0,void(this.chunkIndex=1);throw this.lastResponseError=Xs(e),new Error(`Unable to upload transaction: ${e.status}, ${this.lastResponseError}`)}const e=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=e.status,!(e.status>=200&&e.status<300))throw this.lastResponseError=Xs(e),new Error(`Unable to upload transaction: ${e.status}, ${this.lastResponseError}`);this.txPosted=!0}}class Fu{api;crypto;chunks;merkle;deepHash;constructor({deps:e}){this.api=e.api,this.crypto=e.crypto,this.chunks=e.chunks,this.merkle=e.merkle,this.deepHash=e.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then((e=>e.data))}getPrice(e,t){const r=t?`price/${e}/${t}`:`price/${e}`;return this.api.get(r,{transformResponse:[function(e){return e}]}).then((e=>e.data))}async get(e){const t=await this.api.get(`tx/${e}`);if(200==t.status){const r=parseInt(t.data.data_size);if(t.data.format>=2&&r>0&&r<=12582912){const r=await this.getData(e);return new Nu({attributes:{...t.data,data:r},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new Nu({attributes:{...t.data,format:t.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}if(404===t.status)throw new Js("TX_NOT_FOUND");if(410===t.status)throw new Js("TX_FAILED");throw new Js("TX_INVALID")}fromRaw(e){return new Nu({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then((e=>200===e.status?{status:200,confirmed:e.data}:{status:e.status,confirmed:null}))}async getData(e){let t;try{t=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(t){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(t)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=await this.chunks.downloadChunkedData(e)}catch(t){console.error(`Error while trying to download chunked data for ${e}`),console.error(t)}}if(!t)throw new Error(`${e} data was not found!`);return t}async getDataStream(e){let t;try{const r=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;t=async function*(){yield r}()}catch(t){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(t)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=this.chunks.concurrentChunkDownloader(e)}catch(t){console.error(`Error while trying to download chunked data for ${e}`),console.error(t)}}if(!t)throw new Error(`${e} data was not found!`);return t}async sign(e,t,r){const n="object"==typeof t&&(e=>{let t=!0;return["n","e","d","p","q","dp","dq","qi"].map((r=>!(r in e)&&(t=!1))),t})(t),i="object"==typeof arweaveWallet;if(!n&&!i)throw new Error("No valid JWK or external wallet found to sign transaction.");if(i){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map((e=>new Bu(e.name,e.value)));const t=await arweaveWallet.sign(e,r);e.setSignature({id:t.id,owner:t.owner,reward:t.reward,tags:t.tags,signature:t.signature})}else{if(!n)throw new Error("An error occurred while signing. Check wallet is valid");{e.setOwner(t.n);const n=await e.getSignatureData(),i=await this.crypto.sign(t,n,r),s=await this.crypto.hash(i);e.setSignature({id:Hs(s),owner:t.n,signature:Hs(i)})}}}async verify(e){const t=await e.getSignatureData(),r=e.get("signature",{decode:!0,string:!1}),n=Hs(await this.crypto.hash(r));if(e.id!==n)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,t,r)}async post(e){if("string"==typeof e?e=new Nu({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):"function"==typeof e.readInt32BE?e=new Nu({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):"object"!=typeof e||e instanceof Nu||(e=new Nu({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof Nu))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);const t=await this.getUploader(e,e.data);try{for(;!t.isComplete;)await t.uploadChunk()}catch(e){if(t.lastResponseStatus>0)return{status:t.lastResponseStatus,statusText:t.lastResponseError,data:{error:t.lastResponseError}};throw e}return{status:200,statusText:"OK",data:{}}}async getUploader(e,t){let r;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e instanceof Nu){if(t||(t=e.data),!(t instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(t),r=new qu({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),r.data&&0!==r.data.length||(r.data=t)}else{if("string"==typeof e&&(e=await qu.fromTransactionId(this.api,e)),!(t&&t instanceof Uint8Array))throw new Error("Must provide data when resuming upload");r=await qu.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:t})}return r}async*upload(e,t){const r=await this.getUploader(e,t);for(;!r.isComplete;)await r.uploadChunk(),yield r;return r}}class Hu{api;crypto;constructor(e,t){this.api=e,this.crypto=t}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(e){return e}]}).then((e=>e.data))}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then((e=>e.data))}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return e&&"use_wallet"!==e?this.getAddress(e):this.getAddress()}async getAddress(e){if(e&&"use_wallet"!==e)return this.ownerToAddress(e.n);try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}async ownerToAddress(e){return Hs(await this.crypto.hash(qs(e)))}}class ju{config;api;wallets;transactions;network;blocks;chunks;static init;static utils=s;crypto;deepHash;merkle;static VERSION="0.0.1";constructor(e){if(this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=function(e,t){const r=e;return r.deepHash=new t.deepHash({deps:{utils:{stringToBuffer:Ls,concatBuffers:Is},crypto:e}}),r}(e.crypto,{deepHash:ao}),this.deepHash=this.crypto.deepHash;const t=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new Uu({gateways:t,miners:e.miners}),this.wallets=new Hu(this.api,this.crypto),this.chunks=new oo(this.api),this.network=new Lu(this.api),this.blocks=new Zs(this.api,this.network),this.merkle=new so({deps:{crypto:this.crypto}}),this.transactions=new Fu({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return ju.utils}getConfig(){return this.config}async createTransaction(e,t){const r={};if(Object.assign(r,e),!(e.data||e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(null==e.owner&&t&&"use_wallet"!==t&&(r.owner=t.n),null==e.last_tx&&(r.last_tx=await this.transactions.getTransactionAnchor()),"string"==typeof e.data&&(e.data=Ls(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(null==e.reward){const t=e.data?e.data.byteLength:0;r.reward=await this.transactions.getPrice(t,r.target)}r.data_root="",r.data_size=e.data?e.data.byteLength.toString():"0",r.data=e.data||new Uint8Array(0);const n=new Nu({attributes:r,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await n.getSignatureData(),n}}var zu=ju;class Ku extends ju{constructor(e,t){super({crypto:t?.crypto??new Gs,...t,gateways:e??"https://arweave.net"})}static init(e){return new Ku(e)}}const $u=Gs.default?Gs.default:Gs;class Gu extends $u{getPublicKey(e){throw new Error("Unimplemented")}}let Vu;function Wu(){return Vu??=new Gu}var Ju=r(48764).Buffer;class Xu{_key;pk;signatureType=1;ownerLength=Ps[1].pubLength;signatureLength=Ps[1].sigLength;_publicKey;get publicKey(){return this._publicKey}constructor(e,t){this._key=e,this.pk=t,t||(this.pk=Wu().getPublicKey(JSON.parse(e)))}sign(e){return(0,nr.createSign)("sha256").update(e).sign({key:this._key,padding:nr.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,t,r){return await Wu().verify(Ju.isBuffer(e)?sr.encode(e):e,t,r)}}var Zu=r(26876),Yu=r(9097),Qu=r(48764).Buffer;const ec=Zu.define;const tc=ec("RSAPublicKey",(function(){this.seq().obj(this.key("n").int(),this.key("e").int())})),rc=ec("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})),nc=(ec("PublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(rc),this.key("publicKey").bitstr())})),ec("Version",(function(){this.int({0:"two-prime",1:"multi"})}))),ic=ec("OtherPrimeInfos",(function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())})),sc=ec("RSAPrivateKey",(function(){this.seq().obj(this.key("version").use(nc),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(ic))}));ec("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").use(nc),this.key("algorithm").use(rc),this.key("privateKey").bitstr())}));function oc(e){return/^[0-9]+$/.test(e)?new Yu(e,10):function(e){return new Yu(Qu.from(e,"base64"))}(e)}function ac(e){const t=function(e){return{n:oc(e.n),e:oc(e.e),d:e.d&&oc(e.d),p:e.p&&oc(e.p),q:e.q&&oc(e.q),dp:e.dp&&oc(e.dp),dq:e.dq&&oc(e.dq),qi:e.qi&&oc(e.qi)}}(e),r=!!t.d,n=r?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+" KEY-----\n",s="\n-----END RSA "+n+" KEY-----\n";let o=Qu.alloc(0);r?(t.version="two-prime",o=sc.encode(t,"der")):o=tc.encode(t,"der");return i+o.toString("base64").match(/.{1,64}/g).join("\n")+s}class uc extends Xu{jwk;constructor(e){super(ac(e),e.n),this.jwk=e}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return sr.toBuffer(this.pk)}sign(e){return Wu().sign(this.jwk,e)}static async verify(e,t,r){const n=Wu();return await n.verify(e,t,r)}}var cc=r(48764).Buffer;class lc{_publicKey;ownerLength=Ps[2].pubLength;signatureLength=Ps[2].sigLength;signatureType=2;pem;provider;constructor(e){if(this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,t,r){let n=e;return"string"==typeof e&&(n=sr.toBuffer(e)),(0,Cs.T)(cc.from(r),cc.from(t),cc.from(n))}}var hc=r(91094),fc=r.n(hc);function dc(e){return"0x"+fc().keccak_256(ss(e))}const pc=new Yi("strings/5.7.0");var yc,gc;function mc(e,t,r,n,i){if(e===gc.BAD_PREFIX||e===gc.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===gc.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(yc||(yc={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(gc||(gc={}));const wc=Object.freeze({error:function(e,t,r,n,i){return pc.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:mc,replace:function(e,t,r,n,i){return e===gc.OVERLONG?(n.push(i),0):(n.push(65533),mc(e,t,r))}});function bc(e,t){null==t&&(t=wc.error),e=ss(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7==0){r.push(i);continue}let s=null,o=null;if(192==(224&i))s=1,o=127;else if(224==(240&i))s=2,o=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?gc.UNEXPECTED_CONTINUE:gc.BAD_PREFIX,n-1,e,r);continue}s=3,o=65535}if(n-1+s>=e.length){n+=t(gc.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-s-1)-1;for(let i=0;i<s;i++){let i=e[n];if(128!=(192&i)){n+=t(gc.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(gc.OUT_OF_RANGE,n-1-s,e,r,a):a>=55296&&a<=57343?n+=t(gc.UTF16_SURROGATE,n-1-s,e,r,a):a<=o?n+=t(gc.OVERLONG,n-1-s,e,r,a):r.push(a))}return r}function vc(e,t=yc.current){t!=yc.current&&(pc.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return ss(r)}function Ec(e,t){return bc(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function _c(e){return"string"==typeof e&&(e=vc(e)),dc(os([vc("Ethereum Signed Message:\n"),vc(String(e.length)),e]))}var Sc=r(33715),Ac=r.n(Sc);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;function xc(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},e(r,r.exports),r.exports}var Tc=kc;function kc(e,t){if(!e)throw new Error(t||"Assertion failed")}kc.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Rc=xc((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),Pc=xc((function(e,t){var r=t;r.assert=Tc,r.toArray=Rc.toArray,r.zero2=Rc.zero2,r.toHex=Rc.toHex,r.encode=Rc.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var a,u=s.andln(i-1);s.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var o,a,u=e.andln(3)+i&3,c=t.andln(3)+s&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),a=0==(1&c)?0:3!==(n=t.andln(7)+s&7)&&5!==n||2!==u?c:-c,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(ji())(e,"hex","le")}})),Cc=Pc.getNAF,Mc=Pc.getJSF,Oc=Pc.assert;function Uc(e,t){this.type=e,this.p=new(ji())(t.p,16),this.red=t.prime?ji().red(t.prime):ji().mont(this.p),this.zero=new(ji())(0).toRed(this.red),this.one=new(ji())(1).toRed(this.red),this.two=new(ji())(2).toRed(this.red),this.n=t.n&&new(ji())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ic=Uc;function Bc(e,t){this.curve=e,this.type=t,this.precomputed=null}Uc.prototype.point=function(){throw new Error("Not implemented")},Uc.prototype.validate=function(){throw new Error("Not implemented")},Uc.prototype._fixedNafMul=function(e,t){Oc(e.precomputed);var r=e._getDoubles(),n=Cc(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var u=s+r.step-1;u>=s;u--)o=(o<<1)+n[u];a.push(o)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<a.length;s++)(o=a[s])===h?l=l.mixedAdd(r.points[s]):o===-h&&(l=l.mixedAdd(r.points[s].neg()));c=c.add(l)}return c.toP()},Uc.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Cc(t,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var u=0;a>=0&&0===s[a];a--)u++;if(a>=0&&u++,o=o.dblp(u),a<0)break;var c=s[a];Oc(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},Uc.prototype._wnafMulAdd=function(e,t,r,n,i){var s,o,a,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var f=(a=t[s])._getNAFPoints(e);u[s]=f.wnd,c[s]=f.points}for(s=n-1;s>=1;s-=2){var d=s-1,p=s;if(1===u[d]&&1===u[p]){var y=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(y[1]=t[d].add(t[p]),y[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(y[1]=t[d].toJ().mixedAdd(t[p]),y[2]=t[d].add(t[p].neg())):(y[1]=t[d].toJ().mixedAdd(t[p]),y[2]=t[d].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],m=Mc(r[d],r[p]);for(h=Math.max(m[0].length,h),l[d]=new Array(h),l[p]=new Array(h),o=0;o<h;o++){var w=0|m[0][o],b=0|m[1][o];l[d][o]=g[3*(w+1)+(b+1)],l[p][o]=0,c[d]=y}}else l[d]=Cc(r[d],u[d],this._bitLength),l[p]=Cc(r[p],u[p],this._bitLength),h=Math.max(l[d].length,h),h=Math.max(l[p].length,h)}var v=this.jpoint(null,null,null),E=this._wnafT4;for(s=h;s>=0;s--){for(var _=0;s>=0;){var S=!0;for(o=0;o<n;o++)E[o]=0|l[o][s],0!==E[o]&&(S=!1);if(!S)break;_++,s--}if(s>=0&&_++,v=v.dblp(_),s<0)break;for(o=0;o<n;o++){var A=E[o];0!==A&&(A>0?a=c[o][A-1>>1]:A<0&&(a=c[o][-A-1>>1].neg()),v="affine"===a.type?v.mixedAdd(a):v.add(a))}}for(s=0;s<n;s++)c[s]=null;return i?v:v.toP()},Uc.BasePoint=Bc,Bc.prototype.eq=function(){throw new Error("Not implemented")},Bc.prototype.validate=function(){return this.curve.validate(this)},Uc.prototype.decodePoint=function(e,t){e=Pc.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?Oc(e[e.length-1]%2==0):7===e[0]&&Oc(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Bc.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Bc.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Bc.prototype.encode=function(e,t){return Pc.encode(this._encode(t),e)},Bc.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Bc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Bc.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},Bc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Bc.prototype._getBeta=function(){return null},Bc.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Nc=xc((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),Lc=Pc.assert;function Dc(e){Ic.call(this,"short",e),this.a=new(ji())(e.a,16).toRed(this.red),this.b=new(ji())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Nc(Dc,Ic);var qc=Dc;function Fc(e,t,r,n){Ic.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(ji())(t,16),this.y=new(ji())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Hc(e,t,r,n){Ic.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(ji())(0)):(this.x=new(ji())(t,16),this.y=new(ji())(r,16),this.z=new(ji())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Dc.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(ji())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(ji())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Lc(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(ji())(e.a,16),b:new(ji())(e.b,16)}})):this._getEndoBasis(r)}}},Dc.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ji().mont(e),r=new(ji())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(ji())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Dc.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,a,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),d=new(ji())(1),p=new(ji())(0),y=new(ji())(0),g=new(ji())(1),m=0;0!==h.cmpn(0);){var w=f.div(h);u=f.sub(w.mul(h)),c=y.sub(w.mul(d));var b=g.sub(w.mul(p));if(!n&&u.cmp(l)<0)t=a.neg(),r=d,n=u.neg(),i=c;else if(n&&2==++m)break;a=u,f=h,h=u,y=d,d=c,g=p,p=b}s=u.neg(),o=c;var v=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(v)>=0&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},Dc.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:u.add(c).neg()}},Dc.prototype.pointFromX=function(e,t){(e=new(ji())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Dc.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Dc.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*s]=a,n[2*s+1]=u,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return c},Nc(Fc,Ic.BasePoint),Dc.prototype.point=function(e,t,r){return new Fc(this,e,t,r)},Dc.prototype.pointFromJSON=function(e,t){return Fc.fromJSON(this,e,t)},Fc.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Fc.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Fc.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},Fc.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Fc.prototype.isInfinity=function(){return this.inf},Fc.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Fc.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Fc.prototype.getX=function(){return this.x.fromRed()},Fc.prototype.getY=function(){return this.y.fromRed()},Fc.prototype.mul=function(e){return e=new(ji())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Fc.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Fc.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Fc.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Fc.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Fc.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Nc(Hc,Ic.BasePoint),Dc.prototype.jpoint=function(e,t,r){return new Hc(this,e,t,r)},Hc.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Hc.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Hc.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),h=n.redMul(c),f=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(s.redMul(l)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,d,p)},Hc.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(l).redISub(l),f=a.redMul(l.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(o);return this.curve.jpoint(h,f,d)},Hc.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var l=s.redSqr(),h=c.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=s.redMul(h),y=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(y),m=d.redMul(g);m=m.redIAdd(m).redISub(f);var w=c.redMul(a);t+1<e&&(u=u.redMul(f)),s=y,a=w,c=m}return this.curve.jpoint(s,c.redMul(i),a)},Hc.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Hc.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),y=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Hc.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),y=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=d.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},Hc.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},Hc.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},Hc.prototype.mul=function(e,t){return e=new(ji())(e,t),this.curve._wnafMul(this,e)},Hc.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Hc.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Hc.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Hc.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var jc=xc((function(e,t){var r=t;r.base=Ic,r.short=qc,r.mont=null,r.edwards=null})),zc=xc((function(e,t){var r,n=t,i=Pc.assert;function s(e){"short"===e.type?this.curve=new jc.short(e):"edwards"===e.type?this.curve=new jc.edwards(e):this.curve=new jc.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ac().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ac().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ac().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ac().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ac().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ac().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ac().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ac().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Kc(e){if(!(this instanceof Kc))return new Kc(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Rc.toArray(e.entropy,e.entropyEnc||"hex"),r=Rc.toArray(e.nonce,e.nonceEnc||"hex"),n=Rc.toArray(e.pers,e.persEnc||"hex");Tc(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var $c=Kc;Kc.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Kc.prototype._hmac=function(){return new(Ac().hmac)(this.hash,this.K)},Kc.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Kc.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=Rc.toArray(e,t),r=Rc.toArray(r,n),Tc(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Kc.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=Rc.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,Rc.encode(s,t)};var Gc=Pc.assert;function Vc(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Wc=Vc;Vc.fromPublic=function(e,t,r){return t instanceof Vc?t:new Vc(e,{pub:t,pubEnc:r})},Vc.fromPrivate=function(e,t,r){return t instanceof Vc?t:new Vc(e,{priv:t,privEnc:r})},Vc.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Vc.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Vc.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Vc.prototype._importPrivate=function(e,t){this.priv=new(ji())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Vc.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Gc(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Gc(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Vc.prototype.derive=function(e){return e.validate()||Gc(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Vc.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Vc.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Vc.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Jc=Pc.assert;function Xc(e,t){if(e instanceof Xc)return e;this._importDER(e,t)||(Jc(e.r&&e.s,"Signature without r or s"),this.r=new(ji())(e.r,16),this.s=new(ji())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Zc=Xc;function Yc(){this.place=0}function Qc(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function el(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function tl(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Xc.prototype._importDER=function(e,t){e=Pc.toArray(e,t);var r=new Yc;if(48!==e[r.place++])return!1;var n=Qc(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Qc(e,r);if(!1===i)return!1;var s=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=Qc(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var a=e.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(ji())(s),this.s=new(ji())(a),this.recoveryParam=null,!0},Xc.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=el(t),r=el(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];tl(n,t.length),(n=n.concat(t)).push(2),tl(n,r.length);var i=n.concat(r),s=[48];return tl(s,i.length),s=s.concat(i),Pc.encode(s,e)};var rl=function(){throw new Error("unsupported")},nl=Pc.assert;function il(e){if(!(this instanceof il))return new il(e);"string"==typeof e&&(nl(Object.prototype.hasOwnProperty.call(zc,e),"Unknown curve "+e),e=zc[e]),e instanceof zc.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var sl=il;il.prototype.keyPair=function(e){return new Wc(this,e)},il.prototype.keyFromPrivate=function(e,t){return Wc.fromPrivate(this,e,t)},il.prototype.keyFromPublic=function(e,t){return Wc.fromPublic(this,e,t)},il.prototype.genKeyPair=function(e){e||(e={});for(var t=new $c({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rl(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(ji())(2));;){var i=new(ji())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},il.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},il.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(ji())(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),o=e.toArray("be",i),a=new $c({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(ji())(1)),c=0;;c++){var l=n.k?n.k(c):new(ji())(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=l.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var y=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),y^=1),new Zc({r:d,s:p,recoveryParam:y})}}}}}},il.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(ji())(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Zc(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),u=a.mul(e).umod(this.n),c=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},il.prototype.recoverPubKey=function(e,t,r,n){nl((3&r)===r,"The recovery param is more than two bits"),t=new Zc(t,n);var i=this.n,s=new(ji())(e),o=t.r,a=t.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var l=t.r.invm(i),h=i.sub(s).mul(l).umod(i),f=a.mul(l).umod(i);return this.g.mulAdd(h,o,f)},il.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Zc(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ol=xc((function(e,t){var r=t;r.version="6.5.4",r.utils=Pc,r.rand=function(){throw new Error("unsupported")},r.curve=jc,r.curves=zc,r.ec=sl,r.eddsa=null})),al=ol.ec;var ul=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const cl=new Yi("properties/5.7.0");function ll(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function hl(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function fl(e){return ul(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function dl(e){const t={};for(const r in e)t[r]=e[r];return t}const pl={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function yl(e){if(null==e||pl[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(e){continue}if(!yl(n))return!1}return!0}return cl.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function gl(e){if(yl(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>ml(e))));if("object"==typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&ll(t,r,ml(n))}return t}return cl.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function ml(e){return gl(e)}class wl{constructor(e){for(const t in e)this[t]=ml(e[t])}}const bl=new Yi("signing-key/5.7.0");let vl=null;function El(){return vl||(vl=new al("secp256k1")),vl}class _l{constructor(e){ll(this,"curve","secp256k1"),ll(this,"privateKey",ls(e)),32!==hs(this.privateKey)&&bl.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=El().keyFromPrivate(ss(this.privateKey));ll(this,"publicKey","0x"+t.getPublic(!1,"hex")),ll(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ll(this,"_isSigningKey",!0)}_addPoint(e){const t=El().keyFromPublic(ss(this.publicKey)),r=El().keyFromPublic(ss(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=El().keyFromPrivate(ss(this.privateKey)),r=ss(e);32!==r.length&&bl.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return ys({recoveryParam:n.recoveryParam,r:ps("0x"+n.r.toString(16),32),s:ps("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=El().keyFromPrivate(ss(this.privateKey)),r=El().keyFromPublic(ss(Al(e)));return ps("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Sl(e,t){const r=ys(t),n={r:ss(r.r),s:ss(r.s)};return"0x"+El().recoverPubKey(ss(e),n,r.recoveryParam).encode("hex",!1)}function Al(e,t){const r=ss(e);if(32===r.length){const e=new _l(r);return t?"0x"+El().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?ls(r):"0x"+El().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+El().keyFromPublic(r).getPublic(!0,"hex"):ls(r):bl.throwArgumentError("invalid public or private key","key","[REDACTED]")}const xl=new Yi("rlp/5.7.0");function Tl(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function kl(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(kl(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=Tl(t.length);return r.unshift(247+r.length),r.concat(t)}rs(e)||xl.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(ss(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=Tl(t.length);return r.unshift(183+r.length),r.concat(t)}function Rl(e){return ls(kl(e))}const Pl=new Yi("address/5.7.0");function Cl(e){us(e,20)||Pl.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const n=ss(dc(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Ml={};for(let e=0;e<10;e++)Ml[String(e)]=String(e);for(let e=0;e<26;e++)Ml[String.fromCharCode(65+e)]=String(10+e);const Ol=Math.floor((Ul=9007199254740991,Math.log10?Math.log10(Ul):Math.log(Ul)/Math.LN10));var Ul;function Il(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Ml[e])).join("");for(;t.length>=Ol;){let e=t.substring(0,Ol);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function Bl(e){let t=null;if("string"!=typeof e&&Pl.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Cl(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Pl.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Il(e)&&Pl.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new ms(r,36).toString(16);t.length<40;)t="0"+t;t=Cl("0x"+t)}else Pl.throwArgumentError("invalid address","address",e);var r;return t}const Nl=new Yi("transactions/5.7.0");var Ll;!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(Ll||(Ll={}));const Dl=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],ql={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Fl(e){return Bl(fs(dc(fs(Al(e),1)),12))}function Hl(e,t){return Fl(Sl(ss(e),t))}function jl(e,t){const r=as(_s.from(e).toHexString());return r.length>32&&Nl.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function zl(e,t){return{address:Bl(e),storageKeys:(t||[]).map(((t,r)=>(32!==hs(t)&&Nl.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase())))}}function Kl(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&Nl.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),zl(e[0],e[1])):zl(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return zl(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function $l(e){return Kl(e).map((e=>[e.address,e.storageKeys]))}function Gl(e,t){if(null!=e.gasPrice){const t=_s.from(e.gasPrice),r=_s.from(e.maxFeePerGas||0);t.eq(r)||Nl.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[jl(e.chainId||0,"chainId"),jl(e.nonce||0,"nonce"),jl(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jl(e.maxFeePerGas||0,"maxFeePerGas"),jl(e.gasLimit||0,"gasLimit"),null!=e.to?Bl(e.to):"0x",jl(e.value||0,"value"),e.data||"0x",$l(e.accessList||[])];if(t){const e=ys(t);r.push(jl(e.recoveryParam,"recoveryParam")),r.push(as(e.r)),r.push(as(e.s))}return ds(["0x02",Rl(r)])}function Vl(e,t){const r=[jl(e.chainId||0,"chainId"),jl(e.nonce||0,"nonce"),jl(e.gasPrice||0,"gasPrice"),jl(e.gasLimit||0,"gasLimit"),null!=e.to?Bl(e.to):"0x",jl(e.value||0,"value"),e.data||"0x",$l(e.accessList||[])];if(t){const e=ys(t);r.push(jl(e.recoveryParam,"recoveryParam")),r.push(as(e.r)),r.push(as(e.s))}return ds(["0x01",Rl(r)])}function Wl(e,t){var r,n;n=ql,(r=e)&&"object"==typeof r||cl.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((e=>{n[e]||cl.throwArgumentError("invalid object key - "+e,"transaction:"+e,r)}));const i=[];Dl.forEach((function(t){let r=e[t.name]||[];const n={};t.numeric&&(n.hexPad="left"),r=ss(ls(r,n)),t.length&&r.length!==t.length&&r.length>0&&Nl.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r),t.maxLength&&(r=as(r),r.length>t.maxLength&&Nl.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r)),i.push(ls(r))}));let s=0;if(null!=e.chainId?(s=e.chainId,"number"!=typeof s&&Nl.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!rs(t)&&t.v>28&&(s=Math.floor((t.v-35)/2)),0!==s&&(i.push(ls(s)),i.push("0x"),i.push("0x")),!t)return Rl(i);const o=ys(t);let a=27+o.recoveryParam;return 0!==s?(i.pop(),i.pop(),i.pop(),a+=2*s+8,o.v>28&&o.v!==a&&Nl.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):o.v!==a&&Nl.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),i.push(ls(a)),i.push(as(ss(o.r))),i.push(as(ss(o.s))),Rl(i)}function Jl(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&Nl.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),Wl(e,t);switch(e.type){case 1:return Vl(e,t);case 2:return Gl(e,t)}return Nl.throwError(`unsupported transaction type: ${e.type}`,Yi.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}var Xl=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const Zl=new Yi("abstract-provider/5.7.0");class Yl{constructor(){Zl.checkAbstract(new.target,Yl),ll(this,"_isProvider",!0)}getFeeData(){return Xl(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield fl({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=_s.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var Ql=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const eh=new Yi("abstract-signer/5.7.0"),th=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],rh=[Yi.errors.INSUFFICIENT_FUNDS,Yi.errors.NONCE_EXPIRED,Yi.errors.REPLACEMENT_UNDERPRICED];class nh{constructor(){eh.checkAbstract(new.target,nh),ll(this,"_isSigner",!0)}getBalance(e){return Ql(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return Ql(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return Ql(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield fl(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return Ql(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield fl(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return Ql(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return Ql(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Ql(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Ql(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return Ql(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===th.indexOf(t)&&eh.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=dl(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&eh.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return Ql(this,void 0,void 0,(function*(){const t=yield fl(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>Ql(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&eh.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||eh.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):eh.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&eh.throwError("network does not support EIP-1559",Yi.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):eh.throwError("failed to get consistent fee data",Yi.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(rh.indexOf(e.code)>=0)throw e;return eh.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Yi.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&eh.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield fl(t)}))}_checkProvider(e){this.provider||eh.throwError("missing provider",Yi.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class ih extends nh{constructor(e,t){super(),ll(this,"address",e),ll(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{eh.throwError(e,Yi.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ih(this.address,e)}}function sh(e){return dc(vc(e))}var oh=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const ah=new Yi("hash/5.7.0"),uh=new Uint8Array(32);uh.fill(0);const ch=_s.from(-1),lh=_s.from(0),hh=_s.from(1),fh=_s.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const dh=ps(hh.toHexString(),32),ph=ps(lh.toHexString(),32),yh={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},gh=["name","version","chainId","verifyingContract","salt"];function mh(e){return function(t){return"string"!=typeof t&&ah.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const wh={name:mh("name"),version:mh("version"),chainId:function(e){try{return _s.from(e).toString()}catch(e){}return ah.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return Bl(e).toLowerCase()}catch(e){}return ah.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=ss(e);if(32!==t.length)throw new Error("bad length");return ls(t)}catch(e){}return ah.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function bh(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&ah.throwArgumentError("invalid numeric width","type",e);const i=fh.mask(r?n-1:n),s=r?i.add(hh).mul(ch):lh;return function(t){const r=_s.from(t);return(r.lt(s)||r.gt(i))&&ah.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),ps(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&ah.throwArgumentError("invalid bytes width","type",e),function(t){return ss(t).length!==r&&ah.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=ss(e),r=t.length%32;return r?ds([t,uh.slice(r)]):ls(t)}(t)}}}switch(e){case"address":return function(e){return ps(Bl(e),32)};case"bool":return function(e){return e?dh:ph};case"bytes":return function(e){return dc(e)};case"string":return function(e){return sh(e)}}return null}function vh(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class Eh{constructor(e){ll(this,"types",Object.freeze(ml(e))),ll(this,"_encoderCache",{}),ll(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach((e=>{t[e]={},r[e]=[],n[e]={}}));for(const n in e){const i={};e[n].forEach((s=>{i[s.name]&&ah.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(n)}`,"types",e),i[s.name]=!0;const o=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===n&&ah.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e);bh(o)||(r[o]||ah.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",e),r[o].push(n),t[n][o]=!0)}))}const i=Object.keys(r).filter((e=>0===r[e].length));0===i.length?ah.throwArgumentError("missing primary type","types",e):i.length>1&&ah.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),ll(this,"primaryType",i[0]),function i(s,o){o[s]&&ah.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),o[s]=!0,Object.keys(t[s]).forEach((e=>{r[e]&&(i(e,o),Object.keys(o).forEach((t=>{n[t][e]=!0})))})),delete o[s]}(this.primaryType,{});for(const t in n){const r=Object.keys(n[t]);r.sort(),this._types[t]=vh(t,e[t])+r.map((t=>vh(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=bh(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&ah.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(dc)),dc(ds(i))}}const r=this.types[e];if(r){const t=sh(this._types[e]);return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this._types[r]?dc(n):n}));return n.unshift(t),ds(n)}}return ah.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||ah.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return dc(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(bh(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&ah.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,r)))}const i=this.types[e];return i?i.reduce(((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e)),{}):ah.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Eh(e)}static getPrimaryType(e){return Eh.from(e).primaryType}static hashStruct(e,t,r){return Eh.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=yh[r];n||ah.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>gh.indexOf(e.name)-gh.indexOf(t.name))),Eh.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return ds(["0x1901",Eh.hashDomain(e),Eh.from(t).hash(r)])}static hash(e,t,r){return dc(Eh.encode(e,t,r))}static resolveNames(e,t,r,n){return oh(this,void 0,void 0,(function*(){e=dl(e);const i={};e.verifyingContract&&!us(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=Eh.from(t);s.visit(r,((e,t)=>("address"!==e||us(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t)),{domain:e,value:r}}))}static getPayload(e,t,r){Eh.hashDomain(e);const n={},i=[];gh.forEach((t=>{const r=e[t];null!=r&&(n[t]=wh[t](r),i.push({name:t,type:yh[t]}))}));const s=Eh.from(t),o=dl(t);return o.EIP712Domain?ah.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return ls(ss(t));if(e.match(/^u?int/))return _s.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&ah.throwArgumentError("invalid string","value",t),t}return ah.throwArgumentError("unsupported type","type",e)}))}}}class _h{constructor(e){ll(this,"alphabet",e),ll(this,"base",e.length),ll(this,"_alphabetMap",{}),ll(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=ss(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return ss(new Uint8Array(t.reverse()))}}new _h("abcdefghijklmnopqrstuvwxyz234567");const Sh=new _h("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Ah;!function(e){e.sha256="sha256",e.sha512="sha512"}(Ah||(Ah={}));const xh=new Yi("sha2/5.7.0");function Th(e){return"0x"+Ac().sha256().update(ss(e)).digest("hex")}function kh(e,t,r){return Ah[e]||xh.throwError("unsupported algorithm "+e,Yi.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+Ac().hmac(Ac()[e],ss(t)).update(ss(r)).digest("hex")}function Rh(e,t,r,n,i){let s;e=ss(e),t=ss(t);let o=1;const a=new Uint8Array(n),u=new Uint8Array(t.length+4);let c,l;u.set(t);for(let h=1;h<=o;h++){u[t.length]=h>>24&255,u[t.length+1]=h>>16&255,u[t.length+2]=h>>8&255,u[t.length+3]=255&h;let f=ss(kh(i,e,u));s||(s=f.length,l=new Uint8Array(s),o=Math.ceil(n/s),c=n-(o-1)*s),l.set(f);for(let t=1;t<r;t++){f=ss(kh(i,e,f));for(let e=0;e<s;e++)l[e]^=f[e]}const d=(h-1)*s,p=h===o?c:s;a.set(ss(l).slice(0,p),d)}return ls(a)}const Ph=new Yi("wordlists/5.7.0");class Ch{constructor(e){Ph.checkAbstract(new.target,Ch),ll(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return sh(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}let Mh=null;function Oh(e){if(null==Mh&&(Mh="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Ch.check(e)))throw Mh=null,new Error("BIP39 Wordlist for en (English) FAILED")}const Uh=new class extends Ch{constructor(){super("en")}getWord(e){return Oh(this),Mh[e]}getWordIndex(e){return Oh(this),Mh.indexOf(e)}};Ch.register(Uh);const Ih={en:Uh},Bh=new Yi("hdnode/5.7.0"),Nh=_s.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Lh=vc("Bitcoin seed"),Dh=2147483648;function qh(e){return(1<<e)-1<<8-e}function Fh(e){return ps(ls(e),32)}function Hh(e){return Sh.encode(os([e,fs(Th(Th(e)),0,4)]))}function jh(e){if(null==e)return Ih.en;if("string"==typeof e){const t=Ih[e];return null==t&&Bh.throwArgumentError("unknown locale","wordlist",e),t}return e}const zh={},Kh="m/44'/60'/0'/0/0";class $h{constructor(e,t,r,n,i,s,o,a){if(e!==zh)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new _l(t);ll(this,"privateKey",e.privateKey),ll(this,"publicKey",e.compressedPublicKey)}else ll(this,"privateKey",null),ll(this,"publicKey",ls(r));var u;ll(this,"parentFingerprint",n),ll(this,"fingerprint",fs((u=Th(this.publicKey),"0x"+Ac().ripemd160().update(ss(u)).digest("hex")),0,4)),ll(this,"address",Fl(this.publicKey)),ll(this,"chainCode",i),ll(this,"index",s),ll(this,"depth",o),null==a?(ll(this,"mnemonic",null),ll(this,"path",null)):"string"==typeof a?(ll(this,"mnemonic",null),ll(this,"path",a)):(ll(this,"mnemonic",a),ll(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Hh(os([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",ls(this.depth),this.parentFingerprint,ps(ls(this.index),4),this.chainCode,null!=this.privateKey?os(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new $h(zh,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(2147483647&e));const r=new Uint8Array(37);if(e&Dh){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(ss(this.privateKey),1),t&&(t+="'")}else r.set(ss(this.publicKey));for(let t=24;t>=0;t-=8)r[33+(t>>3)]=e>>24-t&255;const n=ss(kh(Ah.sha512,this.chainCode,r)),i=n.slice(0,32),s=n.slice(32);let o=null,a=null;if(this.privateKey)o=Fh(_s.from(i).add(this.privateKey).mod(Nh));else{a=new _l(ls(i))._addPoint(this.publicKey)}let u=t;const c=this.mnemonic;return c&&(u=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})),new $h(zh,o,a,this.fingerprint,Fh(s),e,this.depth+1,u)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let e=0;e<t.length;e++){const n=t[e];if(n.match(/^[0-9]+'$/)){const e=parseInt(n.substring(0,n.length-1));if(e>=Dh)throw new Error("invalid path index - "+n);r=r._derive(Dh+e)}else{if(!n.match(/^[0-9]+$/))throw new Error("invalid path component - "+n);{const e=parseInt(n);if(e>=Dh)throw new Error("invalid path index - "+n);r=r._derive(e)}}}return r}static _fromSeed(e,t){const r=ss(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=ss(kh(Ah.sha512,Lh,r));return new $h(zh,Fh(n.slice(0,32)),null,"0x00000000",Fh(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=Vh(Gh(e,r=jh(r)),r),$h._fromSeed(function(e,t){t||(t="");const r=vc("mnemonic"+t,yc.NFKD);return Rh(vc(e,yc.NFKD),r,2048,64,"sha512")}(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return $h._fromSeed(e,null)}static fromExtendedKey(e){const t=Sh.decode(e);82===t.length&&Hh(t.slice(0,78))===e||Bh.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],n=ls(t.slice(5,9)),i=parseInt(ls(t.slice(9,13)).substring(2),16),s=ls(t.slice(13,45)),o=t.slice(45,78);switch(ls(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new $h(zh,null,ls(o),n,s,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new $h(zh,ls(o.slice(1)),null,n,s,i,r,null)}return Bh.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Gh(e,t){t=jh(t),Bh.checkNormalize();const r=t.split(e);if(r.length%3!=0)throw new Error("invalid mnemonic");const n=ss(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let e=0;e<r.length;e++){let s=t.getWordIndex(r[e].normalize("NFKD"));if(-1===s)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)s&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=qh(r.length/3);if((ss(Th(n.slice(0,s/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return ls(n.slice(0,s/8))}function Vh(e,t){if(t=jh(t),(e=ss(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&(1<<8-n)-1),n+=3);const i=e.length/4,s=ss(Th(e))[0]&qh(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,t.join(r.map((e=>t.getWord(e))))}const Wh=new Yi("random/5.7.0");const Jh=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();let Xh=Jh.crypto||Jh.msCrypto;function Zh(e){(e<=0||e>1024||e%1||e!=e)&&Wh.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return Xh.getRandomValues(t),ss(t)}Xh&&Xh.getRandomValues||(Wh.warn("WARNING: Missing strong random number source"),Xh={getRandomValues:function(e){return Wh.throwError("no secure random source avaialble",Yi.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Yh=r(78826),Qh=r.n(Yh),ef=r(17635),tf=r.n(ef);function rf(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ss(e)}function nf(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function sf(e){return"string"==typeof e?vc(e,yc.NFKC):ss(e)}function of(e,t){let r=e;const n=t.toLowerCase().split("/");for(let e=0;e<n.length;e++){let t=null;for(const i in r)if(i.toLowerCase()===n[e]){t=r[i];break}if(null===t)return null;r=t}return r}function af(e){const t=ss(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=ls(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const uf="json-wallets/5.7.0";var cf=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const lf=new Yi(uf);function hf(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class ff extends wl{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function df(e,t){const r=rf(of(e,"crypto/ciphertext"));if(ls(dc(os([t.slice(16,32),r]))).substring(2)!==of(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(e,t,r){if("aes-128-ctr"===of(e,"crypto/cipher")){const n=rf(of(e,"crypto/cipherparams/iv")),i=new(Qh().Counter)(n);return ss(new(Qh().ModeOfOperation.ctr)(t,i).decrypt(r))}return null}(e,t.slice(0,16),r);n||lf.throwError("unsupported cipher",Yi.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),s=Fl(n);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),Bl(t)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:ls(n)};if("0.1"===of(e,"x-ethers/version")){const t=rf(of(e,"x-ethers/mnemonicCiphertext")),r=rf(of(e,"x-ethers/mnemonicCounter")),n=new(Qh().Counter)(r),s=new(Qh().ModeOfOperation.ctr)(i,n),a=of(e,"x-ethers/path")||Kh,u=of(e,"x-ethers/locale")||"en",c=ss(s.decrypt(t));try{const e=Vh(c,u),t=$h.fromMnemonic(e,null,u).derivePath(a);if(t.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=t.mnemonic}catch(e){if(e.code!==Yi.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new ff(o)}function pf(e,t,r,n,i){return ss(Rh(e,t,r,n,i))}function yf(e,t,r,n,i){return Promise.resolve(pf(e,t,r,n,i))}function gf(e,t,r,n,i){const s=sf(t),o=of(e,"crypto/kdf");if(o&&"string"==typeof o){const t=function(e,t){return lf.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===o.toLowerCase()){const r=rf(of(e,"crypto/kdfparams/salt")),a=parseInt(of(e,"crypto/kdfparams/n")),u=parseInt(of(e,"crypto/kdfparams/r")),c=parseInt(of(e,"crypto/kdfparams/p"));a&&u&&c||t("kdf",o),0!=(a&a-1)&&t("N",a);const l=parseInt(of(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),n(s,r,a,u,c,64,i)}if("pbkdf2"===o.toLowerCase()){const n=rf(of(e,"crypto/kdfparams/salt"));let i=null;const o=of(e,"crypto/kdfparams/prf");"hmac-sha256"===o?i="sha256":"hmac-sha512"===o?i="sha512":t("prf",o);const a=parseInt(of(e,"crypto/kdfparams/c")),u=parseInt(of(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(s,n,a,u,i)}}return lf.throwArgumentError("unsupported key-derivation function","kdf",o)}const mf=new Yi(uf);class wf extends wl{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function bf(e,t){const r=JSON.parse(e);t=sf(t);const n=Bl(of(r,"ethaddr")),i=rf(of(r,"encseed"));i&&i.length%16==0||mf.throwArgumentError("invalid encseed","json",e);const s=ss(Rh(t,t,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),u=new(Qh().ModeOfOperation.cbc)(s,o),c=Qh().padding.pkcs7.strip(ss(u.decrypt(a)));let l="";for(let e=0;e<c.length;e++)l+=String.fromCharCode(c[e]);const h=dc(vc(l));return new wf({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function vf(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function Ef(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function _f(e,t,r){if(vf(e)){r&&r(0);const n=bf(e,t);return r&&r(1),Promise.resolve(n)}return Ef(e)?function(e,t,r){return cf(this,void 0,void 0,(function*(){const n=JSON.parse(e);return df(n,yield gf(n,t,yf,tf().scrypt,r))}))}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function Sf(e,t){if(vf(e))return bf(e,t);if(Ef(e))return function(e,t){const r=JSON.parse(e);return df(r,gf(r,t,pf,tf().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}var Af=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const xf=new Yi("wallet/5.7.0");class Tf extends nh{constructor(e,t){if(super(),null!=(r=e)&&us(r.privateKey,32)&&null!=r.address){const t=new _l(e.privateKey);if(ll(this,"_signingKey",(()=>t)),ll(this,"address",Fl(this.publicKey)),this.address!==Bl(e.address)&&xf.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;ll(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||Kh,locale:t.locale||"en"})));const r=this.mnemonic;Fl($h.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&xf.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ll(this,"_mnemonic",(()=>null))}else{if(_l.isSigningKey(e))"secp256k1"!==e.curve&&xf.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ll(this,"_signingKey",(()=>e));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new _l(e);ll(this,"_signingKey",(()=>t))}ll(this,"_mnemonic",(()=>null)),ll(this,"address",Fl(this.publicKey))}var r;t&&!Yl.isProvider(t)&&xf.throwArgumentError("invalid provider","provider",t),ll(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Tf(this,e)}signTransaction(e){return fl(e).then((t=>{null!=t.from&&(Bl(t.from)!==this.address&&xf.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(dc(Jl(t)));return Jl(t,r)}))}signMessage(e){return Af(this,void 0,void 0,(function*(){return gs(this._signingKey().signDigest(_c(e)))}))}_signTypedData(e,t,r){return Af(this,void 0,void 0,(function*(){const n=yield Eh.resolveNames(e,t,r,(e=>(null==this.provider&&xf.throwError("cannot resolve ENS names without a provider",Yi.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return gs(this._signingKey().signDigest(Eh.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(Bl(e.address)!==Fl(e.privateKey))throw new Error("address/privateKey mismatch");if(hf(e)){const t=e.mnemonic;if($h.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||Kh).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof r||n||(n=r,r={}),r||(r={});const i=ss(e.privateKey),s=sf(t);let o=null,a=null,u=null;if(hf(e)){const t=e.mnemonic;o=ss(Gh(t.phrase,t.locale||"en")),a=t.path||Kh,u=t.locale||"en"}let c=r.client;c||(c="ethers.js");let l=null;l=r.salt?ss(r.salt):Zh(32);let h=null;if(r.iv){if(h=ss(r.iv),16!==h.length)throw new Error("invalid iv")}else h=Zh(16);let f=null;if(r.uuid){if(f=ss(r.uuid),16!==f.length)throw new Error("invalid uuid")}else f=Zh(16);let d=1<<17,p=8,y=1;return r.scrypt&&(r.scrypt.N&&(d=r.scrypt.N),r.scrypt.r&&(p=r.scrypt.r),r.scrypt.p&&(y=r.scrypt.p)),tf().scrypt(s,l,d,p,y,64,n).then((t=>{const r=(t=ss(t)).slice(0,16),n=t.slice(16,32),s=t.slice(32,64),g=new(Qh().Counter)(h),m=ss(new(Qh().ModeOfOperation.ctr)(r,g).encrypt(i)),w=dc(os([n,m])),b={address:e.address.substring(2).toLowerCase(),id:af(f),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ls(h).substring(2)},ciphertext:ls(m).substring(2),kdf:"scrypt",kdfparams:{salt:ls(l).substring(2),n:d,dklen:32,p:y,r:p},mac:w.substring(2)}};if(o){const e=Zh(16),t=new(Qh().Counter)(e),r=ss(new(Qh().ModeOfOperation.ctr)(s,t).encrypt(o)),n=new Date,i=n.getUTCFullYear()+"-"+nf(n.getUTCMonth()+1,2)+"-"+nf(n.getUTCDate(),2)+"T"+nf(n.getUTCHours(),2)+"-"+nf(n.getUTCMinutes(),2)+"-"+nf(n.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:c,gethFilename:"UTC--"+i+"--"+b.address,mnemonicCounter:ls(e).substring(2),mnemonicCiphertext:ls(r).substring(2),path:a,locale:u,version:"0.1"}}return JSON.stringify(b)}))}(this,e,t,r)}static createRandom(e){let t=Zh(16);e||(e={}),e.extraEntropy&&(t=ss(fs(dc(os([t,e.extraEntropy])),0,16)));const r=Vh(t,e.locale);return Tf.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return _f(e,t,r).then((e=>new Tf(e)))}static fromEncryptedJsonSync(e,t){return new Tf(Sf(e,t))}static fromMnemonic(e,t,r){return t||(t=Kh),new Tf($h.fromMnemonic(e,null,r).derivePath(t))}}function kf(e,t,r,n){return Hl(Eh.hash(e,t,r),n)}var Rf=r(48764).Buffer;class Pf{signer;publicKey;ownerLength=Ps[Rs.ETHEREUM].pubLength;signatureLength=Ps[Rs.ETHEREUM].sigLength;signatureType=Rs.ETHEREUM;constructor(e){this.signer=e.getSigner()}async setPublicKey(){const e="sign this message to connect to Bundlr.Network",t=await this.signer.signMessage(e),r=Sl(ss(await _c(e)),t);this.publicKey=Rf.from(ss(r))}async sign(e){this.publicKey||await this.setPublicKey();const t=await this.signer.signMessage(e);return Rf.from(t.slice(2),"hex")}static verify(e,t,r){const n=Fl(e);return function(e,t){return Hl(_c(e),t)}(t,r)===n}}var Cf=r(73581);class Mf extends Os{get publicKey(){return Cf.decode(this.pk)}get key(){return Cf.decode(this._key)}constructor(e){const t=Cf.decode(e);super(Cf.encode(t.subarray(0,32)),Cf.encode(t.subarray(32,64)))}}var Of=r(17221),Uf=r(48764),If=r(95811);function Bf(e){return e=Nf(e),If("keccak256").update(e).digest()}function Nf(e){if(!Uf.Buffer.isBuffer(e))if(Array.isArray(e))e=Uf.Buffer.from(e);else if("string"==typeof e)e=Lf(e)?Uf.Buffer.from(Df(qf(e)),"hex"):Uf.Buffer.from(e);else if("number"==typeof e)e=Hf(e);else if(null==e)e=Uf.Buffer.allocUnsafe(0);else if(Hi.isBN(e))e=e.toArrayLike(Uf.Buffer);else{if(!e.toArray)throw new Error("invalid type");e=Uf.Buffer.from(e.toArray())}return e}function Lf(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function Df(e){if("string"!=typeof e)throw new Error(`while padding to even, value must be string, is currently ${typeof e}, while padToEven.`);return e.length%2&&(e=`0${e}`),e}function qf(e){return"string"!=typeof e?e:Ff(e)?e.slice(2):e}function Ff(e){if("string"!=typeof e)throw new Error("value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.startsWith("0x")}function Hf(e){const t=jf(e);return Uf.Buffer.from(Df(t.slice(2)),"hex")}function jf(e){return`0x${e.toString(16)}`}"undefined"!=typeof window&&(window.keccak256=Bf);var zf=Bf;const Kf={intToBuffer:Hf,intToHex:jf,isHexPrefixed:Ff,stripHexPrefix:qf,padToEven:Df,isHexString:Lf,toBuffer:Nf};var $f=r(48764).Buffer;class Gf{_key;ownerLength=Ps[Rs.ETHEREUM].pubLength;signatureLength=Ps[Rs.ETHEREUM].sigLength;signatureType=Rs.ETHEREUM;pk;constructor(e,t){this._key=e,this.pk=t.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return $f.from(this._key,"hex")}static async verify(e,t,r){let n=e;"string"==typeof e&&(n=sr.toBuffer(e));let i=!1;try{i=Of.ecdsaVerify(r,zf($f.from(t)),n)}catch(e){}return i}async sign(e){return Of.ecdsaSign(zf($f.from(e)),$f.from(this.key)).signature}}var Vf=r(48764).Buffer;class Wf extends Gf{get publicKey(){return Vf.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));const t=Vf.from(e,"hex"),r=Of.publicKeyCreate(t,!1);super(e,Vf.from(r))}async sign(e){return new Tf(this._key).signMessage(e).then((e=>Vf.from(e.slice(2),"hex")))}static async verify(e,t,r){return Of.ecdsaVerify(65===r.length?r.slice(0,-1):r,ss(_c(t)),"string"==typeof e?sr.toBuffer(e):e)}}class Jf extends Wf{}class Xf extends Mf{constructor(e){super(e.replace("ed25519:",""))}}var Zf=r(48764).Buffer;class Yf extends Os{get publicKey(){return Zf.from(this.pk)}get key(){return Zf.from(this._key)}constructor(e,t){super(e.subarray(0,32),t)}}var Qf=r(48764).Buffer;class ed extends lc{signatureType=4;constructor(e){super(e)}async sign(e){return super.sign(Qf.from(Qf.from(e).toString("hex")))}static async verify(e,t,r){return super.verify(e,Qf.from(Qf.from(t).toString("hex")),r)}}var td=r(48764).Buffer;class rd extends Mf{signatureType=4;constructor(e){super(e)}async sign(e){return super.sign(td.from(td.from(e).toString("hex")))}static async verify(e,t,r){return super.verify(e,td.from(td.from(t).toString("hex")),r)}}var nd=r(48764).Buffer;class id extends Os{constructor(e,t){super(e,t)}get publicKey(){return nd.from(this.pk.slice(2),"hex")}get key(){return nd.from(this._key.slice(2),"hex")}}var sd=r(48764).Buffer;class od{_publicKey;ownerLength=Ps[Rs.INJECTEDAPTOS].pubLength;signatureLength=Ps[Rs.INJECTEDAPTOS].sigLength;signatureType=Rs.INJECTEDAPTOS;pem;provider;constructor(e,t){this.provider=e,this._publicKey=t}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const t=await this.provider.signMessage({message:sd.from(e).toString("hex"),nonce:"bundlr"});return sd.from(t.signature,"hex")}static async verify(e,t,r){const n=e;return(0,Cs.T)(sd.from(r),sd.from(`APTOS\nmessage: ${sd.from(t).toString("hex")}\nnonce: bundlr`),sd.from(n))}}var ad=r(48764).Buffer;class ud{_publicKey;ownerLength=Ps[Rs.MULTIAPTOS].pubLength;signatureLength=Ps[Rs.MULTIAPTOS].sigLength;signatureType=Rs.MULTIAPTOS;collectSignatures;provider;constructor(e,t){this._publicKey=e,this.collectSignatures=t}get publicKey(){return this._publicKey}async sign(e){const{signatures:t,bitmap:r}=await this.collectSignatures(e),n=new Uint8Array([0,0,0,0]),i=new Set;r.forEach((e=>{if(e>=32)throw new Error(`Invalid bit value ${e}.`);if(i.has(e))throw new Error("Duplicated bits detected.");i.add(e);const t=Math.floor(e/8);let r=n[t];r|=128>>e%8,n[t]=r}));const s=ad.alloc(this.signatureLength);let o=0;for(let e=0;e<32;e++)r.includes(e)&&s.set(t[o++],64*e);return s.set(n,this.signatureLength-4),s}static async verify(e,t,r){const n=Ps[Rs.MULTIAPTOS].sigLength-4,i=r.slice(0,n),s=r.slice(n);let o=!1;for(let r=0;r<32;r++){const n=Math.floor(r/8),a=r-8*n;if(0!=(s[n]&128>>a)){const n=i.slice(64*r,64*(r+1)),s=e.slice(32*r,32*(r+1));await(0,Cs.T)(ad.from(n),ad.from(t),ad.from(s))||(o=!0)}}return!o}}var cd=r(48764).Buffer;class ld extends Wf{ownerLength=Ps[Rs.TYPEDETHEREUM].pubLength;signatureLength=Ps[Rs.TYPEDETHEREUM].sigLength;signatureType=Rs.TYPEDETHEREUM;address;signer;constructor(e){super(e),this.address="0x"+zf(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new Tf(e)}get publicKey(){return cd.from(this.address)}async sign(e){const t=await this.signer._signTypedData(hd,fd,{address:this.address,"Transaction hash":e});return cd.from(t.slice(2),"hex")}static async verify(e,t,r){const n=e.toString(),i=kf(hd,fd,{address:n,"Transaction hash":t},r);return n.toLowerCase()===i.toLowerCase()}}const hd={name:"Bundlr",version:"1"},fd={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]};var dd=r(48764).Buffer;class pd{ownerLength=Ps[Rs.TYPEDETHEREUM].pubLength;signatureLength=Ps[Rs.TYPEDETHEREUM].sigLength;signatureType=Rs.TYPEDETHEREUM;address;signer;publicKey;constructor(e){this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=dd.from(this.address)}async sign(e){const t=await this.signer._signTypedData(hd,fd,{address:this.address,"Transaction hash":e});return dd.from(t.slice(2),"hex")}static verify(e,t,r){const n=e.toString(),i=kf(hd,fd,{address:n,"Transaction hash":t},r);return n.toLowerCase()===i.toLowerCase()}}class yd{signer;publicKey;ownerLength=Ps[Rs.ARWEAVE].pubLength;signatureLength=Ps[Rs.ARWEAVE].sigLength;signatureType=Rs.ARWEAVE;arweave;constructor(e,t){this.signer=e,this.arweave=t}async setPublicKey(){const e=await this.signer.getActivePublicKey();this.publicKey=sr.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();const t=await this.signer.signature(e,{name:"RSA-PSS",saltLength:32});return new Uint8Array(Object.values(t).map((e=>+e)))}static async verify(e,t,r){return await Wu().verify(e,t,r)}}const gd={1:uc,2:Os,3:Wf,4:ed,5:od,6:ud,7:ld};var md=async function(e){return Vs([Ls("dataitem"),Ls("1"),Ls(e.signatureType.toString()),e.rawOwner,e.rawTarget,e.rawAnchor,e.rawTags,e.rawData])};function wd(e,t){const r=new Uint8Array(e);if(t<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(t>2**(8*e)-1)throw new Error(`Number ${t} is too large for an array of ${e} bytes`);for(let e=0;e<r.length;e++){const n=255&t;r[e]=n,t=(t-n)/256}return r}function bd(e){return wd(8,e)}function vd(e){return wd(2,e)}function Ed(e){return wd(16,e)}function _d(e){return wd(32,e)}function Sd(e){let t=0;for(let r=e.length-1;r>=0;r--)t=256*t+e[r];return t}var Ad=r(48764).Buffer;class xd{buf;pos;constructor(e=Ad.alloc(Pd),t=0){this.buf=e,this.pos=t}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");const t=e.length;let r;if(t)for(this.writeLong(t),r=0;r<t;r++){const t=e[r];if("string"!=typeof t?.name||"string"!=typeof t?.value)throw new Error(`Invalid tag format for ${t}, expected {name:string, value: string}`);this.writeString(t.name),this.writeString(t.value)}this.writeLong(0)}toBuffer(){const e=Ad.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){const t=this.buf;let r,n;if(e>=-1073741824&&e<1073741824){n=e>=0?e<<1:~e<<1|1;do{t[this.pos]=127&n,n>>=7}while(n&&(t[this.pos++]|=128))}else{r=e>=0?2*e:2*-e-1;do{t[this.pos]=127&r,r/=128}while(r>=1&&(t[this.pos++]|=128))}this.pos++,this.buf=t}writeString(e){const t=Ad.byteLength(e),r=this.buf;this.writeLong(t);let n=this.pos;if(this.pos+=t,!(this.pos>r.length)){if(t>64)this.buf.write(e,this.pos-t,t,"utf8");else{let i,s,o,a;for(i=0,s=t;i<s;i++)o=e.charCodeAt(i),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):55296==(64512&o)&&56320==(64512&(a=e.charCodeAt(i+1)))?(o=65536+((1023&o)<<10)+(1023&a),i++,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}this.buf=r}}readLong(){let e=0,t=0;const r=this.buf;let n,i,s,o;do{n=r[this.pos++],i=128&n,e|=(127&n)<<t,t+=7}while(i&&t<28);if(i){s=e,o=268435456;do{n=r[this.pos++],s+=(127&n)*o,o*=128}while(128&n);return(s%2?-(s+1):s)/2}return e>>1^-(1&e)}skipLong(){const e=this.buf;for(;128&e[this.pos++];);}readTags(){const e=[];let t;for(;t=this.readLong();)for(t<0&&(t=-t,this.skipLong());t--;){const t=this.readString(),r=this.readString();e.push({name:t,value:r})}return e}readString(){const e=this.readLong(),t=this.pos,r=this.buf;if(this.pos+=e,this.pos>r.length)throw new Error("TAP Position out of range");return this.buf.slice(t,t+e).toString()}}function Td(e){if(0===e?.length)return Ad.allocUnsafe(0);const t=new xd;return t.writeTags(e),t.toBuffer()}function kd(e){return new xd(e).readTags()}const Rd=80,Pd=4096;class Cd{binary;_id;constructor(e){this.binary=e}static isDataItem(e){return void 0!==e.binary}get signatureType(){const e=Sd(this.binary.subarray(0,2));if(void 0!==Rs?.[e])return e;throw new Error("Unknown signature type: "+e)}async isValid(){return Cd.verify(this.binary)}get id(){return sr.encode(this.rawId)}set id(e){this._id=sr.toBuffer(e)}get rawId(){return(0,nr.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return sr.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Ps[this.signatureType].sigLength}get owner(){return sr.encode(this.rawOwner)}get ownerLength(){return Ps[this.signatureType].pubLength}get rawTarget(){const e=this.getTargetStart();return 1==this.binary[e]?this.binary.subarray(e+1,e+33):Uf.Buffer.alloc(0)}get target(){return sr.encode(this.rawTarget)}get rawAnchor(){const e=this.getAnchorStart();return 1==this.binary[e]?this.binary.subarray(e+1,e+33):Uf.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const e=this.getTagsStart(),t=Sd(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+t)}get tags(){const e=this.getTagsStart();if(0==Sd(this.binary.subarray(e,e+8)))return[];const t=Sd(this.binary.subarray(e+8,e+16));return kd(Uf.Buffer.from(this.binary.subarray(e+16,e+16+t)))}get tagsB64Url(){return this.tags.map((e=>({name:sr.encode(e.name),value:sr.encode(e.value)})))}getStartOfData(){const e=this.getTagsStart();return e+16+Sd(this.binary.subarray(e+8,e+16))}get rawData(){const e=this.getTagsStart(),t=e+16+Sd(this.binary.subarray(e+8,e+16));return this.binary.subarray(t,this.binary.length)}get data(){return sr.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await Fd(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=Uf.Buffer.from(await Wu().hash(e))}isSigned(){return(this._id?.length??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map((e=>({name:sr.encode(e.name),value:sr.encode(e.value)}))),data:this.data}}static async verify(e){if(e.byteLength<Rd)return!1;const t=new Cd(e),r=t.signatureType,n=t.getTagsStart(),i=Sd(e.subarray(n,n+8)),s=Sd(e.subarray(n+8,n+16));if(s>Pd)return!1;if(i>0)try{if(kd(Uf.Buffer.from(e.subarray(n+16,n+16+s))).length!==i)return!1}catch(e){return!1}const o=gd[r],a=await md(t);return await o.verify(t.rawOwner,a,t.rawSignature)}async getSignatureData(){return md(this)}getTagsStart(){const e=this.getTargetStart();let t=e+(1==this.binary[e]?33:1);return t+=1==this.binary[t]?33:1,t}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1;return e+=1==this.binary[this.getTargetStart()]?32:0,e}}var Md=Cd,Od=r(48764).Buffer;const Ud=32;class Id{length;items;binary;constructor(e){this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if("number"==typeof e){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}return this.getById(e)}getSizes(){const e=[];for(let t=Ud;t<Ud+64*this.length;t+=64)e.push(Sd(this.binary.subarray(t,t+32)));return e}getIds(){const e=[];for(let t=Ud;t<Ud+64*this.length;t+=64){const r=this.binary.subarray(t+32,t+64);if(0===r.length)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(sr.encode(r))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");const t=64+64*e;return sr.encode(this.binary.subarray(t,t+32))}async toTransaction(e,t,r){const n=await t.createTransaction({data:this.binary,...e},r);return n.addTag("Bundle-Format","binary"),n.addTag("Bundle-Version","2.0.0"),n}async verify(){for(const e of this.items){const t=await e.isValid(),r=sr((0,nr.createHash)("sha256").update(e.rawSignature).digest());if(!t||e.id!==r)return!1}return!0}getOffset(e){let t=0;for(let r=Ud;r<Ud+64*this.length;r+=64){const n=Sd(this.binary.subarray(r,r+32));t+=n;const i=this.binary.subarray(r+32,r+64);if(0===Od.compare(i,e))return{startOffset:t,size:n}}return{startOffset:-1,size:-1}}getByIndex(e){let t=0;const r=this.getBundleStart();let n,i,s=0;for(let r=Ud;r<Ud+64*this.length;r+=64){if(n=Sd(this.binary.subarray(r,r+32)),s++===e){i=this.binary.subarray(r+32,r+64);break}t+=n}const o=r+t,a=this.binary.subarray(o,o+n),u=new Md(a);return u.rawId=i,u}getById(e){const t=sr.toBuffer(e),r=this.getOffset(t);if(-1===r.startOffset)throw new Error("Transaction not found");const n=this.getBundleStart()+r.startOffset;return new Md(this.binary.subarray(n,n+r.size))}getDataItemCount(){return Sd(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const e=new Array(this.length);let t=0;const r=this.getBundleStart();let n=0;for(let i=Ud;i<Ud+64*this.length;i+=64){const s=Sd(this.binary.subarray(i,i+32)),o=this.binary.subarray(i+32,i+64);if(0===o.length)throw new Error("Invalid bundle, id specified in headers doesn't exist");const a=r+t,u=this.binary.subarray(a,a+s);t+=s;const c=new Md(u);c.rawId=o,e[n]=c,n++}return e}}var Bd=Id,Nd=r(48764).Buffer;function Ld(e){return new Bd(e)}async function Dd(e,t){const r=new Uint8Array(64*e.length),n=await Promise.all(e.map((async(e,n)=>{const i=e.isSigned()?e.rawId:await Fd(e,t),s=new Uint8Array(64);return s.set(_d(e.getRaw().byteLength),0),s.set(i,32),r.set(s,64*n),e.getRaw()}))).then((e=>Nd.concat(e))),i=Nd.concat([Nd.from(_d(e.length)),Nd.from(r),n]);return new Bd(i)}async function qd(e,t){const r=await md(e),n=await t.sign(r),i=await Wu().hash(n);return{signature:Nd.from(n),id:Nd.from(i)}}async function Fd(e,t){const{signature:r,id:n}=await qd(e,t);return e.getRaw().set(r,2),n}var Hd=r(48764).Buffer;function jd(e,t,r){const n=t.publicKey,i=r?.target?sr.toBuffer(r.target):null,s=1+(i?.byteLength??0),o=r?.anchor?Hd.from(r.anchor):null,a=1+(o?.byteLength??0),u=(r?.tags?.length??0)>0?Td(r?.tags):null,c=16+(u?u.byteLength:0),l=Hd.from(e),h=l.byteLength,f=2+t.signatureLength+t.ownerLength+s+a+c+h,d=Hd.alloc(f);if(d.set(vd(t.signatureType),0),d.set(new Uint8Array(t.signatureLength).fill(0),2),n.byteLength!==t.ownerLength)throw new Error(`Owner must be ${t.ownerLength} bytes, but was incorrectly ${n.byteLength}`);d.set(n,2+t.signatureLength);const p=2+t.signatureLength+t.ownerLength;if(d[p]=i?1:0,i){if(32!==i.byteLength)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);d.set(i,p+1)}const y=p+s;let g=y+1;if(d[y]=o?1:0,o){if(g+=o.byteLength,32!==o.byteLength)throw new Error("Anchor must be 32 bytes");d.set(o,y+1)}d.set(bd(r?.tags?.length??0),g);const m=bd(u?.byteLength??0);d.set(m,g+8),u&&d.set(u,g+16);const w=g+c;return d.set(l,w),new Md(d)}class zd{signatureType;rawSignature;signature;signatureLength;rawOwner;owner;ownerLength;rawTarget;target;rawAnchor;anchor;rawTags;tags;rawData;data;static async verify(...e){throw new Error("You must implement `verify`")}}var Kd=r(48764).Buffer;async function $d(e){const t=Wd(e);let r=(await t.next()).value;r=await Vd(t,r,32);const n=Sd(r.subarray(0,32));r=r.subarray(32);const i=64*n;r=await Vd(t,r,i);const s=new Array(n);for(let e=0;e<i;e+=64)s[e/64]=[Sd(r.subarray(e,e+32)),sr(Kd.from(r.subarray(e+32,e+64)))];r=r.subarray(i);let o=32+i;const a=[];for(const[e,n]of s){r=await Vd(t,r,Rd),r=await Vd(t,r,2);const i=Sd(r.subarray(0,2));r=r.subarray(2);const{sigLength:s,pubLength:u,sigName:c}=Ps[i];r=await Vd(t,r,s);const l=r.subarray(0,s);r=r.subarray(s),r=await Vd(t,r,u);const h=r.subarray(0,u);r=r.subarray(u),r=await Vd(t,r,1);const f=1===r[0];f&&(r=await Vd(t,r,33));const d=f?r.subarray(1,33):Kd.allocUnsafe(0);r=r.subarray(f?33:1),r=await Vd(t,r,1);const p=1===r[0];p&&(r=await Vd(t,r,33));const y=p?r.subarray(1,33):Kd.allocUnsafe(0);r=r.subarray(p?33:1),r=await Vd(t,r,8);const g=Sd(r.subarray(0,8));r=r.subarray(8),r=await Vd(t,r,8);const m=Sd(r.subarray(0,8));r=r.subarray(8),r=await Vd(t,r,m);const w=r.subarray(0,m),b=0!==g&&0!==m?kd(Kd.from(w)):[];if(b.length!==g)throw new Error("Tags lengths don't match");r=r.subarray(m);const v=new Oi.Transform;v._transform=function(e,t,r){this.push(e),r()};const E=Vs([Ls("dataitem"),Ls("1"),Ls(i.toString()),h,d,y,w,v]),_=2+s+u+(f?33:1)+(p?33:1)+16+m,S=e-_;if(r.byteLength>S)v.write(r.subarray(0,S)),r=r.subarray(S);else{let e=r.byteLength;for(v.write(r);S>e;){if(r=(await t.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${S} received: ${e}`);e+=r.byteLength,e>S?v.write(r.subarray(0,r.byteLength-(e-S))):v.write(r)}r=r.subarray(r.byteLength-(e-S))}if(v.end(),n!==sr((0,nr.createHash)("sha256").update(l).digest()))throw new Error("ID doesn't match signature");const A=gd[i];if(!await A.verify(h,await E,l))throw new Error("Invalid signature");a.push({id:n,sigName:c,signature:sr(Kd.from(l)),target:sr(Kd.from(d)),anchor:sr(Kd.from(y)),owner:sr(Kd.from(h)),tags:b,dataOffset:o+_,dataSize:S}),o+=_+S}return a}async function Gd(e,t,r,n){const i=jd("",r,n),s=new Oi.PassThrough,o=[Ls("dataitem"),Ls("1"),Ls(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,e],a=await Vs(o),u=Kd.from(await r.sign(a));return i.setSignature(u),s.write(i.getRaw()),t.pipe(s)}async function Vd(e,t,r){if(t.byteLength>=r)return t;const{done:n,value:i}=await e.next();if(n&&!i)throw new Error("Invalid buffer");return Vd(e,Kd.concat([Kd.from(t),Kd.from(i)]),r)}async function*Wd(e){for await(const t of e)yield t}var Jd=$d;const Xd={readBytes:Vd,getReader:Wd},Zd={...a,stream:u};globalThis.arbundles??=Zd;var Yd=r(48764).Buffer;class Qd{base;wallet;_address;providerUrl;providerInstance;ticker;name;irys;minConfirm=5;isSlow=!1;needsFee=!0;inheritsRPC=!1;constructor(e){Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return sr.encode(Yd.from(await Wu().hash(await e.rawSignature())))}async price(){return ep(this.ticker)}}async function ep(e){const t=await tr.get(`https://api.redstone.finance/prices?symbol=${e}&provider=redstone&limit=1`);return await ur.checkAndThrow(t,"Getting price data"),t.data[0].value}const tp=pd;class rp extends Qd{signer;w3signer;inheritsRPC=!0;constructor(e){super(e),this.base=["wei",1e18]}async getTx(e){const t=this.providerInstance,r=await t.getTransaction(e);if(!r)throw new Error("Tx doesn't exist");if(!r.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:r.from,to:r.to,blockHeight:r.blockNumber?new or.Z(r.blockNumber):void 0,amount:new or.Z(r.value.toHexString(),16),pending:!r.blockNumber,confirmed:r.confirmations>=this.minConfirm}}ownerToAddress(e){return e.toString().toLowerCase()}async sign(e){return(await this.getSigner()).sign(e)}getSigner(){return this.signer||(this.signer=new pd(this.wallet)),this.signer}async verify(e,t,r){return tp.verify(e,t,r)}async getCurrentHeight(){const e=this.providerInstance,t=await e.send("eth_blockNumber",[]);return new or.Z(t,16)}async getFee(e,t){const r=this.providerInstance,n={to:t,from:this.address,value:"0x"+new or.Z(e).toString(16)},i=await r.estimateGas(n),s=await r.getGasPrice();return new or.Z(i.mul(s).toString())}async sendTx(e){const t=this.w3signer,r=await t.sendTransaction(e);return r?r.hash:void 0}async createTx(e,t,r){const n=_s.from(new or.Z(e).toFixed()),i=this.w3signer,s=await i.estimateGas({to:t,from:this.address,value:n.toHexString()});let o=await i.getGasPrice();"matic"===this.name&&(o=_s.from(new or.Z(o.toString()).multipliedBy(10).decimalPlaces(0).toString()));return{txId:void 0,tx:await i.populateTransaction({to:t,from:this.address,value:n.toHexString(),gasPrice:o,gasLimit:s})}}async getPublicKey(){return this.address}async ready(){this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await(this.providerInstance?._ready?.())}}var np=r(90058),ip=r(73508),sp=r(98652),op=r(88042),ap=r(25532),up=r(72023),cp=r(48764).Buffer;class lp extends Qd{keyPair;near;constructor(e){super(e),this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const e=new ip.X,t=this.wallet.account();if(this.keyPair=await e.getKey(this.wallet._networkId,t.accountId),!this.keyPair){this.keyPair=np.KeyPair.fromRandom("ed25519");const r=this.keyPair.getPublicKey().toString();await e.setKey(this.wallet._networkId,t.accountId,this.keyPair),await t.addKey(r)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(e){const t=await this.providerInstance,[r,n]=e.split(":"),i=await t.txStatusReceipts(op.decode(n),r),s=await t.block(i.transaction_outcome.block_hash),o=(await t.block({finality:"final"})).header.height;if(""!==i.receipts_outcome[0].outcome.status.SuccessValue)throw new Error("Transaction failed!");const a=i.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:r,to:i.transaction.receiver_id,amount:new or.Z(a),blockHeight:new or.Z(s.header.height),pending:!1,confirmed:o-s.header.height>=this.minConfirm}}ownerToAddress(e){const t="string"==typeof e?e:op.encode(e);return cp.from(op.decode(t.replace("ed25519:",""))).toString("hex")}async sign(e){return this.getSigner().sign(e)}getSigner(){return new Xf(this.keyPair.secretKey)}async verify(e,t,r){return Xf.verify(e,t,r)}async getCurrentHeight(){const e=await this.providerInstance.status();return new or.Z(e.sync_info.latest_block_height)}async getFee(e,t){const r=(await this.providerInstance.block({finality:"final"})).header.height,n=await this.providerInstance.gasPrice(r);return new or.Z(n.gas_price).multipliedBy(45e10)}async sendTx(e){const t=await this.providerInstance.sendTransaction(e);return`${this.address}:${t.transaction.hash}`}async createTx(e,t,r){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const n=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),i=++n.nonce,s=cp.from(op.decode(n.block_hash)),o=[sp.actionCreators.transfer(new Hi(new or.Z(e).toString()))],a=(0,sp.createTransaction)(this.address,this.keyPair.getPublicKey(),t,i,o,s),u=(0,ap.serialize)(sp.SCHEMA,a),c=new Uint8Array(up.sha256.array(u)),l=this.keyPair.sign(c);return{tx:new sp.SignedTransaction({transaction:a,signature:new sp.Signature({keyType:a.publicKey.keyType,data:l.signature})}),txId:void 0}}async getPublicKey(){return cp.from(this.keyPair.getPublicKey().data)}}var hp=r(93233),fp=r(48764).Buffer;class dp extends Qd{signer;minConfirm=1;constructor(e){super(e),this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new hp.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(e){const t=await this.getProvider(),r=await t.getTransaction(e,{commitment:"confirmed"});if(!r)throw new Error("Confirmed tx not found");const n=await t.getSlot("confirmed");if(!r.meta)throw new Error(`Unable to resolve transaction ${e}`);const i=new or.Z(r.meta.postBalances[1]).minus(new or.Z(r.meta.preBalances[1]));return{from:r.transaction.message.accountKeys[0].toBase58(),to:r.transaction.message.accountKeys[1].toBase58(),amount:i,blockHeight:new or.Z(r.slot),pending:!1,confirmed:n-r.slot>=1}}ownerToAddress(e){return"string"==typeof e&&(e=fp.from(e)),op.encode(e)}async sign(e){return await(await this.getSigner()).sign(e)}getSigner(){return this.signer||(this.signer=new ed(this.wallet)),this.signer}verify(e,t,r){return ed.verify(e,t,r)}async getCurrentHeight(){return new or.Z((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(e,t){return new or.Z(5e3)}async sendTx(e){return await this.wallet.sendTransaction(e,await this.getProvider(),{skipPreflight:!0})}async createTx(e,t,r){const n=new hp.PublicKey(await this.getPublicKey()),i=await rr((async e=>{try{return await(await this.getProvider()).getRecentBlockhash()}catch(t){if(t.message?.includes("blockhash"))throw t;throw e(t),new Error("Unreachable")}}),{retries:3,minTimeout:1e3}),s=new hp.Transaction({recentBlockhash:i.blockhash,feePayer:n});return s.add(hp.SystemProgram.transfer({fromPubkey:n,toPubkey:new hp.PublicKey(t),lamports:+new or.Z(e).toNumber()})),{tx:s,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const pp="abi/5.7.0",yp=new Yi(pp);class gp{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){yp.throwArgumentError(e,this.localName,t)}}class mp{constructor(e){ll(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return ds(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(os(e._data))}writeBytes(e){let t=ss(e);const r=t.length%this.wordSize;return r&&(t=os([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=ss(_s.from(e));return t.length>this.wordSize&&yp.throwError("value out-of-bounds",Yi.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=os([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class wp{constructor(e,t,r,n){ll(this,"_data",ss(e)),ll(this,"wordSize",t||32),ll(this,"_coerceFunc",r),ll(this,"allowLoose",n),this._offset=0}get data(){return ls(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):wp.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:yp.throwError("data out-of-bounds",Yi.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new wp(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return _s.from(this.readBytes(this.wordSize))}}class bp extends gp{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Bl(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return Bl(ps(e.readValue().toHexString(),20))}}class vp extends gp{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Ep=new Yi(pp);function _p(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||Ep.throwError("cannot encode object for signature with missing names",Yi.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&Ep.throwError("cannot encode object for signature with duplicate names",Yi.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else Ep.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&Ep.throwArgumentError("types/value length mismatch","tuple",r);let i=new mp(e.wordSize),s=new mp(e.wordSize),o=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();o.push((e=>{n(e+t)}))}else e.encode(i,r)})),o.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function Sp(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let r=e.readValue(),s=n.subReader(r.toNumber());try{i=t.decode(s)}catch(e){if(e.code===Yi.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===Yi.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&r.push(i)}));const i=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const s=r[t];s instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw s}}):r[n]=s}));for(let e=0;e<r.length;e++){const t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class Ap extends gp{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),Ep.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return _p(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&Ep.throwError("insufficient data length",Yi.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let e=0;e<t;e++)r.push(new vp(this.coder));return e.coerce(this.name,Sp(e,r))}}class xp extends gp{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Tp extends gp{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ss(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class kp extends Tp{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ls(super.decode(e)))}}class Rp extends gp{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=ss(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,ls(e.readBytes(this.size)))}}class Pp extends gp{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Cp=_s.from(-1),Mp=_s.from(0),Op=_s.from(1),Up=_s.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ip extends gp{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=_s.from(t),n=Up.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(Op).mul(Cp)))&&this._throwError("value out-of-bounds",t)}else(r.lt(Mp)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class Bp extends Tp{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,vc(t))}decode(e){return Ec(super.decode(e))}}class Np extends gp{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}encode(e,t){return _p(e,this.coders,t)}decode(e){return e.coerce(this.name,Sp(e,this.coders))}}const Lp=new Yi(pp),Dp={};let qp={calldata:!0,memory:!0,storage:!0},Fp={calldata:!0,memory:!0};function Hp(e,t){if("bytes"===e||"string"===e){if(qp[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Fp[t])return!0;return(qp[t]||"payable"===t)&&Lp.throwArgumentError("invalid modifier","name",t),!1}function jp(e,t){for(let r in t)ll(e,r,t[r])}const zp=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Kp=new RegExp(/^(.*)\[([0-9]*)\]$/);class $p{constructor(e,t){e!==Dp&&Lp.throwError("use fromString",Yi.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),jp(this,t);let r=this.type.match(Kp);jp(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:$p.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=zp.sighash),zp[e]||Lp.throwArgumentError("invalid format type","format",e),e===zp.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==zp.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===zp.full?", ":",")+")"):t+=this.type,e!==zp.sighash&&(!0===this.indexed&&(t+=" indexed"),e===zp.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?$p.fromString(e,t):$p.fromObject(e)}static fromObject(e){return $p.isParamType(e)?e:new $p(Dp,{name:e.name||null,type:ry(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map($p.fromObject):null})}static fromString(e,t){return r=function(e,t){let r=e;function n(t){Lp.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let r=0;r<e.length;r++){let s=e[r];switch(s){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(r),o.state.allowType=!1,o.type=ry(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(r),o.indexed=!0,o.name=""),Hp(o.type,o.name)&&(o.name=""),o.type=ry(o.type);let e=o;o=o.parent,o||n(r),delete e.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(r),o.indexed=!0,o.name=""),Hp(o.type,o.name)&&(o.name=""),o.type=ry(o.type);let a=i(o.parent);o.parent.components.push(a),delete o.parent,o=a;break;case" ":o.state.allowType&&""!==o.type&&(o.type=ry(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(r),o.indexed&&n(r),o.indexed=!0,o.name=""):Hp(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(r),o.type+=s,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(r),o.type+=s,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=s,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=s,delete o.state.allowArray):o.state.readArray?o.type+=s:n(r)}}return o.parent&&Lp.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Hp(o.type,o.name)&&(o.name=""),s.type=ry(s.type),s}(e,!!t),$p.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function Gp(e,t){return function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let s=e[i];","===s&&0===n?(t.push(r),r=""):(r+=s,"("===s?n++:")"===s&&(n--,-1===n&&Lp.throwArgumentError("unbalanced parenthesis","value",e)))}r&&t.push(r);return t}(e).map((e=>$p.fromString(e,t)))}class Vp{constructor(e,t){e!==Dp&&Lp.throwError("use a static from method",Yi.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),jp(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Vp.isFragment(e)?e:"string"==typeof e?Vp.fromString(e):Vp.fromObject(e)}static fromObject(e){if(Vp.isFragment(e))return e;switch(e.type){case"function":return Qp.fromObject(e);case"event":return Wp.fromObject(e);case"constructor":return Yp.fromObject(e);case"error":return ty.fromObject(e);case"fallback":case"receive":return null}return Lp.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Wp.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?Qp.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?Yp.fromString(e.trim()):"error"===e.split(" ")[0]?ty.fromString(e.substring(5).trim()):Lp.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class Wp extends Vp{format(e){if(e||(e=zp.sighash),zp[e]||Lp.throwArgumentError("invalid format type","format",e),e===zp.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==zp.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===zp.full?", ":",")+") ",e!==zp.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?Wp.fromString(e):Wp.fromObject(e)}static fromObject(e){if(Wp.isEventFragment(e))return e;"event"!==e.type&&Lp.throwArgumentError("invalid event object","value",e);const t={name:iy(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map($p.fromObject):[],type:"event"};return new Wp(Dp,t)}static fromString(e){let t=e.match(sy);t||Lp.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:Lp.warn("unknown modifier: "+e)}})),Wp.fromObject({name:t[1].trim(),anonymous:r,inputs:Gp(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Jp(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&Lp.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||Lp.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=_s.from(r[1]),r[0]):e}function Xp(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function Zp(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Lp.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Lp.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Lp.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Lp.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Lp.throwArgumentError("unable to determine stateMutability","value",e),t}class Yp extends Vp{format(e){if(e||(e=zp.sighash),zp[e]||Lp.throwArgumentError("invalid format type","format",e),e===zp.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===zp.sighash&&Lp.throwError("cannot format a constructor for sighash",Yi.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===zp.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?Yp.fromString(e):Yp.fromObject(e)}static fromObject(e){if(Yp.isConstructorFragment(e))return e;"constructor"!==e.type&&Lp.throwArgumentError("invalid constructor object","value",e);let t=Zp(e);t.constant&&Lp.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map($p.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?_s.from(e.gas):null};return new Yp(Dp,r)}static fromString(e){let t={type:"constructor"},r=(e=Jp(e,t)).match(sy);return r&&"constructor"===r[1].trim()||Lp.throwArgumentError("invalid constructor string","value",e),t.inputs=Gp(r[2].trim(),!1),Xp(r[3].trim(),t),Yp.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class Qp extends Yp{format(e){if(e||(e=zp.sighash),zp[e]||Lp.throwArgumentError("invalid format type","format",e),e===zp.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==zp.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===zp.full?", ":",")+") ",e!==zp.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?Qp.fromString(e):Qp.fromObject(e)}static fromObject(e){if(Qp.isFunctionFragment(e))return e;"function"!==e.type&&Lp.throwArgumentError("invalid function object","value",e);let t=Zp(e);const r={type:e.type,name:iy(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map($p.fromObject):[],outputs:e.outputs?e.outputs.map($p.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?_s.from(e.gas):null};return new Qp(Dp,r)}static fromString(e){let t={type:"function"},r=(e=Jp(e,t)).split(" returns ");r.length>2&&Lp.throwArgumentError("invalid function string","value",e);let n=r[0].match(sy);if(n||Lp.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&iy(t.name),t.inputs=Gp(n[2],!1),Xp(n[3].trim(),t),r.length>1){let n=r[1].match(sy);""==n[1].trim()&&""==n[3].trim()||Lp.throwArgumentError("unexpected tokens","value",e),t.outputs=Gp(n[2],!1)}else t.outputs=[];return Qp.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function ey(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Lp.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class ty extends Vp{format(e){if(e||(e=zp.sighash),zp[e]||Lp.throwArgumentError("invalid format type","format",e),e===zp.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==zp.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===zp.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?ty.fromString(e):ty.fromObject(e)}static fromObject(e){if(ty.isErrorFragment(e))return e;"error"!==e.type&&Lp.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:iy(e.name),inputs:e.inputs?e.inputs.map($p.fromObject):[]};return ey(new ty(Dp,t))}static fromString(e){let t={type:"error"},r=e.match(sy);return r||Lp.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&iy(t.name),t.inputs=Gp(r[2],!1),ey(ty.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function ry(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const ny=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function iy(e){return e&&e.match(ny)||Lp.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const sy=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const oy=new Yi(pp),ay=new RegExp(/^bytes([0-9]*)$/),uy=new RegExp(/^(u?int)([0-9]*)$/);const cy=new class{constructor(e){ll(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new bp(e.name);case"bool":return new xp(e.name);case"string":return new Bp(e.name);case"bytes":return new kp(e.name);case"array":return new Ap(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Np((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new Pp(e.name)}let t=e.type.match(uy);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&oy.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Ip(r/8,"int"===t[1],e.name)}if(t=e.type.match(ay),t){let r=parseInt(t[1]);return(0===r||r>32)&&oy.throwArgumentError("invalid bytes length","param",e),new Rp(r,e.name)}return oy.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new wp(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new mp(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder($p.from(e))));return new Np(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&oy.throwError("types/values length mismatch",Yi.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder($p.from(e)))),n=new Np(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){const n=e.map((e=>this._getCoder($p.from(e))));return new Np(n,"_").decode(this._getReader(ss(t),r))}},ly=new Yi(pp);class hy extends wl{}class fy extends wl{}class dy extends wl{}class py extends wl{static isIndexed(e){return!(!e||!e._isIndexed)}}const yy={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function gy(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class my{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,ll(this,"fragments",t.map((e=>Vp.from(e))).filter((e=>null!=e))),ll(this,"_abiCoder",hl(new.target,"getAbiCoder")()),ll(this,"functions",{}),ll(this,"errors",{}),ll(this,"events",{}),ll(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void ly.warn("duplicate definition - constructor"):void ll(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?ly.warn("duplicate definition - "+r):t[r]=e})),this.deploy||ll(this,"deploy",Yp.from({payable:!1,type:"constructor"})),ll(this,"_isInterface",!0)}format(e){e||(e=zp.full),e===zp.sighash&&ly.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===zp.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return cy}static getAddress(e){return Bl(e)}static getSighash(e){return fs(sh(e.format()),0,4)}static getEventTopic(e){return sh(e.format())}getFunction(e){if(us(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];ly.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===r.length?ly.throwArgumentError("no matching function","name",t):r.length>1&&ly.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[Qp.fromString(e).format()];return t||ly.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(us(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];ly.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===r.length?ly.throwArgumentError("no matching event","name",t):r.length>1&&ly.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[Wp.fromString(e).format()];return t||ly.throwArgumentError("no matching event","signature",e),t}getError(e){if(us(e)){const t=hl(this.constructor,"getSighash");for(const r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}ly.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===r.length?ly.throwArgumentError("no matching error","name",t):r.length>1&&ly.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[Qp.fromString(e).format()];return t||ly.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return hl(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),hl(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const r=ss(t);return ls(r.slice(0,4))!==this.getSighash(e)&&ly.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ls(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),ls(os([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const r=ss(t);return ls(r.slice(0,4))!==this.getSighash(e)&&ly.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ls(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),ls(os([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=ss(t),n=null,i="",s=null,o=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{const e=ls(r.slice(0,4)),t=yy[e];if(t)s=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,a=t.signature,t.reason&&(n=s[0]),"Error"===o?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:"Panic"===o&&(i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const t=this.getError(e);s=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,a=t.format()}catch(e){}break}}return ly.throwError("call revert exception"+i,Yi.errors.CALL_EXCEPTION,{method:e.format(),data:ls(t),errorArgs:s,errorName:o,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),ls(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&ly.throwError("too many arguments for "+e.format(),Yi.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const n=(e,t)=>"string"===e.type?sh(t):"bytes"===e.type?dc(ls(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=_s.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),ps(ls(t),32));for(t.forEach(((t,i)=>{let s=e.inputs[i];s.indexed?null==t?r.push(null):"array"===s.baseType||"tuple"===s.baseType?ly.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?r.push(t.map((e=>n(s,e)))):r.push(n(s,t)):null!=t&&ly.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&ly.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)r.push(sh(o));else if("bytes"===e.type)r.push(dc(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[o]))}else n.push(e),i.push(o)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);us(r[0],32)&&r[0].toLowerCase()===t||ly.throwError("fragment/topic mismatch",Yi.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push($p.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(n.push(e),s.push(!1)):(i.push(e),s.push(!1))}));let o=null!=r?this._abiCoder.decode(n,os(r)):null,a=this._abiCoder.decode(i,t,!0),u=[],c=0,l=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==o)u[t]=new py({_isIndexed:!0,hash:null});else if(s[t])u[t]=new py({_isIndexed:!0,hash:o[l++]});else try{u[t]=o[l++]}catch(e){u[t]=e}else try{u[t]=a[c++]}catch(e){u[t]=e}if(e.name&&null==u[e.name]){const r=u[t];r instanceof Error?Object.defineProperty(u,e.name,{enumerable:!0,get:()=>{throw gy(`property ${JSON.stringify(e.name)}`,r)}}):u[e.name]=r}}));for(let e=0;e<u.length;e++){const t=u[e];t instanceof Error&&Object.defineProperty(u,e,{enumerable:!0,get:()=>{throw gy(`index ${e}`,t)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new fy({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:_s.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new hy({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ls(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new dy({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var wy=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const by=new Yi("contracts/5.7.0");function vy(e,t){return wy(this,void 0,void 0,(function*(){const r=yield t;"string"!=typeof r&&by.throwArgumentError("invalid address or ENS name","name",r);try{return Bl(r)}catch(e){}e||by.throwError("a provider or signer is needed to resolve ENS names",Yi.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return null==n&&by.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function Ey(e,t,r){return wy(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>Ey(e,Array.isArray(t)?t[n]:t[r.name],r)))):"address"===r.type?yield vy(e,t):"tuple"===r.type?yield Ey(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>Ey(e,t,r.arrayChildren)))):Promise.reject(by.makeError("invalid value for array",Yi.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function _y(e,t,r){return wy(this,void 0,void 0,(function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=dl(r.pop())),by.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=fl({override:vy(e.signer,n.from),signer:e.signer.getAddress()}).then((e=>wy(this,void 0,void 0,(function*(){return Bl(e.signer)!==e.override&&by.throwError("Contract with a Signer cannot override from",Yi.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):n.from=e.signer.getAddress():n.from&&(n.from=vy(e.provider,n.from));const i=yield fl({args:Ey(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:fl(n)||{}}),s=e.interface.encodeFunctionData(t,i.args),o={data:s,to:i.address},a=i.overrides;if(null!=a.nonce&&(o.nonce=_s.from(a.nonce).toNumber()),null!=a.gasLimit&&(o.gasLimit=_s.from(a.gasLimit)),null!=a.gasPrice&&(o.gasPrice=_s.from(a.gasPrice)),null!=a.maxFeePerGas&&(o.maxFeePerGas=_s.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=_s.from(a.maxPriorityFeePerGas)),null!=a.from&&(o.from=a.from),null!=a.type&&(o.type=a.type),null!=a.accessList&&(o.accessList=Kl(a.accessList)),null==o.gasLimit&&null!=t.gas){let e=21e3;const r=ss(s);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);o.gasLimit=_s.from(t.gas).add(e)}if(a.value){const e=_s.from(a.value);e.isZero()||t.payable||by.throwError("non-payable method cannot override value",Yi.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=e}a.customData&&(o.customData=dl(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter((e=>null!=n[e]));return u.length&&by.throwError(`cannot override ${u.map((e=>JSON.stringify(e))).join(",")}`,Yi.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),o}))}function Sy(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then((t=>(t.events=t.logs.map((r=>{let n=ml(r),i=null;try{i=e.interface.parseLog(r)}catch(e){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n})),t)))}function Ay(e,t,r){const n=e.signer||e.provider;return function(...i){return wy(this,void 0,void 0,(function*(){let s;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){const e=dl(i.pop());null!=e.blockTag&&(s=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(s));const o=yield _y(e,t,i),a=yield n.call(o,s);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===Yi.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=o),t}}))}}function xy(e,t,r){return t.constant?Ay(e,t,r):function(e,t){return function(...r){return wy(this,void 0,void 0,(function*(){e.signer||by.throwError("sending a transaction requires a signer",Yi.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const n=yield _y(e,t,r),i=yield e.signer.sendTransaction(n);return Sy(e,i),i}))}}(e,t)}function Ty(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class ky{constructor(e,t){ll(this,"tag",e),ll(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((r=>!(!t&&r.listener===e)||(t=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const r=e.slice();return setTimeout((()=>{t.listener.apply(this,r)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class Ry extends ky{constructor(){super("error",null)}}class Py extends ky{constructor(e,t,r,n){const i={address:e};let s=t.getEventTopic(r);n?(s!==n[0]&&by.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[s],super(Ty(i),i),ll(this,"address",e),ll(this,"interface",t),ll(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=function(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){const s=e.slice();s.push(i);try{r(s,n[i])}catch(e){t.push({path:s,error:e})}}};return r([],e),t}(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class Cy extends ky{constructor(e,t){super("*",{address:e}),ll(this,"address",e),ll(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class My{constructor(e,t,r){ll(this,"interface",hl(new.target,"getInterface")(t)),null==r?(ll(this,"provider",null),ll(this,"signer",null)):nh.isSigner(r)?(ll(this,"provider",r.provider||null),ll(this,"signer",r)):Yl.isProvider(r)?(ll(this,"provider",r),ll(this,"signer",null)):by.throwArgumentError("invalid signer or provider","signerOrProvider",r),ll(this,"callStatic",{}),ll(this,"estimateGas",{}),ll(this,"functions",{}),ll(this,"populateTransaction",{}),ll(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const r=this.interface.events[t];ll(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)}))),e[r.name]||(e[r.name]=[]),e[r.name].push(t)})),Object.keys(e).forEach((t=>{const r=e[t];1===r.length?ll(this.filters,t,this.filters[r[0]]):by.warn(`Duplicate definition of ${t} (${r.join(", ")})`)}))}if(ll(this,"_runningEvents",{}),ll(this,"_wrappedEmits",{}),null==e&&by.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ll(this,"address",e),this.provider)ll(this,"resolvedAddress",vy(this.provider,e));else try{ll(this,"resolvedAddress",Promise.resolve(Bl(e)))}catch(e){by.throwError("provider is required to use ENS name as contract address",Yi.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const n={},i={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(i[e])by.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{i[e]=!0;{const r=t.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(e)}null==this[e]&&ll(this,e,xy(this,t,!0)),null==this.functions[e]&&ll(this.functions,e,xy(this,t,!1)),null==this.callStatic[e]&&ll(this.callStatic,e,Ay(this,t,!0)),null==this.populateTransaction[e]&&ll(this.populateTransaction,e,function(e,t){return function(...r){return _y(e,t,r)}}(this,t)),null==this.estimateGas[e]&&ll(this.estimateGas,e,function(e,t){const r=e.signer||e.provider;return function(...n){return wy(this,void 0,void 0,(function*(){r||by.throwError("estimate require a provider or signer",Yi.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield _y(e,t,n);return yield r.estimateGas(i)}))}}(this,t))}})),Object.keys(n).forEach((e=>{const t=n[e];if(t.length>1)return;e=e.substring(1);const r=t[0];try{null==this[e]&&ll(this,e,this[r])}catch(e){}null==this.functions[e]&&ll(this.functions,e,this.functions[r]),null==this.callStatic[e]&&ll(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&ll(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&ll(this.estimateGas,e,this.estimateGas[r])}))}static getContractAddress(e){return function(e){let t=null;try{t=Bl(e.from)}catch(t){Pl.throwArgumentError("missing from address","transaction",e)}return Bl(fs(dc(Rl([t,as(ss(_s.from(e.nonce).toHexString()))])),12))}(e)}static getInterface(e){return my.isInterface(e)?e:new my(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&by.throwError("contract not deployed",Yi.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||by.throwError("sending a transactions require a signer",Yi.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=dl(e||{});return["from","to"].forEach((function(e){null!=t[e]&&by.throwError("cannot override "+e,Yi.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new ih(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ll(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return py.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new Ry);if("event"===e)return this._normalizeRunningEvent(new ky("event",null));if("*"===e)return this._normalizeRunningEvent(new Cy(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Py(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new Py(this.address,this.interface,r,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ky(Ty(t),t))}return this._normalizeRunningEvent(new Cy(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const n=ml(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||by.throwError("events require a provider or a signer with a provider",Yi.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){const n=this._getRunningEvent(e),i=dl(n.filter);return"string"==typeof t&&us(t,32)?(null!=r&&by.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(n,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class Oy extends My{}class Uy extends rp{contractInstance;contractAddress;constructor(e){super(e),this.contractAddress=e.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new Oy(this.contractAddress,Iy,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(e){const t=await this.providerInstance.getTransaction(e);if(!t)throw new Error("Tx doesn't exist");if(138!==t.data.length||"a9059cbb"!==t.data.slice(2,10))throw new Error("Tx isn't a ERC20 transfer");const r=`0x${t.data.slice(34,74)}`,n=new or.Z(t.data.slice(74),16);return{from:t.from,to:r,blockHeight:t.blockNumber?new or.Z(t.blockNumber):void 0,amount:n,pending:!t.blockNumber,confirmed:t.confirmations>=this.minConfirm}}async getFee(e,t){const r="0x"+new or.Z(e).toString(16),n=await this.getContract(),i=await this.providerInstance.getGasPrice(),s=await n.estimateGas.transfer(t,r),o=new or.Z(i.mul(s).toString()),[a]=await this.getGas(),u=a.multipliedBy(o),c=new or.Z(await this.price());return new or.Z(u).dividedToIntegerBy(c)}async createTx(e,t,r){const n=await this.getContract(),i="0x"+new or.Z(e).toString(16),s=await n.populateTransaction.transfer(t,i);if(s.gasPrice=await this.providerInstance.getGasPrice(),s.gasLimit=await n.estimateGas.transfer(t,i),s.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return s.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:s}}async getGas(){return[new or.Z(await ep("ETH")),1e18]}}const Iy=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var By=r(50780),Ny=r(7286);"object"==typeof self&&"crypto"in self&&self.crypto;const Ly=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const Dy=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function qy(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Dy[e[r]];return t}function Fy(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function Hy(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class jy{clone(){return this._cloneInto()}}function zy(e){const t=t=>e().update(Hy(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Ky(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function $y(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}var Gy={number:Ky,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:$y,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ky(e.outputLen),Ky(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){$y(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}};const Vy=BigInt(2**32-1),Wy=BigInt(32);function Jy(e,t=!1){return t?{h:Number(e&Vy),l:Number(e>>Wy&Vy)}:{h:0|Number(e>>Wy&Vy),l:0|Number(e&Vy)}}var Xy={fromBig:Jy,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Jy(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<Wy|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};const[Zy,Yy,Qy]=[[],[],[]],eg=BigInt(0),tg=BigInt(1),rg=BigInt(2),ng=BigInt(7),ig=BigInt(256),sg=BigInt(113);for(let e=0,t=tg,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Zy.push(2*(5*n+r)),Yy.push((e+1)*(e+2)/2%64);let i=eg;for(let e=0;e<7;e++)t=(t<<tg^(t>>ng)*sg)%ig,t&rg&&(i^=tg<<(tg<<BigInt(e))-tg);Qy.push(i)}const[og,ag]=Xy.split(Qy,!0),ug=(e,t,r)=>r>32?Xy.rotlBH(e,t,r):Xy.rotlSH(e,t,r),cg=(e,t,r)=>r>32?Xy.rotlBL(e,t,r):Xy.rotlSL(e,t,r);class lg extends jy{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gy.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=ug(s,o,1)^r[n],u=cg(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Yy[r],s=ug(t,i,n),o=cg(t,i,n),a=Zy[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=og[n],e[1]^=ag[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Gy.exists(this);const{blockLen:t,state:r}=this,n=(e=Hy(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Gy.exists(this,!1),Gy.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Gy.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gy.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new lg(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const hg=(e,t,r)=>zy((()=>new lg(t,e,r))),fg=(hg(6,144,28),hg(6,136,32)),dg=(hg(6,104,48),hg(6,72,64),hg(1,144,28),hg(1,136,32),hg(1,104,48),hg(1,72,64),(e,t,r)=>function(e){const t=(t,r)=>e(r).update(Hy(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(((n={})=>new lg(t,e,void 0===n.dkLen?r:n.dkLen,!0))));dg(31,168,16),dg(31,136,32);class pg extends jy{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Gy.hash(e);const r=Hy(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Gy.exists(this),this.iHash.update(e),this}digestInto(e){Gy.exists(this),Gy.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yg=(e,t,r)=>new pg(e,t).update(r).digest();yg.create=(e,t)=>new pg(e,t);class gg extends jy{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ly(this.buffer)}update(e){Gy.exists(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=Hy(e)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Ly(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gy.exists(this),Gy.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Ly(e);this.get().forEach(((e,t)=>o.setUint32(4*t,e,i)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}const[mg,wg]=Xy.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),bg=new Uint32Array(80),vg=new Uint32Array(80);class Eg extends gg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,o,a,u,c,l,h,f,d,p,y]}set(e,t,r,n,i,s,o,a,u,c,l,h,f,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)bg[r]=e.getUint32(t),vg[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|bg[e-15],r=0|vg[e-15],n=Xy.rotrSH(t,r,1)^Xy.rotrSH(t,r,8)^Xy.shrSH(t,r,7),i=Xy.rotrSL(t,r,1)^Xy.rotrSL(t,r,8)^Xy.shrSL(t,r,7),s=0|bg[e-2],o=0|vg[e-2],a=Xy.rotrSH(s,o,19)^Xy.rotrBH(s,o,61)^Xy.shrSH(s,o,6),u=Xy.rotrSL(s,o,19)^Xy.rotrBL(s,o,61)^Xy.shrSL(s,o,6),c=Xy.add4L(i,u,vg[e-7],vg[e-16]),l=Xy.add4H(c,n,a,bg[e-7],bg[e-16]);bg[e]=0|l,vg[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:u,Dl:c,Eh:l,El:h,Fh:f,Fl:d,Gh:p,Gl:y,Hh:g,Hl:m}=this;for(let e=0;e<80;e++){const t=Xy.rotrSH(l,h,14)^Xy.rotrSH(l,h,18)^Xy.rotrBH(l,h,41),w=Xy.rotrSL(l,h,14)^Xy.rotrSL(l,h,18)^Xy.rotrBL(l,h,41),b=l&f^~l&p,v=h&d^~h&y,E=Xy.add5L(m,w,v,wg[e],vg[e]),_=Xy.add5H(E,g,t,b,mg[e],bg[e]),S=0|E,A=Xy.rotrSH(r,n,28)^Xy.rotrBH(r,n,34)^Xy.rotrBH(r,n,39),x=Xy.rotrSL(r,n,28)^Xy.rotrBL(r,n,34)^Xy.rotrBL(r,n,39),T=r&i^r&o^i&o,k=n&s^n&a^s&a;g=0|p,m=0|y,p=0|f,y=0|d,f=0|l,d=0|h,({h:l,l:h}=Xy.add(0|u,0|c,0|_,0|S)),u=0|o,c=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const R=Xy.add3L(S,x,k);r=Xy.add3H(R,_,A,T),n=0|R}({h:r,l:n}=Xy.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=Xy.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Xy.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:c}=Xy.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:l,l:h}=Xy.add(0|this.Eh,0|this.El,0|l,0|h)),({h:f,l:d}=Xy.add(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:y}=Xy.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:m}=Xy.add(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(r,n,i,s,o,a,u,c,l,h,f,d,p,y,g,m)}roundClean(){bg.fill(0),vg.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class _g extends Eg{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Sg extends Eg{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Ag=zy((()=>new Eg));zy((()=>new _g)),zy((()=>new Sg));var xg=r(9669),Tg=r(3549),kg=Object.defineProperty,Rg=Object.getOwnPropertyDescriptor,Pg=(e,t)=>{for(var r in t)kg(e,r,{get:t[r],enumerable:!0})},Cg=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Rg(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&kg(t,r,s),s},Mg=/^m(\/[0-9]+')+$/,Og=e=>e.replace("'",""),Ug=(e,t,r=2147483648)=>{if(!(e=>!!Mg.test(e)&&!e.split("/").slice(1).map(Og).some(Number.isNaN))(e))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=(e=>{const t=yg.create(Ag,"ed25519 seed").update(Fy(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}})(t);return e.split("/").slice(1).map(Og).map((e=>parseInt(e,10))).reduce(((e,t)=>(({key:e,chainCode:t},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(n),s=new Uint8Array([0]),o=new Uint8Array([...s,...e,...i]),a=yg.create(Ag,t).update(o).digest();return{key:a.slice(0,32),chainCode:a.slice(32)}})(e,t+r)),{key:n,chainCode:i})};async function Ig(e){return new Promise((t=>{setTimeout(t,e)}))}var Bg=2e5,Ng="0x1::aptos_coin::AptosCoin";function Lg(e){let t,r,n;return"object"==typeof e?(t=e.hashFunction,r=e.ttlMs,n=e.tags):t=e,(e,i,s)=>{if(null!=s.value)s.value=qg(s.value,t,r,n);else{if(null==s.get)throw new Error("Only put a Memoize() decorator on a method or get accessor.");s.get=qg(s.get,t,r,n)}}}var Dg=new Map;function qg(e,t,r=0,n){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const u=a[i];if(Array.isArray(n))for(const e of n)Dg.has(e)?Dg.get(e).push(u):Dg.set(e,[u]);if(t||s.length>0||r>0){let n;n=!0===t?s.map((e=>e.toString())).join("!"):t?t.apply(a,s):s[0];const i=`${n}__timestamp`;let c=!1;if(r>0)if(u.has(i)){const e=u.get(i);c=Date.now()-e>r}else c=!0;u.has(n)&&!c?o=u.get(n):(o=e.apply(a,s),u.set(n,o),r>0&&u.set(i,Date.now()))}else{const t=a;u.has(t)?o=u.get(t):(o=e.apply(a,s),u.set(t,o))}return o}}var Fg=class{static fromBuffer(e){return Fg.fromUint8Array(e)}static fromUint8Array(e){return new Fg(qy(e))}static ensure(e){return"string"==typeof e?new Fg(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(Fy(this.noPrefix()))}};async function Hg(e,t,r,n){var i;const s=[];let o;for(;;){const a=await e(Fg.ensure(t).hex(),null==(i=null==n?void 0:n.ledgerVersion)?void 0:i.toString(),o,r);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),null==o)break}return s}var jg={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},zg={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Kg={};Pg(Kg,{AccountAddress:()=>fm,AccountAuthenticator:()=>Am,AccountAuthenticatorEd25519:()=>xm,AccountAuthenticatorMultiEd25519:()=>Tm,ArgumentABI:()=>Aw,AuthenticationKey:()=>Pw,ChainId:()=>lw,ChangeSet:()=>tw,Ed25519PublicKey:()=>pm,Ed25519Signature:()=>gm,EntryFunction:()=>Xm,EntryFunctionABI:()=>kw,Identifier:()=>km,Module:()=>Qm,ModuleId:()=>ew,MultiAgentRawTransaction:()=>sw,MultiEd25519PublicKey:()=>mm,MultiEd25519Signature:()=>bm,MultiSig:()=>Ym,MultiSigTransactionPayload:()=>Zm,RawTransaction:()=>Wm,RawTransactionWithData:()=>iw,RotationProofChallenge:()=>Cw,Script:()=>Jm,ScriptABI:()=>xw,SignedTransaction:()=>nw,StructTag:()=>Fm,Transaction:()=>Ew,TransactionArgument:()=>hw,TransactionArgumentAddress:()=>ww,TransactionArgumentBool:()=>vw,TransactionArgumentU128:()=>gw,TransactionArgumentU16:()=>dw,TransactionArgumentU256:()=>mw,TransactionArgumentU32:()=>pw,TransactionArgumentU64:()=>yw,TransactionArgumentU8:()=>fw,TransactionArgumentU8Vector:()=>bw,TransactionAuthenticator:()=>vm,TransactionAuthenticatorEd25519:()=>Em,TransactionAuthenticatorMultiAgent:()=>Sm,TransactionAuthenticatorMultiEd25519:()=>_m,TransactionPayload:()=>ow,TransactionPayloadEntryFunction:()=>uw,TransactionPayloadMultisig:()=>cw,TransactionPayloadScript:()=>aw,TransactionScriptABI:()=>Tw,TypeArgumentABI:()=>Sw,TypeTag:()=>Rm,TypeTagAddress:()=>Nm,TypeTagBool:()=>Pm,TypeTagParser:()=>Gm,TypeTagParserError:()=>Vm,TypeTagSigner:()=>Lm,TypeTagStruct:()=>qm,TypeTagU128:()=>Im,TypeTagU16:()=>Mm,TypeTagU256:()=>Bm,TypeTagU32:()=>Om,TypeTagU64:()=>Um,TypeTagU8:()=>Cm,TypeTagVector:()=>Dm,UserTransaction:()=>_w,WriteSet:()=>rw,stringStructTag:()=>Hm});Pg({},{Deserializer:()=>Zg,Serializer:()=>Jg,bcsSerializeBool:()=>am,bcsSerializeBytes:()=>cm,bcsSerializeFixedBytes:()=>lm,bcsSerializeStr:()=>um,bcsSerializeU128:()=>om,bcsSerializeU16:()=>im,bcsSerializeU32:()=>sm,bcsSerializeU8:()=>nm,bcsSerializeUint64:()=>rm,bcsToBytes:()=>tm,deserializeVector:()=>em,serializeVector:()=>Yg,serializeVectorWithFunc:()=>Qg});var $g=2**32-1,Gg=BigInt(2**64)-BigInt(1),Vg=BigInt(2**128)-BigInt(1),Wg=BigInt(2**256)-BigInt(1),Jg=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);const n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if("boolean"!=typeof e)throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt($g),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){const t=BigInt(e.toString())&Gg,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){const t=BigInt(e.toString())&Vg,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e;const r=[];for(;t>>>7!=0;)r.push(127&t|128),t>>>=7;r.push(t),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function Xg(e,t,r){return(n,i,s)=>{const o=s.value;return s.value=function(n){const i=BigInt(n.toString());if(i>BigInt(t.toString())||i<BigInt(e.toString()))throw new Error(r||"Value is out of range");o.apply(this,[n])},s}}Cg([Xg(0,255)],Jg.prototype,"serializeU8",1),Cg([Xg(0,65535)],Jg.prototype,"serializeU16",1),Cg([Xg(0,$g)],Jg.prototype,"serializeU32",1),Cg([Xg(BigInt(0),Gg)],Jg.prototype,"serializeU64",1),Cg([Xg(BigInt(0),Vg)],Jg.prototype,"serializeU128",1),Cg([Xg(BigInt(0),Wg)],Jg.prototype,"serializeU256",1),Cg([Xg(0,$g)],Jg.prototype,"serializeU32AsUleb128",1);var Zg=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return(new TextDecoder).decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(1!==e&&0!==e)throw new Error("Invalid boolean value");return 1===e}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<$g;){const r=this.deserializeU8();if(e|=BigInt(127&r)<<BigInt(t),0==(128&r))break;t+=7}if(e>$g)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function Yg(e,t){t.serializeU32AsUleb128(e.length),e.forEach((e=>{e.serialize(t)}))}function Qg(e,t){const r=new Jg;r.serializeU32AsUleb128(e.length);const n=r[t];return e.forEach((e=>{n.call(r,e)})),r.getBytes()}function em(e,t){const r=e.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1)n.push(t.deserialize(e));return n}function tm(e){const t=new Jg;return e.serialize(t),t.getBytes()}function rm(e){const t=new Jg;return t.serializeU64(e),t.getBytes()}function nm(e){const t=new Jg;return t.serializeU8(e),t.getBytes()}function im(e){const t=new Jg;return t.serializeU16(e),t.getBytes()}function sm(e){const t=new Jg;return t.serializeU32(e),t.getBytes()}function om(e){const t=new Jg;return t.serializeU128(e),t.getBytes()}function am(e){const t=new Jg;return t.serializeBool(e),t.getBytes()}function um(e){const t=new Jg;return t.serializeStr(e),t.getBytes()}function cm(e){const t=new Jg;return t.serializeBytes(e),t.getBytes()}function lm(e){const t=new Jg;return t.serializeFixedBytes(e),t.getBytes()}var hm=class{constructor(e){if(e.length!==hm.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let t=Fg.ensure(e);t.noPrefix().length%2!=0&&(t=new Fg(`0${t.noPrefix()}`));const r=t.toUint8Array();if(r.length>hm.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===hm.LENGTH)return new hm(r);const n=new Uint8Array(hm.LENGTH);return n.set(r,hm.LENGTH-r.length),new hm(n)}static isValid(e){if(""===e)return!1;let t=Fg.ensure(e);t.noPrefix().length%2!=0&&(t=new Fg(`0${t.noPrefix()}`));return t.toUint8Array().length<=hm.LENGTH}toHexString(){return Fg.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new hm(e.deserializeFixedBytes(hm.LENGTH))}},fm=hm;fm.LENGTH=32,fm.CORE_CODE_ADDRESS=hm.fromHex("0x1");var dm=class{constructor(e){if(e.length!==dm.LENGTH)throw new Error(`Ed25519PublicKey length should be ${dm.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new dm(t)}},pm=dm;pm.LENGTH=32;var ym=class{constructor(e){if(this.value=e,e.length!==ym.LENGTH)throw new Error(`Ed25519Signature length should be ${ym.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new ym(t)}},gm=ym;gm.LENGTH=64;var mm=class{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>32)throw new Error('"threshold" cannot be larger than 32')}toBytes(){const e=new Uint8Array(this.public_keys.length*pm.LENGTH+1);return this.public_keys.forEach(((t,r)=>{e.set(t.value,r*pm.LENGTH)})),e[this.public_keys.length*pm.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),r=t[t.length-1],n=[];for(let e=0;e<t.length-1;e+=pm.LENGTH){const r=e;n.push(new pm(t.subarray(r,r+pm.LENGTH)))}return new mm(n,r)}},wm=class{constructor(e,t){if(this.signatures=e,this.bitmap=t,t.length!==wm.BITMAP_LEN)throw new Error(`"bitmap" length should be ${wm.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*gm.LENGTH+wm.BITMAP_LEN);return this.signatures.forEach(((t,r)=>{e.set(t.value,r*gm.LENGTH)})),e.set(this.bitmap,this.signatures.length*gm.LENGTH),e}static createBitmap(e){const t=new Uint8Array([0,0,0,0]),r=new Set;return e.forEach((e=>{if(e>=32)throw new Error(`Invalid bit value ${e}.`);if(r.has(e))throw new Error("Duplicated bits detected.");r.add(e);const n=Math.floor(e/8);let i=t[n];i|=128>>e%8,t[n]=i})),t}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),r=t.subarray(t.length-4),n=[];for(let e=0;e<t.length-r.length;e+=gm.LENGTH){const r=e;n.push(new gm(t.subarray(r,r+gm.LENGTH)))}return new wm(n,r)}},bm=wm;bm.BITMAP_LEN=4;var vm=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Em.load(e);case 1:return _m.load(e);case 2:return Sm.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},Em=class extends vm{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=pm.deserialize(e),r=gm.deserialize(e);return new Em(t,r)}},_m=class extends vm{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=mm.deserialize(e),r=bm.deserialize(e);return new _m(t,r)}},Sm=class extends vm{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),Yg(this.secondary_signer_addresses,e),Yg(this.secondary_signers,e)}static load(e){const t=Am.deserialize(e),r=em(e,fm),n=em(e,Am);return new Sm(t,r,n)}},Am=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return xm.load(e);case 1:return Tm.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},xm=class extends Am{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=pm.deserialize(e),r=gm.deserialize(e);return new xm(t,r)}},Tm=class extends Am{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=mm.deserialize(e),r=bm.deserialize(e);return new Tm(t,r)}},km=class{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const t=e.deserializeStr();return new km(t)}},Rm=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Pm.load(e);case 1:return Cm.load(e);case 2:return Um.load(e);case 3:return Im.load(e);case 4:return Nm.load(e);case 5:return Lm.load(e);case 6:return Dm.load(e);case 7:return qm.load(e);case 8:return Mm.load(e);case 9:return Om.load(e);case 10:return Bm.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},Pm=class extends Rm{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new Pm}},Cm=class extends Rm{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Cm}},Mm=class extends Rm{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Mm}},Om=class extends Rm{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Om}},Um=class extends Rm{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Um}},Im=class extends Rm{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new Im}},Bm=class extends Rm{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Bm}},Nm=class extends Rm{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new Nm}},Lm=class extends Rm{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new Lm}},Dm=class extends Rm{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const t=Rm.deserialize(e);return new Dm(t)}},qm=class extends Rm{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const t=Fm.deserialize(e);return new qm(t)}isStringTypeTag(){return"string"===this.value.module_name.value&&"String"===this.value.name.value&&this.value.address.toHexString()===fm.fromHex("0x1").toHexString()}},Fm=class{constructor(e,t,r,n){this.address=e,this.module_name=t,this.name=r,this.type_args=n}static fromString(e){const t=new Gm(e).parseTypeTag();return new Fm(t.value.address,t.value.module_name,t.value.name,t.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),Yg(this.type_args,e)}static deserialize(e){const t=fm.deserialize(e),r=km.deserialize(e),n=km.deserialize(e),i=em(e,Rm);return new Fm(t,r,n,i)}},Hm=new Fm(fm.fromHex("0x1"),new km("string"),new km("String"),[]);function jm(e){throw new Vm(e)}function zm(e){return!!e.match(/\s/)}function Km(e){return!!e.match(/[_A-Za-z0-9]/g)}function $m(e,t){const r=e[t];if(":"===r){if("::"===e.slice(t,t+2))return[["COLON","::"],2];jm("Unrecognized token.")}else{if("<"===r)return[["LT","<"],1];if(">"===r)return[["GT",">"],1];if(","===r)return[["COMMA",","],1];if(zm(r)){let r="";for(let n=t;n<e.length;n+=1){const t=e[n];if(!zm(t))break;r=`${r}${t}`}return[["SPACE",r],r.length]}if(Km(r)){let r="";for(let n=t;n<e.length;n+=1){const t=e[n];if(!Km(t))break;r=`${r}${t}`}return function(e){return!!e.match(/T\d+/g)}(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}var Gm=class{constructor(e,t){this.typeTags=[],this.tokens=function(e){let t=0;const r=[];for(;t<e.length;){const[n,i]=$m(e,t);"SPACE"!==n[0]&&r.push(n),t+=i}return r}(e),this.typeTags=t||[]}consume(e){const t=this.tokens.shift();t&&t[1]===e||jm("Invalid type tag.")}parseCommaList(e,t){const r=[];for(this.tokens.length<=0&&jm("Invalid type tag.");!(this.tokens[0][1]===e||(r.push(this.parseTypeTag()),this.tokens.length>0&&this.tokens[0][1]===e)||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t));)this.tokens.length<=0&&jm("Invalid type tag.");return r}parseTypeTag(){0===this.tokens.length&&jm("Invalid type tag.");const[e,t]=this.tokens.shift();if("u8"===t)return new Cm;if("u16"===t)return new Mm;if("u32"===t)return new Om;if("u64"===t)return new Um;if("u128"===t)return new Im;if("u256"===t)return new Bm;if("bool"===t)return new Pm;if("address"===t)return new Nm;if("vector"===t){this.consume("<");const e=this.parseTypeTag();return this.consume(">"),new Dm(e)}if("string"===t)return new Fm(fm.fromHex("0x1"),new km("string"),new km("String"),[]);if("IDENT"===e&&(t.startsWith("0x")||t.startsWith("0X"))){const e=t;this.consume("::");const[r,n]=this.tokens.shift();"IDENT"!==r&&jm("Invalid type tag."),this.consume("::");const[i,s]=this.tokens.shift();if("IDENT"!==i&&jm("Invalid type tag."),"object"===n&&"Object"===s)return this.tokens.splice(0,3),new Nm;let o=[];this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const a=new Fm(fm.fromHex(e),new km(n),new km(s),o);return new qm(a)}if("GENERIC"===e){0===this.typeTags.length&&jm("Can't convert generic type since no typeTags were specified.");const e=parseInt(t.substring(1),10);return new Gm(this.typeTags[e]).parseTypeTag()}throw new Error("Invalid type tag.")}},Vm=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},Wm=class{constructor(e,t,r,n,i,s,o){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const t=fm.deserialize(e),r=e.deserializeU64(),n=ow.deserialize(e),i=e.deserializeU64(),s=e.deserializeU64(),o=e.deserializeU64(),a=lw.deserialize(e);return new Wm(t,r,n,i,s,o,a)}},Jm=class{constructor(e,t,r){this.code=e,this.ty_args=t,this.args=r}serialize(e){e.serializeBytes(this.code),Yg(this.ty_args,e),Yg(this.args,e)}static deserialize(e){const t=e.deserializeBytes(),r=em(e,Rm),n=em(e,hw);return new Jm(t,r,n)}},Xm=class{constructor(e,t,r,n){this.module_name=e,this.function_name=t,this.ty_args=r,this.args=n}static natural(e,t,r,n){return new Xm(ew.fromStr(e),new km(t),r,n)}static natual(e,t,r,n){return Xm.natural(e,t,r,n)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),Yg(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach((t=>{e.serializeBytes(t)}))}static deserialize(e){const t=ew.deserialize(e),r=km.deserialize(e),n=em(e,Rm),i=e.deserializeUleb128AsU32(),s=[];for(let t=0;t<i;t+=1)s.push(e.deserializeBytes());return new Xm(t,r,n,s)}},Zm=class{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return e.deserializeUleb128AsU32(),new Zm(Xm.deserialize(e))}},Ym=class{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),void 0===this.transaction_payload?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const t=fm.deserialize(e);let r;return e.deserializeBool()&&(r=Zm.deserialize(e)),new Ym(t,r)}},Qm=class{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const t=e.deserializeBytes();return new Qm(t)}},ew=class{constructor(e,t){this.address=e,this.name=t}static fromStr(e){const t=e.split("::");if(2!==t.length)throw new Error("Invalid module id.");return new ew(fm.fromHex(new Fg(t[0])),new km(t[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const t=fm.deserialize(e),r=km.deserialize(e);return new ew(t,r)}},tw=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},rw=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},nw=class{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const t=Wm.deserialize(e),r=vm.deserialize(e);return new nw(t,r)}},iw=class{static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return sw.load(e);throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}},sw=class extends iw{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),Yg(this.secondary_signer_addresses,e)}static load(e){const t=Wm.deserialize(e),r=em(e,fm);return new sw(t,r)}},ow=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return aw.load(e);case 2:return uw.load(e);case 3:return cw.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},aw=class extends ow{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const t=Jm.deserialize(e);return new aw(t)}},uw=class extends ow{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const t=Xm.deserialize(e);return new uw(t)}},cw=class extends ow{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=Ym.deserialize(e);return new cw(t)}},lw=class{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const t=e.deserializeU8();return new lw(t)}},hw=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return fw.load(e);case 1:return yw.load(e);case 2:return gw.load(e);case 3:return ww.load(e);case 4:return bw.load(e);case 5:return vw.load(e);case 6:return dw.load(e);case 7:return pw.load(e);case 8:return mw.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},fw=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const t=e.deserializeU8();return new fw(t)}},dw=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const t=e.deserializeU16();return new dw(t)}},pw=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const t=e.deserializeU32();return new pw(t)}},yw=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const t=e.deserializeU64();return new yw(t)}},gw=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const t=e.deserializeU128();return new gw(t)}},mw=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const t=e.deserializeU256();return new mw(t)}},ww=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=fm.deserialize(e);return new ww(t)}},bw=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const t=e.deserializeBytes();return new bw(t)}},vw=class extends hw{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const t=e.deserializeBool();return new vw(t)}},Ew=class{getHashSalt(){const e=fg.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return _w.load(e);throw new Error(`Unknown variant index for Transaction: ${t}`)}},_w=class extends Ew{constructor(e){super(),this.value=e}hash(){const e=fg.create();return e.update(this.getHashSalt()),e.update(tm(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new _w(nw.deserialize(e))}},Sw=class{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const t=e.deserializeStr();return new Sw(t)}},Aw=class{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const t=e.deserializeStr(),r=Rm.deserialize(e);return new Aw(t,r)}},xw=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Tw.load(e);case 1:return kw.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},Tw=class extends xw{constructor(e,t,r,n,i){super(),this.name=e,this.doc=t,this.code=r,this.ty_args=n,this.args=i}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Yg(this.ty_args,e),Yg(this.args,e)}static load(e){const t=e.deserializeStr(),r=e.deserializeStr(),n=e.deserializeBytes(),i=em(e,Sw),s=em(e,Aw);return new Tw(t,r,n,i,s)}},kw=class extends xw{constructor(e,t,r,n,i){super(),this.name=e,this.module_name=t,this.doc=r,this.ty_args=n,this.args=i}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Yg(this.ty_args,e),Yg(this.args,e)}static load(e){const t=e.deserializeStr(),r=ew.deserialize(e),n=e.deserializeStr(),i=em(e,Sw),s=em(e,Aw);return new kw(t,r,n,i,s)}},Rw=class{constructor(e){if(e.length!==Rw.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const t=e.toBytes(),r=new Uint8Array(t.length+1);r.set(t),r.set([Rw.MULTI_ED25519_SCHEME],t.length);const n=fg.create();return n.update(r),new Rw(n.digest())}static fromEd25519PublicKey(e){const t=e.value,r=new Uint8Array(t.length+1);r.set(t),r.set([Rw.ED25519_SCHEME],t.length);const n=fg.create();return n.update(r),new Rw(n.digest())}derivedAddress(){return Fg.fromUint8Array(this.bytes)}},Pw=Rw;Pw.LENGTH=32,Pw.MULTI_ED25519_SCHEME=1,Pw.ED25519_SCHEME=0,Pw.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Cw=class{constructor(e,t,r,n,i,s,o){this.accountAddress=e,this.moduleName=t,this.structName=r,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},Mw=class{static fromAptosAccountObject(e){return new Mw(Fg.ensure(e.privateKeyHex).toUint8Array(),e.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(e,t){if(!Mw.isValidPath(e))throw new Error("Invalid derivation path");const r=t.trim().split(/\s+/).map((e=>e.toLowerCase())).join(" "),{key:n}=Ug(e,qy(Ny.Z1(r)));return new Mw(n)}constructor(e,t){this.signingKey=e?By.sign.keyPair.fromSeed(e.slice(0,32)):By.sign.keyPair(),this.accountAddress=Fg.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new pm(this.signingKey.publicKey);return Pw.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const r=tm(fm.fromHex(e)),n=new Uint8Array([...r,...t,Pw.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=fg.create();return i.update(n),Fg.fromUint8Array(i.digest())}pubKey(){return Fg.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=By.sign.detached(e,this.signingKey.secretKey);return Fg.fromUint8Array(t)}signHexString(e){const t=Fg.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){const r=Fg.ensure(e).toUint8Array(),n=Fg.ensure(t).toUint8Array();return By.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:Fg.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Ow=Mw;Cg([Lg()],Ow.prototype,"authKey",1);var Uw=class{constructor(e){this.endpoint=e}static validateAddress(e){if(e.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(e){const{data:t}=await xg.post(this.endpoint,e);if(t.errors)throw new Error(`Indexer data error ${JSON.stringify(t.errors,null," ")}`);return t.data}async getIndexerLedgerInfo(){const e={query:"\n    query getIndexerLedgerInfo {\n  ledger_infos {\n    chain_id\n  }\n}\n    "};return this.queryIndexer(e)}async getAccountNFTs(e,t){const r=Fg.ensure(e).hex();Uw.validateAddress(r);const n={query:"\n    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {\n  current_token_ownerships(\n    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}\n    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    current_token_data {\n      ...TokenDataFields\n    }\n    current_collection_data {\n      ...CollectionDataFields\n    }\n    last_transaction_version\n    property_version\n  }\n}\n    \n    fragment TokenDataFields on current_token_datas {\n  creator_address\n  collection_name\n  description\n  metadata_uri\n  name\n  token_data_id_hash\n  collection_data_id_hash\n}\n    \n\n    fragment CollectionDataFields on current_collection_datas {\n  metadata_uri\n  supply\n  description\n  collection_name\n  collection_data_id_hash\n  table_handle\n  creator_address\n}\n    ",variables:{address:r,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(n)}async getTokenActivities(e,t){const r={query:"\n    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {\n  token_activities(\n    where: {token_data_id_hash: {_eq: $idHash}}\n    order_by: {transaction_version: desc}\n    offset: $offset\n    limit: $limit\n  ) {\n    creator_address\n    collection_name\n    name\n    token_data_id_hash\n    collection_data_id_hash\n    from_address\n    to_address\n    transaction_version\n    transaction_timestamp\n    property_version\n    transfer_type\n    event_sequence_number\n    token_amount\n  }\n}\n    ",variables:{idHash:e,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(r)}async getAccountCoinsData(e,t){const r=Fg.ensure(e).hex();Uw.validateAddress(r);const n={query:"\n    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {\n  current_coin_balances(\n    where: {owner_address: {_eq: $owner_address}}\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    coin_type\n    coin_info {\n      name\n      decimals\n      symbol\n    }\n  }\n}\n    ",variables:{owner_address:r,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(n)}async getAccountTokensCount(e){const t=Fg.ensure(e).hex();Uw.validateAddress(t);const r={query:'\n    query getAccountTokensCount($owner_address: String) {\n  current_token_ownerships_aggregate(\n    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',variables:{owner_address:t}};return this.queryIndexer(r)}async getAccountTransactionsCount(e){const t=Fg.ensure(e).hex();Uw.validateAddress(t);const r={query:"\n    query getAccountTransactionsCount($address: String) {\n  move_resources_aggregate(\n    where: {address: {_eq: $address}}\n    distinct_on: transaction_version\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{address:t}};return this.queryIndexer(r)}async getAccountTransactionsData(e,t){const r=Fg.ensure(e).hex();Uw.validateAddress(r);const n={query:"\n    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {\n  move_resources(\n    where: {address: {_eq: $address}}\n    order_by: {transaction_version: desc}\n    distinct_on: transaction_version\n    limit: $limit\n    offset: $offset\n  ) {\n    transaction_version\n  }\n}\n    ",variables:{address:r,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(e,t){const r=Fg.ensure(e).hex(),n=Fg.ensure(t).hex();Uw.validateAddress(r),Uw.validateAddress(n);const i={query:"\n    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {\n  delegated_staking_activities(\n    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}\n  ) {\n    amount\n    delegator_address\n    event_index\n    event_type\n    pool_address\n    transaction_version\n  }\n}\n    ",variables:{delegatorAddress:r,poolAddress:n}};return this.queryIndexer(i)}async getTokenActivitiesCount(e){const t={query:"\n    query getTokenActivitiesCount($token_id: String) {\n  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{token_id:e}};return this.queryIndexer(t)}async getTokenData(e){const t={query:"\n    query getTokenData($token_id: String) {\n  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {\n    token_data_id_hash\n    name\n    collection_name\n    creator_address\n    default_properties\n    largest_property_version\n    maximum\n    metadata_uri\n    payee_address\n    royalty_points_denominator\n    royalty_points_numerator\n    supply\n  }\n}\n    ",variables:{token_id:e}};return this.queryIndexer(t)}async getTokenOwnersData(e,t){const r={query:"\n    query getTokenOwnersData($token_id: String, $property_version: numeric) {\n  current_token_ownerships(\n    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}\n  ) {\n    owner_address\n  }\n}\n    ",variables:{token_id:e,property_version:t}};return this.queryIndexer(r)}async getTopUserTransactions(e){const t={query:"\n    query getTopUserTransactions($limit: Int) {\n  user_transactions(limit: $limit, order_by: {version: desc}) {\n    version\n  }\n}\n    ",variables:{limit:e}};return this.queryIndexer(t)}async getUserTransactions(e,t){const r={query:"\n    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {\n  user_transactions(\n    limit: $limit\n    order_by: {version: desc}\n    where: {version: {_lte: $start_version}}\n    offset: $offset\n  ) {\n    version\n  }\n}\n    ",variables:{start_version:e,offset:null==t?void 0:t.offset,limit:null==t?void 0:t.limit}};return this.queryIndexer(r)}async getCurrentDelegatorBalancesCount(e){const t=Fg.ensure(e).hex();Uw.validateAddress(t);const r={query:'\n    query getCurrentDelegatorBalancesCount($poolAddress: String) {\n  current_delegator_balances_aggregate(\n    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}\n    distinct_on: delegator_address\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',variables:{poolAddress:t}};return this.queryIndexer(r)}};Pg({},{$AccountData:()=>ab,$AccountSignature:()=>ub,$AccountSignature_Ed25519Signature:()=>cb,$AccountSignature_MultiEd25519Signature:()=>lb,$Address:()=>hb,$AptosError:()=>fb,$AptosErrorCode:()=>db,$Block:()=>pb,$BlockMetadataTransaction:()=>yb,$DecodedTableData:()=>gb,$DeleteModule:()=>wb,$DeleteResource:()=>bb,$DeleteTableItem:()=>vb,$DeletedTableData:()=>mb,$DirectWriteSet:()=>Eb,$Ed25519Signature:()=>_b,$EncodeSubmissionRequest:()=>Sb,$EntryFunctionId:()=>Ab,$EntryFunctionPayload:()=>xb,$Event:()=>Tb,$EventGuid:()=>kb,$GasEstimation:()=>Rb,$GenesisPayload:()=>Pb,$GenesisPayload_WriteSetPayload:()=>Cb,$GenesisTransaction:()=>Mb,$HashValue:()=>Ob,$HealthCheckSuccess:()=>Ub,$HexEncodedBytes:()=>Ib,$IdentifierWrapper:()=>Bb,$IndexResponse:()=>Nb,$ModuleBundlePayload:()=>Lb,$MoveAbility:()=>Db,$MoveFunction:()=>qb,$MoveFunctionGenericTypeParam:()=>Fb,$MoveFunctionVisibility:()=>Hb,$MoveModule:()=>jb,$MoveModuleBytecode:()=>zb,$MoveModuleId:()=>Kb,$MoveResource:()=>$b,$MoveScriptBytecode:()=>Gb,$MoveStruct:()=>Vb,$MoveStructField:()=>Wb,$MoveStructGenericTypeParam:()=>Jb,$MoveStructTag:()=>Xb,$MoveStructValue:()=>Zb,$MoveType:()=>Yb,$MoveValue:()=>Qb,$MultiAgentSignature:()=>ev,$MultiEd25519Signature:()=>tv,$MultisigPayload:()=>rv,$MultisigTransactionPayload:()=>nv,$PendingTransaction:()=>iv,$RawTableItemRequest:()=>sv,$RoleType:()=>ov,$ScriptPayload:()=>av,$ScriptWriteSet:()=>uv,$StateCheckpointTransaction:()=>cv,$StateKeyWrapper:()=>lv,$SubmitTransactionRequest:()=>hv,$TableItemRequest:()=>fv,$Transaction:()=>dv,$TransactionPayload:()=>bv,$TransactionPayload_EntryFunctionPayload:()=>vv,$TransactionPayload_ModuleBundlePayload:()=>Ev,$TransactionPayload_MultisigPayload:()=>_v,$TransactionPayload_ScriptPayload:()=>Sv,$TransactionSignature:()=>Tv,$TransactionSignature_Ed25519Signature:()=>kv,$TransactionSignature_MultiAgentSignature:()=>Rv,$TransactionSignature_MultiEd25519Signature:()=>Pv,$Transaction_BlockMetadataTransaction:()=>pv,$Transaction_GenesisTransaction:()=>yv,$Transaction_PendingTransaction:()=>gv,$Transaction_StateCheckpointTransaction:()=>mv,$Transaction_UserTransaction:()=>wv,$TransactionsBatchSingleSubmissionFailure:()=>Av,$TransactionsBatchSubmissionResult:()=>xv,$U128:()=>Cv,$U256:()=>Mv,$U64:()=>Ov,$UserTransaction:()=>Uv,$VersionedEvent:()=>Iv,$ViewRequest:()=>Bv,$WriteModule:()=>Nv,$WriteResource:()=>Lv,$WriteSet:()=>Dv,$WriteSetChange:()=>Hv,$WriteSetChange_DeleteModule:()=>jv,$WriteSetChange_DeleteResource:()=>zv,$WriteSetChange_DeleteTableItem:()=>Kv,$WriteSetChange_WriteModule:()=>$v,$WriteSetChange_WriteResource:()=>Gv,$WriteSetChange_WriteTableItem:()=>Vv,$WriteSetPayload:()=>Wv,$WriteSet_DirectWriteSet:()=>qv,$WriteSet_ScriptWriteSet:()=>Fv,$WriteTableItem:()=>Jv,AccountsService:()=>Jw,ApiError:()=>Bw,AptosErrorCode:()=>ib,AptosGeneratedClient:()=>rb,BaseHttpRequest:()=>Iw,BlocksService:()=>Xw,CancelError:()=>Nw,CancelablePromise:()=>Lw,EventsService:()=>Zw,GeneralService:()=>Yw,MoveFunctionVisibility:()=>sb,OpenAPI:()=>nb,RoleType:()=>ob,TablesService:()=>Qw,TransactionsService:()=>eb,ViewService:()=>tb});var Iw=class{constructor(e){this.config=e}},Bw=class extends Error{constructor(e,t,r){super(r),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}},Nw=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}},Lw=class{constructor(e){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise(((t,r)=>{this._resolve=t,this._reject=r;const n=e=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(e)};return Object.defineProperty(n,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(n,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(n,"isCancelled",{get:()=>this._isCancelled}),e((e=>{var t;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,null==(t=this._resolve)||t.call(this,e))}),(e=>{var t;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,null==(t=this._reject)||t.call(this,e))}),n)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){return void console.warn("Cancellation threw an error",e)}this._cancelHandlers.length=0,null==(e=this._reject)||e.call(this,new Nw("Request aborted"))}}get isCancelled(){return this._isCancelled}};Symbol.toStringTag;var Dw=class{constructor(e=new Map){this.jar=e}setCookie(e,t){var r;const n=e.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const i=Dw.parse(t);this.jar.set(n,[...(null==(r=this.jar.get(n))?void 0:r.filter((e=>e.name!==i.name)))||[],i])}getCookies(e){var t;const r=e.origin.toLowerCase();return this.jar.get(r)&&(null==(t=this.jar.get(r))?void 0:t.filter((e=>!e.expires||e.expires>new Date)))||[]}static parse(e){if("string"!=typeof e)throw new Error("argument str must be a string");const t=e.split(";").map((e=>e.trim()));let r;if(!(t.length>0))throw new Error("Invalid cookie");{const[e,n]=t[0].split("=");if(!e||!n)throw new Error("Invalid cookie");r={name:e,value:n}}return t.slice(1).forEach((e=>{const[t,n]=e.split("=");if(!t.trim())throw new Error("Invalid cookie");const i=t.toLowerCase(),s="'"===(null==n?void 0:n.charAt(0))||'"'===(null==n?void 0:n.charAt(0))?null==n?void 0:n.slice(1,-1):n;if("expires"===i&&(r.expires=new Date(s)),"path"===i&&(r.path=s),"samesite"===i){if("Lax"!==s&&"None"!==s&&"Strict"!==s)throw new Error("Invalid cookie SameSite value");r.sameSite=s}"secure"===i&&(r.secure=!0)})),r}},qw=new Dw;xg.interceptors.response.use((e=>(Array.isArray(e.headers["set-cookie"])&&e.headers["set-cookie"].forEach((t=>{qw.setCookie(new URL(e.config.url),t)})),e))),xg.interceptors.request.use((function(e){const t=qw.getCookies(new URL(e.url));return(null==t?void 0:t.length)>0&&e.headers&&(e.headers.cookie=t.map((e=>`${e.name}=${e.value}`)).join("; ")),e}));var Fw=e=>null!=e,Hw=e=>"string"==typeof e,jw=e=>Hw(e)&&""!==e,zw=e=>"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),Kw=e=>{const t=[],r=(e,n)=>{Fw(n)&&(Array.isArray(n)?n.forEach((t=>{r(e,t)})):"object"==typeof n?Object.entries(n).forEach((([t,n])=>{r(`${e}[${t}]`,n)})):((e,r)=>{t.push(`${encodeURIComponent(e)}=${encodeURIComponent(String(r))}`)})(e,n))};return Object.entries(e).forEach((([e,t])=>{r(e,t)})),t.length>0?`?${t.join("&")}`:""},$w=async(e,t)=>"function"==typeof t?t(e):t,Gw=async(e,t,r)=>{const n=await $w(t,e.TOKEN),i=await $w(t,e.USERNAME),s=await $w(t,e.PASSWORD),o=await $w(t,e.HEADERS),a="function"==typeof(null==r?void 0:r.getHeaders)&&(null==r?void 0:r.getHeaders())||{},u=Object.entries({Accept:"application/json",...o,...t.headers,...a}).filter((([e,t])=>Fw(t))).reduce(((e,[t,r])=>({...e,[t]:String(r)})),{});if(jw(n)&&(u.Authorization=`Bearer ${n}`),jw(i)&&jw(s)){const e=btoa(`${i}:${s}`);u.Authorization=`Basic ${e}`}return t.body&&(t.mediaType?u["Content-Type"]=t.mediaType:zw(t.body)?u["Content-Type"]=t.body.type||"application/octet-stream":Hw(t.body)?u["Content-Type"]="text/plain":t.body instanceof Tg||(u["Content-Type"]="application/json")),u},Vw=(e,t)=>new Lw((async(r,n,i)=>{try{const n=((e,t)=>{const r=e.ENCODE_PATH||encodeURI,n=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,((e,n)=>{var i;return(null==(i=t.path)?void 0:i.hasOwnProperty(n))?r(String(t.path[n])):e})),i=`${e.BASE}${n}`;return t.query?`${i}${Kw(t.query)}`:i})(e,t),o=(e=>{if(e.formData){const t=new Tg,r=(e,r)=>{Hw(r)||zw(r)?t.append(e,r):t.append(e,JSON.stringify(r))};return Object.entries(e.formData).filter((([e,t])=>Fw(t))).forEach((([e,t])=>{Array.isArray(t)?t.forEach((t=>r(e,t))):r(e,t)})),t}})(t),a=(e=>{if(e.body)return e.body})(t),u=await Gw(e,t,o);if(!i.isCancelled){const c=await(async(e,t,r,n,i,s,o)=>{const a=xg.CancelToken.source(),u={url:r,headers:s,data:null!=n?n:i,method:t.method,withCredentials:e.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(e.HEADERS||{}).filter((e=>"accept"===e.toLowerCase())).map((t=>e.HEADERS[t])).includes("application/x-bcs")&&(u.responseType="arraybuffer"),o((()=>a.cancel("The user aborted a request.")));try{return await xg.request(u)}catch(e){const t=e;if(t.response)return t.response;throw e}})(e,t,n,a,o,u,i),l=(e=>{if(204!==e.status)return e.data})(c),h=((e,t)=>{if(t){const r=e.headers[t];if(Hw(r))return r}})(c,t.responseHeader),f={url:n,ok:(s=c.status,s>=200&&s<300),status:c.status,statusText:c.statusText,body:null!=h?h:l};((e,t)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(r)throw new Bw(e,t,r);if(!t.ok)throw new Bw(e,t,"Generic Error")})(t,f);const d=f.body;try{d.__headers=c.headers}catch(e){}r(d)}}catch(e){n(e)}var s})),Ww=class extends Iw{constructor(e){super(e)}request(e){return Vw(this.config,e)}},Jw=class{constructor(e){this.httpRequest=e}getAccount(e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:e},query:{ledger_version:t}})}getAccountResources(e,t,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:e},query:{ledger_version:t,start:r,limit:n}})}getAccountModules(e,t,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:e},query:{ledger_version:t,start:r,limit:n}})}getAccountResource(e,t,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:e,resource_type:t},query:{ledger_version:r}})}getAccountModule(e,t,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:e,module_name:t},query:{ledger_version:r}})}},Xw=class{constructor(e){this.httpRequest=e}getBlockByHeight(e,t){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:e},query:{with_transactions:t}})}getBlockByVersion(e,t){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:e},query:{with_transactions:t}})}},Zw=class{constructor(e){this.httpRequest=e}getEventsByCreationNumber(e,t,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:e,creation_number:t},query:{start:r,limit:n}})}getEventsByEventHandle(e,t,r,n,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:e,event_handle:t,field_name:r},query:{start:n,limit:i}})}},Yw=class{constructor(e){this.httpRequest=e}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(e){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:e}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},Qw=class{constructor(e){this.httpRequest=e}getTableItem(e,t,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:e},query:{ledger_version:r},body:t,mediaType:"application/json"})}getRawTableItem(e,t,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:e},query:{ledger_version:r},body:t,mediaType:"application/json"})}},eb=class{constructor(e){this.httpRequest=e}getTransactions(e,t){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:e,limit:t}})}submitTransaction(e){return this.httpRequest.request({method:"POST",url:"/transactions",body:e,mediaType:"application/json"})}getTransactionByHash(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:e}})}getTransactionByVersion(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:e}})}getAccountTransactions(e,t,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:e},query:{start:t,limit:r}})}submitBatchTransactions(e){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:e,mediaType:"application/json"})}simulateTransaction(e,t,r,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:t,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:n},body:e,mediaType:"application/json"})}encodeSubmission(e){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:e,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},tb=class{constructor(e){this.httpRequest=e}view(e,t){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:t},body:e,mediaType:"application/json"})}},rb=class{constructor(e,t=Ww){var r,n,i,s;this.request=new t({BASE:null!=(r=null==e?void 0:e.BASE)?r:"/v1",VERSION:null!=(n=null==e?void 0:e.VERSION)?n:"1.2.0",WITH_CREDENTIALS:null!=(i=null==e?void 0:e.WITH_CREDENTIALS)&&i,CREDENTIALS:null!=(s=null==e?void 0:e.CREDENTIALS)?s:"include",TOKEN:null==e?void 0:e.TOKEN,USERNAME:null==e?void 0:e.USERNAME,PASSWORD:null==e?void 0:e.PASSWORD,HEADERS:null==e?void 0:e.HEADERS,ENCODE_PATH:null==e?void 0:e.ENCODE_PATH}),this.accounts=new Jw(this.request),this.blocks=new Xw(this.request),this.events=new Zw(this.request),this.general=new Yw(this.request),this.tables=new Qw(this.request),this.transactions=new eb(this.request),this.view=new tb(this.request)}},nb={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},ib=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(ib||{}),sb=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(sb||{}),ob=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(ob||{}),ab={description:"Account data\n\n    A simplified version of the onchain Account resource",properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},ub={type:"one-of",description:"Account signature scheme\n\n    The account signature scheme allows you to have two types of accounts:\n\n    1. A single Ed25519 key account, one private key\n    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.",contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},cb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},lb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},hb={type:"string",description:"A hex encoded 32 byte Aptos account address.\n\n    This is represented in a string as a 64 character hex string, sometimes\n    shortened by stripping leading 0s, and adding a 0x.\n\n    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.\n    ",format:"hex"},fb={description:"This is the generic struct we use for all API errors, it contains a string\n    message and an Aptos API specific error code.",properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},db={type:"Enum"},pb={description:"A Block with or without transactions\n\n    This contains the information about a transactions along with\n    associated transactions if requested",properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},yb={description:"A block metadata transaction\n\n    This signifies the beginning of a block, and contains information\n    about the specific block",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},gb={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},mb={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},wb={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},bb={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},vb={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},Eb={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},_b={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},Sb={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},Ab={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},xb={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Tb={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},kb={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},Rb={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},Pb={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},Cb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},Mb={description:"The genesis transaction\n\n    This only occurs at the genesis transaction (version 0)",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Ob={type:"string"},Ub={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},Ib={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},Bb={type:"string"},Nb={description:'The struct holding all data returned to the client by the\n    index endpoint (i.e., GET "/").  Only for responding in JSON',properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:"Git hash of the build of the API endpoint.  Can be used to determine the exact\n            software version used by the API endpoint."}}},Lb={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},Db={type:"string"},qb={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},Fb={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Hb={type:"Enum"},jb={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},zb={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},Kb={type:"string",description:"Move module id is a string representation of Move module.\n\n    Format: `{address}::{module name}`\n\n    `address` should be hex-encoded 32 byte account address that is prefixed with `0x`.\n\n    Module name is case-sensitive.\n    "},$b={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},Gb={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},Vb={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},Wb={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},Jb={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Xb={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},Zb={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},Yb={type:"string",description:"String representation of an on-chain Move type tag that is exposed in transaction payload.\n    Values:\n    - bool\n    - u8\n    - u16\n    - u32\n    - u64\n    - u128\n    - u256\n    - address\n    - signer\n    - vector: `vector<{non-reference MoveTypeId}>`\n    - struct: `{address}::{module_name}::{struct_name}::<{generic types}>`\n\n    Vector type value examples:\n    - `vector<u8>`\n    - `vector<vector<u64>>`\n    - `vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>`\n\n    Struct type value examples:\n    - `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>\n    - `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n    ",pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},Qb={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},ev={description:"Multi agent signature for multi agent transactions\n\n    This allows you to have transactions across multiple accounts",properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},tv={description:"A Ed25519 multi-sig signature\n\n    This allows k-of-n signing for a transaction",properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},rv={description:"A multisig transaction that allows an owner of a multisig account to execute a pre-approved\n    transaction as the multisig account.",properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},nv={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},iv={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},sv={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},ov={type:"Enum"},av={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},uv={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},cv={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},lv={type:"string",description:"Representation of a StateKey as a hex string. This is used for cursor based pagination.\n    "},hv={description:"A request to submit a transaction\n\n    This requires a transaction and a signature of it",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},fv={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},dv={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},pv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},yv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},gv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},mv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},wv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},bv={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},vv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},Ev={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},_v={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Sv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},Av={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},xv={description:"Batch transaction submission result\n\n    Tells which transactions failed",properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},Tv={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},kv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Rv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},Pv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Cv={type:"string",description:"A string containing a 128-bit unsigned integer.\n\n    We represent u128 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u128s in JSON natively.\n    ",format:"uint128"},Mv={type:"string",description:"A string containing a 256-bit unsigned integer.\n\n    We represent u256 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u256s in JSON natively.\n    ",format:"uint256"},Ov={type:"string",description:"A string containing a 64-bit unsigned integer.\n\n    We represent u64 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u64s in JSON natively.\n    ",format:"uint64"},Uv={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Iv={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Bv={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Nv={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},Lv={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},Dv={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},qv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},Fv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},Hv={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},jv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},zv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},Kv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},$v={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},Gv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},Vv={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},Wv={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},Jv={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function Xv(e,t,r){if(!(null==t?void 0:t.includes(typeof e)))throw new Error(r||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function Zv(e){if(Xv(e,["boolean","string"]),"boolean"==typeof e)return e;if("true"===e)return!0;if("false"===e)return!1;throw new Error("Invalid boolean string.")}function Yv(e){if(Xv(e,["number","string"]),"number"==typeof e)return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function Qv(e){return Xv(e,["number","bigint","string"]),BigInt(e)}function eE(e,t,r){if(t instanceof Pm)r.serializeBool(Zv(e));else if(t instanceof Cm)r.serializeU8(Yv(e));else if(t instanceof Mm)r.serializeU16(Yv(e));else if(t instanceof Om)r.serializeU32(Yv(e));else if(t instanceof Um)r.serializeU64(Qv(e));else if(t instanceof Im)r.serializeU128(Qv(e));else if(t instanceof Bm)r.serializeU256(Qv(e));else{if(!(t instanceof Nm)){if(t instanceof Dm){if(t.value instanceof Cm){if(e instanceof Uint8Array)return void r.serializeBytes(e);if("string"==typeof e)return void r.serializeStr(e)}if(!Array.isArray(e))throw new Error("Invalid vector args.");return r.serializeU32AsUleb128(e.length),void e.forEach((e=>eE(e,t.value,r)))}if(t instanceof qm){const{address:n,module_name:i,name:s}=t.value;if("0x1::string::String"!=`${Fg.fromUint8Array(n.address).toShortString()}::${i.value}::${s.value}`)throw new Error("The only supported struct arg is of type 0x1::string::String");return Xv(e,["string"]),void r.serializeStr(e)}throw new Error("Unsupported arg type.")}{let t;if("string"==typeof e||e instanceof Fg)t=fm.fromHex(e);else{if(!(e instanceof fm))throw new Error("Invalid account address.");t=e}t.serialize(r)}}}var tE,rE,nE=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,r)}static getSigningMessage(e){const t=fg.create();if(e instanceof Wm)t.update("APTOS::RawTransaction");else{if(!(e instanceof sw))throw new Error("Unknown transaction type.");t.update("APTOS::RawTransactionWithData")}const r=t.digest(),n=tm(e),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i}},iE=class extends nE{constructor(e,t,r){super(e,r),this.publicKey=t}rawToSigned(e){const t=nE.getSigningMessage(e),r=this.signingFunction(t),n=new Em(new pm(this.publicKey),r);return new nw(e,n)}sign(e){return tm(this.rawToSigned(e))}},sE=class extends nE{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=nE.getSigningMessage(e),r=this.signingFunction(t),n=new _m(this.publicKey,r);return new nw(e,n)}sign(e){return tm(this.rawToSigned(e))}},oE=class{constructor(e,t){this.abiMap=new Map,e.forEach((e=>{const t=new Zg(e),r=xw.deserialize(t);let n;if(r instanceof kw){const e=r,{address:t,name:i}=e.module_name;n=`${Fg.fromUint8Array(t.address).toShortString()}::${i.value}::${e.name}`}else{n=r.name}if(this.abiMap.has(n))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(n,r)})),this.builderConfig={maxGasAmount:BigInt(Bg),expSecFromNow:20,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map(((t,r)=>{const n=new Jg;return eE(t,e[r].type_tag,n),n.getBytes()}))}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map(((t,r)=>function(e,t){if(t instanceof Pm)return new vw(Zv(e));if(t instanceof Cm)return new fw(Yv(e));if(t instanceof Mm)return new dw(Yv(e));if(t instanceof Om)return new pw(Yv(e));if(t instanceof Um)return new yw(Qv(e));if(t instanceof Im)return new gw(Qv(e));if(t instanceof Bm)return new mw(Qv(e));if(t instanceof Nm){let t;if("string"==typeof e||e instanceof Fg)t=fm.fromHex(e);else{if(!(e instanceof fm))throw new Error("Invalid account address.");t=e}return new ww(t)}if(t instanceof Dm&&t.value instanceof Cm){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new bw(e)}throw new Error("Unknown type for TransactionArgument.")}(t,e[r].type_tag)))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,t,r){const n=t.map((e=>new Gm(e).parseTypeTag()));let i;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const s=this.abiMap.get(e);if(s instanceof kw){const e=s,t=oE.toBCSArgs(e.args,r);i=new uw(new Xm(e.module_name,new km(e.name),n,t))}else{if(!(s instanceof Tw))throw new Error("Unknown ABI format.");{const e=s,t=oE.toTransactionArguments(e.args,r);i=new aw(new Jm(e.code,n,t))}}return i}build(e,t,r){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:u}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const c=n instanceof fm?n:fm.fromHex(n),l=BigInt(Math.floor(Date.now()/1e3)+Number(a)),h=this.buildTransactionPayload(e,t,r);if(h)return new Wm(c,BigInt(i),h,BigInt(o),BigInt(s),l,new lw(Number(u)));throw new Error("Invalid ABI.")}},aE=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const t=(await this.aptosClient.getAccountModules(e)).map((e=>e.abi)).flatMap((e=>e.exposed_functions.filter((e=>e.is_entry)).map((t=>({fullName:`${e.address}::${e.name}::${t.name}`,...t}))))),r=new Map;return t.forEach((e=>{r.set(e.fullName,e)})),r}async build(e,t,r){if(3!==(e=e.replace(/^0[xX]0*/g,"0x")).split("::").length)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[n,i]=e.split("::"),s=await this.fetchABI(n);if(!s.has(e))throw new Error(`${e} doesn't exist.`);const o=s.get(e),a=o.params.filter((e=>"signer"!==e&&"&signer"!==e)).map(((e,r)=>new Aw(`var${r}`,new Gm(e,t).parseTypeTag()))),u=new kw(o.name,ew.fromStr(`${n}::${i}`),"",o.generic_type_params.map(((e,t)=>new Sw(`${t}`))),a),{sender:c,...l}=this.builderConfig,h=c instanceof fm?Fg.fromUint8Array(c.address):c,[{sequence_number:f},d,{gas_estimate:p}]=await Promise.all([(null==l?void 0:l.sequenceNumber)?Promise.resolve({sequence_number:null==l?void 0:l.sequenceNumber}):this.aptosClient.getAccount(h),(null==l?void 0:l.chainId)?Promise.resolve(null==l?void 0:l.chainId):this.aptosClient.getChainId(),(null==l?void 0:l.gasUnitPrice)?Promise.resolve({gas_estimate:null==l?void 0:l.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new oE([tm(u)],{sender:c,sequenceNumber:f,chainId:d,gasUnitPrice:BigInt(p),...l}).build(e,t,r)}};Cg([(tE=6e5,Lg({ttlMs:tE,hashFunction:rE}))],aE.prototype,"fetchABI",1);var uE=class{constructor(e,t,r=!1){if(!e)throw new Error("Node URL cannot be empty.");const n=null==t?{}:{...t};this.nodeUrl=r?e:function(e){let t=`${e}`;return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith("/v1")||(t=`${t}/v1`),t}(e),n.BASE=this.nodeUrl,!1===(null==t?void 0:t.WITH_CREDENTIALS)?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new rb(n)}async getAccount(e){return this.client.accounts.getAccount(Fg.ensure(e).hex())}async getAccountTransactions(e,t){var r;return this.client.transactions.getAccountTransactions(Fg.ensure(e).hex(),null==(r=null==t?void 0:t.start)?void 0:r.toString(),null==t?void 0:t.limit)}async getAccountModules(e,t){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await Hg(r,e,1e3,t)}async getAccountModule(e,t,r){var n;return this.client.accounts.getAccountModule(Fg.ensure(e).hex(),t,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}async getAccountResources(e,t){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await Hg(r,e,9999,t)}async getAccountResource(e,t,r){var n;return this.client.accounts.getAccountResource(Fg.ensure(e).hex(),t,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}static generateBCSTransaction(e,t){return new iE((t=>{const r=e.signBuffer(t);return new Kg.Ed25519Signature(r.toUint8Array())}),e.pubKey().toUint8Array()).sign(t)}static generateBCSSimulation(e,t){return new iE((e=>{const t=new Uint8Array(64);return new Kg.Ed25519Signature(t)}),e.pubKey().toUint8Array()).sign(t)}async generateTransaction(e,t,r){const n={sender:e};if((null==r?void 0:r.sequence_number)&&(n.sequenceNumber=r.sequence_number),(null==r?void 0:r.gas_unit_price)&&(n.gasUnitPrice=r.gas_unit_price),(null==r?void 0:r.max_gas_amount)&&(n.maxGasAmount=r.max_gas_amount),null==r?void 0:r.expiration_timestamp_secs){const e=Number.parseInt(r.expiration_timestamp_secs,10);n.expSecFromNow=e-Math.floor(Date.now()/1e3)}return new aE(this,n).build(t.function,t.type_arguments,t.arguments)}async signTransaction(e,t){return Promise.resolve(uE.generateBCSTransaction(e,t))}async getEventsByCreationNumber(e,t,r){var n;return this.client.events.getEventsByCreationNumber(Fg.ensure(e).hex(),t.toString(),null==(n=null==r?void 0:r.start)?void 0:n.toString(),null==r?void 0:r.limit)}async getEventsByEventHandle(e,t,r,n){var i;return this.client.events.getEventsByEventHandle(Fg.ensure(e).hex(),t,r,null==(i=null==n?void 0:n.start)?void 0:i.toString(),null==n?void 0:n.limit)}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,t,r){let n;if(e instanceof Ow)n=uE.generateBCSSimulation(e,t);else if(e instanceof mm){n=new sE((()=>{const{threshold:t}=e,r=[],n=[];for(let e=0;e<t;e+=1)r.push(e),n.push(new Kg.Ed25519Signature(new Uint8Array(64)));const i=Kg.MultiEd25519Signature.createBitmap(r);return new Kg.MultiEd25519Signature(n,i)}),e).sign(t)}else{n=new iE((()=>{const e=new Uint8Array(64);return new Kg.Ed25519Signature(e)}),e.toBytes()).sign(t)}return this.submitBCSSimulation(n,r)}async submitSignedBCSTransaction(e){return this.client.request.request({url:"/transactions",method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(e,t){var r,n,i;const s={estimate_gas_unit_price:null!=(r=null==t?void 0:t.estimateGasUnitPrice)&&r,estimate_max_gas_amount:null!=(n=null==t?void 0:t.estimateMaxGasAmount)&&n,estimate_prioritized_gas_unit_price:null!=(i=null==t?void 0:t.estimatePrioritizedGasUnitPrice)&&i};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(e){var t;return this.client.transactions.getTransactions(null==(t=null==e?void 0:e.start)?void 0:t.toString(),null==e?void 0:e.limit)}async getTransactionByHash(e){return this.client.transactions.getTransactionByHash(e)}async getTransactionByVersion(e){return this.client.transactions.getTransactionByVersion(e.toString())}async transactionPending(e){try{return"pending_transaction"===(await this.client.transactions.getTransactionByHash(e)).type}catch(e){if(404===(null==e?void 0:e.status))return!0;throw e}}async waitForTransactionWithResult(e,t){var r,n;const i=null!=(r=null==t?void 0:t.timeoutSecs)?r:20,s=null!=(n=null==t?void 0:t.checkSuccess)&&n;let o,a=!0,u=0;for(;a&&!(u>=i);){try{if(o=await this.client.transactions.getTransactionByHash(e),a="pending_transaction"===o.type,!a)break}catch(e){const t=e instanceof Bw,r=t&&404!==e.status&&e.status>=400&&e.status<500;if(!t||r)throw e}await Ig(1e3),u+=1}if(void 0===o)throw new Error(`Waiting for transaction ${e} failed`);if(a)throw new hE(`Waiting for transaction ${e} timed out after ${i} seconds`,o);if(!s)return o;if(!(null==o?void 0:o.success))throw new fE(`Transaction ${e} committed to the blockchain but execution failed`,o);return o}async waitForTransaction(e,t){await this.waitForTransactionWithResult(e,t)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,t,r){var n;return await this.client.tables.getTableItem(e,t,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}async generateRawTransaction(e,t,r){const[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([this.getAccount(e),this.getChainId(),(null==r?void 0:r.gasUnitPrice)?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:a,expireTimestamp:u}={maxGasAmount:BigInt(Bg),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+20),...r};return new Kg.RawTransaction(Kg.AccountAddress.fromHex(e),BigInt(n),t,o,a,u,new Kg.ChainId(i))}async generateSignSubmitTransaction(e,t,r){const n=await this.generateRawTransaction(e.address(),t,r),i=uE.generateBCSTransaction(e,n);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(e,t,r,n){const i=new Jg;Yg(r,i);const s=new Kg.TransactionPayloadEntryFunction(Kg.EntryFunction.natural("0x1::code","publish_package_txn",[],[cm(t),i.getBytes()]));return this.generateSignSubmitTransaction(e,s,n)}async generateSignSubmitWaitForTransaction(e,t,r){const n=await this.generateSignSubmitTransaction(e,t,r);return this.waitForTransactionWithResult(n,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(e){const t=`0x1::coin::CoinStore<${Ng}>`,[{gas_estimate:r},n]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),i=n.find((e=>e.type===t));return BigInt(i.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(e,t,r){const{sequence_number:n,authentication_key:i}=await this.getAccount(e.address()),s=new Ow(t),o=new Kg.RotationProofChallenge(Kg.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),Kg.AccountAddress.fromHex(e.address()),new Kg.AccountAddress(new Fg(i).toUint8Array()),s.pubKey().toUint8Array()),a=Fg.fromUint8Array(tm(o)),u=e.signHexString(a),c=s.signHexString(a),l=new Kg.TransactionPayloadEntryFunction(Kg.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[nm(0),cm(e.pubKey().toUint8Array()),nm(0),cm(s.pubKey().toUint8Array()),cm(u.toUint8Array()),cm(c.toUint8Array())])),h=await this.generateRawTransaction(e.address(),l,r),f=uE.generateBCSTransaction(e,h);return this.submitSignedBCSTransaction(f)}async lookupOriginalAddress(e){const t=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=t.data,n=await this.getTableItem(r,{key_type:"address",value_type:"address",key:Fg.ensure(e).hex()});return new Fg(n)}async getBlockByHeight(e,t){return this.client.blocks.getBlockByHeight(e,t)}async getBlockByVersion(e,t){return this.client.blocks.getBlockByVersion(e,t)}async view(e,t){return this.client.view.view(e,t)}clearCache(e){!function(e){const t=new Set;for(const r of e){const e=Dg.get(r);if(e)for(const r of e)t.has(r)||(r.clear(),t.add(r))}t.size}(e)}},cE=uE;Cg([dE],cE.prototype,"getAccount",1),Cg([dE],cE.prototype,"getAccountTransactions",1),Cg([dE],cE.prototype,"getAccountModules",1),Cg([dE],cE.prototype,"getAccountModule",1),Cg([dE],cE.prototype,"getAccountResources",1),Cg([dE],cE.prototype,"getAccountResource",1),Cg([dE],cE.prototype,"getEventsByCreationNumber",1),Cg([dE],cE.prototype,"getEventsByEventHandle",1),Cg([dE],cE.prototype,"submitSignedBCSTransaction",1),Cg([dE],cE.prototype,"submitBCSSimulation",1),Cg([dE],cE.prototype,"getTransactions",1),Cg([dE],cE.prototype,"getTransactionByHash",1),Cg([dE],cE.prototype,"getTransactionByVersion",1),Cg([dE],cE.prototype,"getLedgerInfo",1),Cg([Lg()],cE.prototype,"getChainId",1),Cg([dE],cE.prototype,"getTableItem",1),Cg([dE,Lg({ttlMs:3e5,tags:["gas_estimates"]})],cE.prototype,"estimateGasPrice",1),Cg([dE],cE.prototype,"estimateMaxGasAmount",1),Cg([dE],cE.prototype,"getBlockByHeight",1),Cg([dE],cE.prototype,"getBlockByVersion",1),Cg([dE],cE.prototype,"view",1);var lE=class extends Error{constructor(e,t,r,n){super(t),this.status=e,this.message=t,this.errorCode=r,this.vmErrorCode=n}},hE=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},fE=class extends Error{constructor(e,t){super(e),this.transaction=t}};function dE(e,t,r){const n=r.value;return r.value=async function(...e){var t,r;try{return await n.apply(this,[...e])}catch(e){if(e instanceof Bw)throw new lE(e.status,JSON.stringify({message:e.message,...e.body}),null==(t=e.body)?void 0:t.error_code,null==(r=e.body)?void 0:r.vm_error_code);throw e}},r}var pE=class{constructor(e,t,r=!1){let n=null,i=null;if("object"==typeof e&&function(e){return void 0!==e.fullnodeUrl&&"string"==typeof e.fullnodeUrl&&void 0!==e.indexerUrl&&"string"==typeof e.indexerUrl}(e)?(n=e.fullnodeUrl,i=e.indexerUrl,this.network="CUSTOM"):(n=zg[e],i=jg[e],this.network=e),!n||!i)throw new Error("network is not provided");this.aptosClient=new cE(n,t,r),this.indexerClient=new Uw(i)}};function yE(e,t,r){Object.getOwnPropertyNames(t.prototype).forEach((n=>{const i=Object.getOwnPropertyDescriptor(t.prototype,n);i&&(i.value=function(...e){return this[r][n](...e)},Object.defineProperty(e.prototype,n,i))}))}yE(pE,cE,"aptosClient"),yE(pE,Uw,"indexerClient");var gE=class{constructor(e,t){this.type=e,this.value=t}},mE=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function wE(e){let t;return t="string"===e||"String"===e?new qm(Hm):new Gm(e).parseTypeTag(),t}function bE(e){const t=e.map.data,r=new mE;return t.forEach((e=>{const{key:t}=e,n=e.value.value,i=e.value.type,s=function(e,t){const r=new Zg(new Fg(t).toUint8Array());let n="";n=e instanceof Cm?r.deserializeU8().toString():e instanceof Um?r.deserializeU64().toString():e instanceof Im?r.deserializeU128().toString():e instanceof Pm?r.deserializeBool()?"true":"false":e instanceof Nm?Fg.fromUint8Array(r.deserializeFixedBytes(32)).hex():e instanceof qm&&e.isStringTypeTag()?r.deserializeStr():t;return n}(wE(i),n),o=new gE(i,s);r.setProperty(t,o)})),r}Pg({},{PropertyMap:()=>mE,PropertyValue:()=>gE,Token:()=>EE,TokenData:()=>vE});var vE=class{constructor(e,t,r,n,i,s,o,a){this.collection=e,this.description=t,this.name=r,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=bE(o),this.mutability_config=a}},EE=class{constructor(e,t,r){this.id=e,this.amount=t,this.token_properties=bE(r)}},_E=r(48764).Buffer;class SE extends Qd{signerInstance;_publicKey;constructor(e){super(e),this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??=new cE(this.providerUrl)}async getTx(e){const t=await this.getProvider(),r=await t.waitForTransactionWithResult(e,{timeoutSecs:1,checkSuccess:!0}),n=r?.payload;if(!r.success)throw new Error(r?.vm_status??"Unknown Aptos error");if("0x1::coin::transfer"!==n?.function||"0x1::aptos_coin::AptosCoin"!==n?.type_arguments[0]||"Executed successfully"!==r?.vm_status)throw new Error(`Aptos tx ${e} failed validation`);const i="pending_transaction"===r.type;return{to:n.arguments[0],from:r.sender,amount:new or.Z(n.arguments[1]),pending:i,confirmed:!i}}ownerToAddress(e){const t=hc.sha3_256.create();return t.update(_E.from(e)),t.update("\0"),`0x${t.hex()}`}async sign(e){return await this.getSigner().sign(e)}getSigner(){return this.signerInstance??=new od(this.wallet,this._publicKey)}async verify(e,t,r){return await od.verify(e,t,r)}async getCurrentHeight(){return new or.Z((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(e,t){const r=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const n=new aE(r,{sender:this.address}),i=await n.build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[t??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new or.Z(e).toNumber()]),s=new iE((e=>{const t=new Uint8Array(64);return new Kg.Ed25519Signature(t)}),await this.getPublicKey()).sign(i),o=await r.client.request.request({url:"/transactions/simulate",query:{estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},method:"POST",body:s,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+o[0].gas_unit_price,maxGasAmount:+o[0].max_gas_amount}}async sendTx(e){return(await this.wallet.signAndSubmitTransaction(e)).hash}async createTx(e,t,r){return{txId:void 0,tx:{arguments:[t,new or.Z(e).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??=_E.from((await this.wallet.account()).publicKey.toString().slice(2),"hex")}async ready(){this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const e=await this.getProvider();this._address=await e.lookupOriginalAddress(this.address??"").then((e=>e.toString())).catch((e=>this._address)),66==this._address?.length&&"0"===this._address.charAt(2)&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class AE extends rp{}class xE extends rp{async createTx(e,t,r){const n=this.w3signer,i={to:t,from:this.address,value:e.toString(),gasLimit:BigInt(0)},s=await this.provider.estimateGas(i);i.gasLimit=s;return{tx:await n.populateTransaction(i),txId:void 0}}async getTx(e){const t=this.provider,r=await t.getTransaction(e);if(!r)throw new Error("Tx doesn't exist");if(!r.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:r.from,to:r.to,blockHeight:r.blockNumber?new or.Z(r.blockNumber):void 0,amount:new or.Z(r.value.toString()),pending:!r.blockNumber,confirmed:await r.confirmations()>=this.minConfirm}}async ready(){const e=this.wallet;this.provider=e;const t=await e.getSigner();t._signTypedData=async(e,r,n)=>t.signTypedData(e,r,n),e.getSigner=()=>t,this.wallet=e,await super.ready()}}function TE(e,t,r){if("ethereum"===e)switch(t){case"ethersv5":return new AE(r);case"ethersv6":return new xE(r);default:return new rp(r)}}class kE{irys;constructor(e){this.irys=e}async upload(e,t){return this.irys.uploadWithReceipt(e,t)}async uploadProof(e){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...e}).map((([e,t])=>({name:RE[e],value:t})))})}async getAllProofs(e,t){const r=Object.entries(e).map((([e,t])=>({name:RE[e],values:[t]})));if(0===r.length)throw new Error("Getting a provenance proof requires at least one query element");const n=[];let i=null;do{const e=await this.irys.api.post("/graphql",{query:"\n    query ($tags: [TagFilter!]) {\n      transactions(tags: $tags) {\n        edges {\n          node {\n            id\n            receipt {\n              deadlineHeight\n              signature\n              timestamp\n              version\n            }\n            tags {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n    ",variables:{tags:r,limit:t?.limit??null,after:i}},void 0);i=e.data.data.transactions?.pageInfo?.hasNextPage?e.data.data.transactions.pageInfo.endCursor:null,n.push(...e.data.data.transactions.edges.map((e=>e.node)))}while(i);return n}async getProof(e){const t=(await this.getAllProofs(e,{limit:1})).at(0);if(!t)throw new Error(`Unable to locate proof with fields ${JSON.stringify(e)}`);return t}}const RE={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class PE{irys;constructor(e){this.irys=e}async getById(e){const t=(await this.query({ids:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with id ${e}`);return t}async getByOwner(e){const t=(await this.query({owners:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with owner ${e}`);return t}async getByTag(e,t){const r=(await this.query({tags:[{name:e,values:[t]}],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with tag ${e}:${t}`);return r}async query(e){const t=[];let r=null;do{const n=await this.irys.api.post("/graphql",{query:"\n    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {\n      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {\n        edges {\n          cursor\n          node {\n            address\n            currency\n            id\n            receipt {\n              deadlineHeight\n              signature\n              timestamp\n              version\n            }\n            signature\n            tags {\n              name\n              value\n            }\n            timestamp\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n    ",variables:{...e,after:r??e.after}},void 0);r=n.data.data.transactions?.pageInfo?.hasNextPage?n.data.data.transactions.pageInfo.endCursor:null,t.push(...n.data.data.transactions.edges.map((e=>e.node)))}while(r);return t}}var CE=r(46146),ME=r(17187);const OE={notReadable:Symbol("not readable"),readable:Symbol("readable"),ended:Symbol("ended"),errored:Symbol("errored")};class UE{_stream;_error;_state=OE.notReadable;_size;_rejections=new Set;get closed(){return this._state===OE.ended}constructor(e,{size:t}={}){this._stream=e,this._size=t;const r=["_handleStreamEnd","_handleStreamError"];for(const e of r)Object.defineProperty(this,e,{configurable:!0,writable:!0,value:this[e].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",(()=>{this._state=OE.readable}))}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case OE.notReadable:{let e,t;try{e=this._untilReadable(),t=this._untilEnd(),await Promise.race([e.promise,t.promise])}finally{null!=e&&e.close(),null!=t&&t.close()}return this.next()}case OE.ended:return this.close(),{done:!0,value:void 0};case OE.errored:throw this.close(),this._error;case OE.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return null!==e?{done:!1,value:e}:(this._state=OE.notReadable,await new Promise((e=>setTimeout((e=>e(!0)),0,e))),this.next())}}}_untilReadable(){let e;const t=new Promise(((t,r)=>{e=()=>{this._state=OE.readable,this._rejections.delete(r),t()},this._state,this._stream.once("readable",e),this._rejections.add(r)}));return{close:()=>{null!=e&&this._stream.removeListener("readable",e)},promise:t}}_untilEnd(){let e;const t=new Promise(((t,r)=>{e=()=>{this._state=OE.ended,this._rejections.delete(r),t()},this._stream.once("end",e),this._rejections.add(r)}));return{close:()=>{null!=e&&this._stream.removeListener("end",e)},promise:t}}return(){return this._state=OE.ended,this.next()}throw(e){return this._error=e,this._state=OE.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=OE.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=OE.errored;for(const t of this._rejections)t(e)}_handleStreamEnd(){this._state=OE.ended}get state(){return this._state}}var IE=r(48764).Buffer;class BE extends ME.EventEmitter{tokenConfig;api;uploadID;token;chunkSize;batchSize;paused=!1;isResume=!1;uploadOptions;arbundles;constructor(e,t){super({captureRejections:!0}),this.tokenConfig=e,this.arbundles=this.tokenConfig.irys.arbundles,this.api=t,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(e){return e&&(this.uploadID=e,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(e){if(e<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=e,this}setBatchSize(e){if(e<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=e,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(e,t){return this.uploadOptions=t,this.arbundles.DataItem.isDataItem(e)?this.runUpload(e.getRaw()):this.runUpload(e)}async uploadData(e,t){return this.uploadOptions=t?.upload,this.runUpload(e,{...t})}async runUpload(e,t){let r=this.uploadID;const n=void 0===t,i={"x-chunking-version":"2"};let s;if(r){if(s=await this.api.get(`/chunks/${this.token}/${r}/-1`,{headers:i}),404===s.status)throw new Error("Upload ID not found - your upload has probably expired.");if(ur.checkAndThrow(s,"Getting upload info"),this.chunkSize!=+s.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+s.data.size}).`)}else s=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:i}),ur.checkAndThrow(s,"Getting upload token"),this.uploadID=r=s.data.id;const{max:o,min:a}=s.data;if(this.chunkSize<+a||this.chunkSize>+o)throw new Error(`Chunk size out of allowed range: ${a} - ${o}`);let u=0;const c=(e,t,n)=>new Promise((s=>{rr((async o=>{await this.api.post(`/chunks/${this.token}/${r}/${t}`,e,{headers:{"Content-Type":"application/octet-stream",...i},maxBodyLength:1/0,maxContentLength:1/0}).then((r=>{if(r?.status>=300){const i={res:r,id:n,offset:t,size:e.length};throw this.emit("chunkError",i),402===r?.status&&o(new Error("Not enough funds to send data")),i}this.emit("chunkUpload",{id:n,offset:t,size:e.length,totalUploaded:u+=e.length}),s({o:t,d:r})}))}))})),l=s.data.chunks??[],h=new Oi.PassThrough;let f=IE.alloc(0),d=!1,p=!0;h.on("end",(()=>d=!0)),h.on("error",(e=>{throw new Error(`Error processing readable: ${e}`)}));const y=async e=>{for(;!d;){if(f.length>=e)return t=IE.from(f.slice(0,e)),f=f.slice(e),t;var t=h.read(e);if(null!==t){if(t.length===e)return t;f=IE.concat([f,t])}else await new Promise((e=>setTimeout((e=>e(!0)),0,e)))}for(;f.length>=e;)return t=IE.from(f.slice(0,e)),f=f.slice(e),t;return p=!1,f};let g,m;if(!n){g=this.arbundles.createData("",this.tokenConfig.getSigner(),{...t,anchor:t?.anchor??nr.randomBytes(32).toString("base64").slice(0,32)});const e=g.getRaw();m=e.length,h.write(e),u-=e.length}if(IE.isBuffer(e))h.write(e),h.end();else{if(!("pipe"in e))throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");e.pipe(h)}let w=0;const b=new Set;let v,E,_,S=0;if(!n){E=new Oi.PassThrough;const e=g.getRaw().length;if(this.chunkSize<m)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${m})`);v=await y(this.chunkSize),S++,w+=v.length,E.write(v.slice(e));const t=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(g.signatureType.toString()),g.rawOwner,g.rawTarget,g.rawAnchor,g.rawTags,new UE(E)];_=this.arbundles.deepHash(t)}let A=l.pop();for(;p;){if(this.paused&&await new Promise((e=>this.on("resume",(()=>e(void 0))))),A){if(+A[0]-w<=this.chunkSize){const e=A[1],t=await y(e);n||E.write(t),w+=e,A=l.pop(),S++,u+=e;continue}}const e=await y(this.chunkSize);for(n||E.write(e);b.size>=this.batchSize;){const[e]=await Promise.race(b);b.delete(e)}const t=(async()=>await c(e,w,++S))().then((e=>[t,e]));b.add(t),w+=e.length}if(E&&E.end(),await Promise.all(b),!n){const e=await _,t=IE.from(await this.tokenConfig.getSigner().sign(e));v.set(t,2),await c(v,0,0)}const x=await this.api.post(`/chunks/${this.token}/${r}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...i},timeout:this.api.config?.timeout??4e5});if(402===x.status)throw new Error("Not enough funds to send data");if(ur.checkAndThrow(x,"Finalising upload",[201]),201===x.status)throw new Error(x.data);return x.data.verify=ur.verifyReceipt.bind({},this.arbundles,x.data.data),this.emit("done",x),x}get completionPromise(){return new Promise((e=>this.on("done",e)))}}var NE=r(48764).Buffer;const LE=5e7;class DE{api;token;tokenConfig;utils;contentTypeOverride;forceUseChunking;arbundles;irysTransaction;constructor(e,t,r,n,i){this.api=e,this.token=r,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=t,this.irysTransaction=i}async uploadTransaction(e,t){let r;const n=this.arbundles.DataItem.isDataItem(e);if(this.forceUseChunking||n&&e.getRaw().length>=LE||!n)r=await this.chunkedUploader.uploadTransaction(n?e.getRaw():e,t);else{const{url:t,timeout:n,headers:i}=this.api.getConfig(),s={"Content-Type":"application/octet-stream",...i};if(r=await this.api.post(new URL(`/tx/${this.token}`,t).toString(),e.getRaw(),{headers:s,timeout:n,maxBodyLength:1/0}),201===r.status)throw new Error(r.data)}if(402===r.status)throw new Error("Not enough funds to send data");if(r.status>=400)throw new Error(`whilst uploading Irys transaction: ${r.status} ${r.statusText}`);return r.data.verify=async()=>this.utils.verifyReceipt(r.data),r}async uploadData(e,t){if("string"==typeof e&&(e=NE.from(e)),NE.isBuffer(e)&&e.length<=LE){const r=this.arbundles.createData(e,this.tokenConfig.getSigner(),{...t,anchor:t?.anchor??(0,nr.randomBytes)(32).toString("base64").slice(0,32)});return await r.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(r,{...t?.upload})).data}return(await this.chunkedUploader.uploadData(e,t)).data}async concurrentUploader(e,t){const r=[],n=t?.logFunction?t?.logFunction:async e=>{},i=t?.concurrency??5,s=await CE.PromisePool.for(e).withConcurrency(i>=1?i:5).handleError((async(e,t)=>{if(r.push(e),"Not enough funds to send data"===e.message)throw e})).process((async(e,r,s)=>{await rr((async s=>{try{const s=await this.processItem(e,t?.itemOptions);return r%i==0&&await n(`Processed ${r} Items`),t?.resultProcessor?await t.resultProcessor({item:e,res:s,i:r}):{item:e,res:s,i:r}}catch(e){throw"Not enough funds to send data"===e?.message&&s(e),e}}),{retries:3,minTimeout:1e3,maxTimeout:1e4})}));return{errors:r,results:s.results}}async processItem(e,t){return this.arbundles.DataItem.isDataItem(e)?this.uploadTransaction(e,{...t?.upload}):this.uploadData(e,t)}async generateManifest(e){const{items:t,indexFile:r}=e,n={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(r){if(!t.has(r))throw new Error(`Unable to access item: ${r}`);n.index={path:r}}for(const[e,r]of t.entries())n.paths[e]={id:r};return n}get chunkedUploader(){return new BE(this.tokenConfig,this.api)}set useChunking(e){"boolean"==typeof e&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}async uploadBundle(e,t){const r=t?.throwawayKey??await this.arbundles.getCryptoDriver().generateJWK(),n=new uc(r),i=e.map((e=>this.arbundles.DataItem.isDataItem(e)?e:this.arbundles.createData(e,n))),s=await this.arbundles.bundleAndSignData(i,n),o=this.arbundles.createData(s.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});await o.sign(this.tokenConfig.getSigner());return{...await this.uploadTransaction(o,t),txs:i,throwawayKey:r,throwawayKeyAddress:sr(NE.from(await this.arbundles.getCryptoDriver().hash(sr.toBuffer(sr(n.publicKey)))))}}}var qE=r(48764).Buffer;class FE extends DE{irys;constructor(e){super(e.api,e.utils,e.token,e.tokenConfig,e.IrysTransaction),this.irys=e}async uploadFile(e,t){const r=!!t?.tags&&t.tags.some((({name:e})=>"content-type"===e.toLowerCase()))?t?.tags:[...t?.tags??[],{name:"Content-Type",value:e.type}];return this.uploadData(qE.from(await e.arrayBuffer()),{tags:r,...t})}async uploadFolder(e,t){const r=[],n=new Map,i=t?.throwawayKey??await this.irys.arbundles.getCryptoDriver().generateJWK(),s=new uc(i);for(const t of e){const e=t.webkitRelativePath?t.webkitRelativePath:t.name,i=!!t.tags&&t.tags.some((({name:e})=>"content-type"===e.toLowerCase()))?t.tags:[...t.tags??[],{name:"Content-Type",value:t.type}],o=this.irys.arbundles.createData(qE.from(await t.arrayBuffer()),s,{tags:i});await o.sign(s),r.push(o),n.set(e,o.id)}const o=await this.generateManifest({items:n,indexFile:t?.indexFileRelPath}),a=this.irys.arbundles.createData(JSON.stringify(o),t?.seperateManifestTx?this.irys.tokenConfig.getSigner():s,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...t?.manifestTags??[]]});!0===t?.seperateManifestTx?(await a.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(a,{...t})):(await a.sign(s),r.push(a));const u=await this.uploadBundle(r,{...t});return{...u.data,manifestId:a.id,manifest:o,throwawayKey:u.throwawayKey,throwawayKeyAddress:u.throwawayKeyAddress,txs:u.txs}}}var HE=class extends Di{tokenConfig;uploader;uploadFolder;uploadFile;constructor({url:e,token:t,wallet:r,config:n}){switch(e){case void 0:case"node1":e="https://node1.irys.xyz";break;case"node2":e="https://node2.irys.xyz";break;case"devnet":e="https://devnet.irys.xyz"}const i=new URL(e);if(super({url:i,arbundles:c}),this.api=new qi({url:i,timeout:n?.timeout??1e5,headers:n?.headers}),this.tokenConfig=function(e){switch(e.token){case"ethereum":return TE("ethereum",e.providerName,{irys:e.irys,name:"ethereum",ticker:"ETH",providerUrl:e.providerUrl??"https://cloudflare-eth.com/",wallet:e.wallet});case"matic":return TE("ethereum",e.providerName,{irys:e.irys,name:"matic",ticker:"MATIC",providerUrl:e.providerUrl??"https://polygon-rpc.com",wallet:e.wallet,minConfirm:1});case"arbitrum":return TE("ethereum",e.providerName,{irys:e.irys,name:"arbitrum",ticker:"ETH",providerUrl:e.providerUrl??"https://arb1.arbitrum.io/rpc",wallet:e.wallet});case"bnb":return TE("ethereum",e.providerName,{irys:e.irys,name:"bnb",ticker:"BNB",providerUrl:e.providerUrl??"https://bsc-dataseed.binance.org",wallet:e.wallet});case"avalanche":return TE("ethereum",e.providerName,{irys:e.irys,name:"avalanche",ticker:"AVAX",providerUrl:e.providerUrl??"https://api.avax.network/ext/bc/C/rpc",wallet:e.wallet});case"boba-eth":return TE("ethereum",e.providerName,{irys:e.irys,name:"boba-eth",ticker:"ETH",providerUrl:e.providerUrl??"https://mainnet.boba.network/",minConfirm:1,wallet:e.wallet});case"boba":{const t=new Uy({irys:e.irys,name:"boba",ticker:"BOBA",providerUrl:e.providerUrl??"https://mainnet.boba.network/",contractAddress:e.contractAddress??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:e.wallet});return t.price=async()=>{const e=await tr.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${t.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await ur.checkAndThrow(e,"Getting price data"),!e?.data?.rate)throw new Error(`unable to get price for ${t.name}`);return+e.data.rate},t}case"solana":return new dp({irys:e.irys,name:"solana",ticker:"SOL",providerUrl:e.providerUrl??"https://api.mainnet-beta.solana.com/",wallet:e.wallet});case"near":return new lp({irys:e.irys,name:"near",ticker:"NEAR",providerUrl:e.providerUrl??"https://rpc.mainnet.near.org",wallet:e.wallet});case"aptos":return new SE({irys:e.irys,name:"aptos",ticker:"APTOS",providerUrl:e.providerUrl??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:e.wallet});default:throw new Error(`Unknown/Unsupported token ${e.token}`)}}({irys:this,token:t.toLowerCase(),wallet:r?.provider,providerUrl:n?.providerUrl??r?.rpcUrl,contractAddress:n?.contractAddress,providerName:r?.name}),this.token=this.tokenConfig.name,"devnet.irys.network"===i.host&&!(n?.providerUrl??(r?.rpcUrl||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${i.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new ur(this.api,this.token,this.tokenConfig),this.uploader=new FE(this),this.funder=new Fi(this.utils),this.uploader=new FE(this),this.provenance=new kE(this),this.transactions=new PE(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}}}]);