"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[803],{35310:function(e,n,s){s.r(n);var t=s(15009),r=s.n(t),o=s(99289),a=s.n(o),c=s(52677),i=s.n(c),l=s(5574),u=s.n(l),m=s(29945),d=s(39380),f=s(38345),h=s(97269),p=s(90672),g=s(44718),b=s(67294),k=s(2453),C=s(25593),S=s(65233),v=s(37676),x=s(27484),j=s.n(x),M=s(88026),P=s(85893);n.default=function(){var e=k.ZP.useMessage(),n=u()(e,2),s=n[0],t=n[1],o=(0,g.R)().connection,c=(0,b.useState)(),l=u()(c,2),x=l[0],w=l[1],N=(0,b.useState)(""),R=u()(N,2),E=R[0],Z=R[1],O=(0,b.useState)(""),Q=u()(O,2),y=Q[0],z=Q[1],F=(0,b.useState)(!1),I=u()(F,2),q=I[0],H=I[1],D=(0,b.useState)([]),G=u()(D,2),T=G[0],K=G[1],L=(0,b.useState)({shouldReconnect:function(){return!0},onOpen:function(){return s.success(J)},onError:function(){s.error(W),H(!1)},onMessage:function(e){var n=j()().format("HH:mm:ss.SSS");K((function(s){return s.unshift((0,P.jsx)(m.vY.Item,{label:n,children:e.data})),s}))}}),U=u()(L,1)[0],X=(0,v.ZP)(y,U,q),Y=X.sendMessage,_=X.readyState,A=(0,b.useRef)(),B=(0,M.useIntl)(),J=B.formatMessage({id:"common.intlConnectSuccess"}),W=B.formatMessage({id:"common.intlConnectFail"}),V=B.formatMessage({id:"common.intlDisconnectFirst"}),$=B.formatMessage({id:"common.intlSendSuccess"}),ee=B.formatMessage({id:"common.intlConnect"}),ne=B.formatMessage({id:"common.intlDisconnect"}),se=B.formatMessage({id:"common.intlSend"}),te=B.formatMessage({id:"common.intlRequest"}),re=B.formatMessage({id:"common.intlResponse"}),oe=B.formatMessage({id:"common.intlInputException"}),ae=(0,b.useMemo)((function(){return _===v.kQ.CLOSING||_===v.kQ.CONNECTING}),[_]),ce=(0,b.useCallback)((function(){if(_===v.kQ.OPEN)H(!1);else{if(x)return s.error(oe),!1;z(E),H(!0)}}),[_,E,x]),ie=(0,b.useCallback)((function(e){/^(wss:\/\/|ws:\/\/).+/.test(e)?w(""):w("error")}),[]),le=(0,b.useCallback)((function(e){if(_!==v.kQ.OPEN){var n=e.target.value;ie(n),Z(n)}else s.info(V)}),[ie,_]),ue=(0,b.useCallback)((function(e,n){try{var s=JSON.parse(n);return"object"===i()(s)&&s?Promise.resolve(""):Promise.reject("error")}catch(e){return Promise.reject(e.message)}}),[]),me=(0,b.useCallback)((function(){var e;null===(e=A.current)||void 0===e||e.resetFields(),K([])}),[]),de=(0,b.useCallback)(function(){var e=a()(r()().mark((function e(n){var t;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.request,Y(t),s.success($),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return(0,b.useEffect)((function(){var e=o.rpcEndpoint.replace("https","wss");ie(e),Z(e)}),[o,ie]),(0,P.jsxs)(d._z,{className:"",ghost:!0,children:[(0,P.jsxs)(f.Z,{title:(0,P.jsxs)("div",{children:[(0,P.jsx)(C.Z.Title,{level:3,children:"Solana RPC Websocket Methods"}),(0,P.jsx)(C.Z.Link,{href:"https://solana.com/docs/rpc/websocket",target:"_blank",children:"https://solana.com/docs/rpc/websocket"})]}),children:[(0,P.jsx)(S.Z.Search,{className:"mb-[18px]",value:E,loading:ae,placeholder:"wss://api.devnet.solana.com",allowClear:!0,enterButton:_===v.kQ.OPEN?ne:ee,size:"large",status:x,onSearch:ce,onChange:le}),(0,P.jsx)(h.A,{className:"mb-[18px]",formRef:A,onFinish:de,onReset:me,disabled:!(_===v.kQ.OPEN),submitter:{searchConfig:{submitText:se},render:function(e,n){return[n[1],n[0]]}},children:(0,P.jsx)(p.Z,{name:"request",label:(0,P.jsx)("span",{className:"font-semibold",children:te}),placeholder:'{ \n  "jsonrpc": "2.0", "id": 1,\n  "method": "accountSubscribe",\n  "params": [\n    "CM78CPUeXjn8o3yroDHxUtKsZZgoy4GPkPPXfouKNH12",\n    { "encoding": "jsonParsed", "commitment": "finalized" }\n  ]\n}\n',fieldProps:{autoSize:{minRows:8,maxRows:8},autoFocus:!1,allowClear:!0,size:"large"},rules:[{required:!0,whitespace:!0,message:oe,validator:ue}]})}),(0,P.jsx)(m.vY,{column:1,title:re,children:T})]}),t]})}}}]);