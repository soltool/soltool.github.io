"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[168],{28778:function(e,t,r){r.r(t),r.d(t,{default:function(){return le}});var n=r(64599),a=r.n(n),s=r(19632),c=r.n(s),i=r(15009),o=r.n(i),u=r(99289),l=r.n(u),d=r(5574),f=r.n(d),p=r(87603),m=r(98165),h=r(25035),v=r(39380),x=r(38345),b=r(97269),j=r(64317),y=r(1413),g=r(91),k=r(67294),S=r(63053),P=r(85893),C=["fieldProps","min","proFieldProps","max"],w=function(e,t){var r=e.fieldProps,n=e.min,a=e.proFieldProps,s=e.max,c=(0,g.Z)(e,C);return(0,P.jsx)(S.Z,(0,y.Z)({valueType:"digit",fieldProps:(0,y.Z)({min:n,max:s},r),ref:t,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:a},c))},_=k.forwardRef(w),N=["fieldProps","proFieldProps","min","max","step","marks","vertical","range"],F=k.forwardRef((function(e,t){var r=e.fieldProps,n=e.proFieldProps,a=e.min,s=e.max,c=e.step,i=e.marks,o=e.vertical,u=e.range,l=(0,g.Z)(e,N);return(0,P.jsx)(S.Z,(0,y.Z)({valueType:"slider",fieldProps:(0,y.Z)((0,y.Z)({},r),{},{min:a,max:s,step:c,marks:i,vertical:o,range:u,style:null==r?void 0:r.style}),ref:t,proFieldProps:n,filedConfig:{ignoreWidth:!0}},l))})),T=r(5966),Z=r(91604),L=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],O=k.forwardRef((function(e,t){var r=e.fieldProps,n=e.unCheckedChildren,a=e.checkedChildren,s=e.proFieldProps,c=(0,g.Z)(e,L);return(0,P.jsx)(S.Z,(0,y.Z)({valueType:"switch",fieldProps:(0,y.Z)({unCheckedChildren:n,checkedChildren:a},r),ref:t,valuePropName:"checked",proFieldProps:s,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},c))})),R=r(66758),V=["fieldProps","proFieldProps"],M="dateTime",Y=k.forwardRef((function(e,t){var r=e.fieldProps,n=e.proFieldProps,a=(0,g.Z)(e,V),s=(0,k.useContext)(R.Z);return(0,P.jsx)(S.Z,(0,y.Z)({ref:t,fieldProps:(0,y.Z)({getPopupContainer:s.getPopupContainer},r),valueType:M,proFieldProps:n,filedConfig:{valueType:M,customLightMode:!0}},a))})),A=r(2453),E=r(7134),D=r(83062),I=r(83622),H=r(66309),q=r(88026),$=r(40956),z=r(70606),U=r(69988),B=r(27484),W=r.n(B),K=r(70178),G=r.n(K),J=r(64119),Q=r(54306),X=r(44718),ee=r(43651),te=r(30527),re=r(8257),ne=r(93233),ae=r(3567),se=r(70609),ce=r(9669),ie=r.n(ce),oe=r(48764).Buffer;W().extend(G());var ue=[],le=function(){var e=(0,q.useDispatch)(),t=A.ZP.useMessage(),r=f()(t,2),n=r[0],s=r[1],i=((0,q.useSelector)((function(e){return e.ppp.valueEnum})),(0,k.useState)([])),u=f()(i,2),d=u[0],y=u[1],g=(0,k.useState)(0),S=f()(g,2),C=S[0],w=S[1],N=(0,k.useState)(0),L=f()(N,2),R=(L[0],L[1],(0,k.useState)(0)),V=f()(R,2),M=V[0],B=V[1],K=(0,k.useState)(0),G=f()(K,2),ce=(G[0],G[1],(0,k.useState)(0)),le=f()(ce,2),de=le[0],fe=le[1],pe=(0,k.useState)(0),me=f()(pe,2),he=(me[0],me[1],(0,k.useState)(0)),ve=f()(he,2),xe=ve[0],be=ve[1],je=(0,k.useState)(0),ye=f()(je,2),ge=(ye[0],ye[1],(0,k.useState)(0)),ke=f()(ge,2),Se=ke[0],Pe=ke[1],Ce=(0,k.useState)(0),we=f()(Ce,2),_e=(we[0],we[1],(0,k.useState)([])),Ne=f()(_e,2),Fe=Ne[0],Te=Ne[1],Ze=(0,k.useState)([]),Le=f()(Ze,2),Oe=(Le[0],Le[1],(0,k.useState)("")),Re=f()(Oe,2),Ve=Re[0],Me=Re[1],Ye=(0,k.useState)(""),Ae=f()(Ye,2),Ee=Ae[0],De=Ae[1],Ie=(0,k.useState)(""),He=f()(Ie,2),qe=He[0],$e=He[1],ze=(0,k.useState)(0),Ue=f()(ze,2),Be=Ue[0],We=Ue[1],Ke=(0,k.useState)(0),Ge=f()(Ke,2),Je=Ge[0],Qe=Ge[1],Xe=(0,k.useState)(0),et=f()(Xe,2),tt=(et[0],et[1],(0,k.useState)(!1)),rt=f()(tt,2),nt=(rt[0],rt[1],(0,k.useState)({})),at=f()(nt,2),st=at[0],ct=at[1],it=(0,k.useState)({}),ot=f()(it,2),ut=(ot[0],ot[1],(0,k.useState)({})),lt=f()(ut,2),dt=lt[0],ft=lt[1],pt=(0,k.useState)({}),mt=f()(pt,2),ht=(mt[0],mt[1],(0,k.useState)(!1)),vt=f()(ht,2),xt=vt[0],bt=(vt[1],(0,k.useState)(!1)),jt=f()(bt,2),yt=(jt[0],jt[1],(0,k.useState)(!1)),gt=f()(yt,2),kt=gt[0],St=gt[1],Pt=(0,k.useState)(!1),Ct=f()(Pt,2),wt=(Ct[0],Ct[1],(0,k.useState)(!1)),_t=f()(wt,2),Nt=_t[0],Ft=_t[1],Tt=(0,k.useState)(!1),Zt=f()(Tt,2),Lt=Zt[0],Ot=(Zt[1],(0,k.useState)(!1)),Rt=f()(Ot,2),Vt=(Rt[0],Rt[1],(0,k.useState)(0)),Mt=f()(Vt,2),Yt=Mt[0],At=Mt[1],Et=(0,k.useState)(0),Dt=f()(Et,2),It=(Dt[0],Dt[1],(0,k.useState)(0)),Ht=f()(It,2),qt=Ht[0],$t=Ht[1],zt=(0,k.useState)(""),Ut=f()(zt,2),Bt=(Ut[0],Ut[1],(0,k.useState)(!1)),Wt=f()(Bt,2),Kt=Wt[0],Gt=(Wt[1],(0,k.useState)(!1)),Jt=f()(Gt,2),Qt=(Jt[0],Jt[1],(0,k.useState)(!1)),Xt=f()(Qt,2),er=Xt[0],tr=Xt[1],rr=(0,k.useState)(!1),nr=f()(rr,2),ar=(nr[0],nr[1],(0,k.useState)(!1)),sr=f()(ar,2),cr=sr[0],ir=sr[1],or=(0,k.useState)(!1),ur=f()(or,2),lr=(ur[0],ur[1],(0,k.useState)(!1)),dr=f()(lr,2),fr=dr[0],pr=dr[1],mr=(0,k.useState)(!1),hr=f()(mr,2),vr=(hr[0],hr[1],(0,k.useState)({})),xr=f()(vr,2),br=xr[0],jr=xr[1],yr=(0,k.useState)({}),gr=f()(yr,2),kr=(gr[0],gr[1],(0,k.useState)({})),Sr=f()(kr,2),Pr=Sr[0],Cr=Sr[1],wr=(0,k.useState)({}),_r=f()(wr,2),Nr=(_r[0],_r[1],(0,k.useRef)({})),Fr=((0,k.useRef)({}),(0,k.useRef)()),Tr=((0,k.useRef)(),(0,k.useRef)()),Zr=(0,k.useRef)(),Lr=(0,k.useRef)(!0),Or=((0,k.useRef)(0),(0,k.useRef)(0),(0,k.useRef)(!1),(0,k.useState)(0)),Rr=f()(Or,2),Vr=Rr[0],Mr=Rr[1],Yr=(0,k.useState)(0),Ar=f()(Yr,2),Er=Ar[0],Dr=Ar[1],Ir=(0,k.useState)(0),Hr=f()(Ir,2),qr=Hr[0],$r=Hr[1],zr=(0,Q.O)(),Ur=zr.publicKey,Br=zr.signTransaction,Wr=(0,X.R)().connection,Kr=(0,ee.z)(),Gr=(0,q.useSelector)((function(e){return e.ppp.projectsOption})),Jr=(0,q.useSelector)((function(e){return e.ppp.projectsDataSource})),Qr=(0,q.useSelector)((function(e){return e.ppp.currentProjectDataSource})),Xr=(0,q.useSelector)((function(e){return e.ppp.currentProjectNftsDataSource})),en=(0,q.useSelector)((function(e){return e.ppp.vipAccounts})),tn=(0,q.useSelector)((function(e){return e.wallet.endpoint})),rn=(0,q.useSelector)((function(e){return e.wallet.tipAccounts})),nn=(0,q.useSelector)((function(e){return e.wallet.jitoRpcs})),an=(0,k.useCallback)(function(){var t=l()(o()().mark((function t(r){var a;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a=[],r.forEach((function(e){var t=e.nftImageUrl,r=e.tokenSymbol,n=e.projectName,s=e.mintPubkey;a.push({value:s,label:(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsxs)("div",{className:"flex items-center",children:[(0,P.jsx)(E.C,{className:"mr-2",size:"default",src:t}),(0,P.jsx)("div",{children:"".concat(r," - ").concat(n)})]}),(0,P.jsx)(z.k,{ellipsis:!0,address:s})]}),nftImageUrl:t,projectName:n,tokenSymbol:r,mintPubkey:s})})),e($.N.setProjectsOption(a))}catch(e){(0,J.Tv)(e,n,"handleProjectsOption")}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),sn=(0,k.useCallback)(function(){var t=l()(o()().mark((function t(r){var a,s,c;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Ft(!0),t.next=4,(0,U.VY)({mintPubkey:r});case 4:return a=t.sent,s=Jr.find((function(e){return e.mintPubkey===r})),c=[],a.forEach((function(e,t){var r=e.nft_pubkey,n=e.bump,a=e.mint_pubkey,i=e.owner_pubkey,o=e.nft_id,u=e.round,l=e.price,d=e.split_count,f=e.last_split,p=e.last_trade,m=e.create_time,h=e.unix_ts,v=e.is_burned,x=e.updated_at,b=l/(s.increasePerRound/1e4+1),j=l*s.profitRate/100,y=l>=s.splitNftPrice,g=W().unix(e.last_trade).utcOffset(8).format("YYYY-MM-DDTHH:mm:ss"),k=W().unix(e.last_trade).utcOffset(8).valueOf(),S=W().unix(e.last_trade).utcOffset(8).add(s.secToBurnNft,"seconds"),P=S.valueOf(),C=S.format("YYYY-MM-DDTHH:mm:ss");c.push({nftPubkey:r,bump:n,mintPubkey:a,ownerPubkey:i,nftId:o,round:u,price:l,splitCount:d,lastSplit:f,lastTrade:p,createTime:m,unixTs:h,isBurned:v,updatedAt:x,key:t,invest:b,profit:j,split:y,status:"",lastTradeLocalFormat:g,lastTradeLocalValue:k,burnTimeLocalValue:P,burnTimeLocalFormat:C})})),e($.N.setCurrentProjectNftsDataSource(c)),e($.N.setCurrentProjectDataSource(s)),Ft(!1),t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),Ft(!1),(0,J.Tv)(t.t0,n,"handleCurrentProjectNfts"),t.abrupt("return",[]);case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),[Jr]),cn=(0,k.useCallback)(function(){var t=l()(o()().mark((function t(r){var a,s,c;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,U.mW)();case 3:return a=t.sent,t.next=6,(0,J.o8)(tn);case 6:s=t.sent,a.sort((function(e,t){return t.volume_24h-e.volume_24h})),c=[],a.forEach((function(e,t){var r=e.project_pubkey,n=e.bump,a=e.creator_pubkey,s=e.mint_pubkey,i=e.authority_pubkey,o=e.project_name,u=e.project_desc,l=e.token_symbol,d=e.token_uri,f=e.init_token_supply,p=e.max_token_supply,m=e.init_nft_supply,h=e.max_nft_supply,v=e.token_per_nft,x=e.init_nft_price,b=e.increase_per_round,j=e.trade_fee_rate,y=e.sec_per_round,g=e.sec_to_burn_nft,k=e.nft_id,S=e.aid,P=e.nft_issue_count,C=e.nft_burn_count,w=e.round,_=e.last_round,N=e.create_time,F=e.unix_ts,T=e.image_url,Z=e.nft_name,L=e.nft_image_url,O=e.bgm_url,R=e.website,V=e.twitter,M=e.telegram,Y=e.discord,A=e.market_cap,E=e.fdv,D=e.circulation_supply,I=e.updated_at,H=e.project_mint,q=e.volume_24h,$=e.tx_24h,z=P-C,U=2*x,B=W().unix(e.last_round).utcOffset(8).format("YYYY-MM-DDTHH:mm:ss"),K=W().unix(e.last_round).utcOffset(8).valueOf(),G=W().utc(e.create_time).utcOffset(16).format("YYYY-MM-DDTHH:mm:ss"),J=W().utc(e.create_time).utcOffset(16).valueOf(),Q=b/100-(b/100+100)*(.01+j/1e4),X=86400/y*Q,ee=2592e3/y*Q,te=31536e3/y*Q,re=W().unix(e.last_round).utcOffset(8).add(y,"seconds"),ne=re.valueOf(),ae=re.format("YYYY-MM-DDTHH:mm:ss");c.push({projectPubkey:r,bump:n,creatorPubkey:a,mintPubkey:s,authorityPubkey:i,projectName:o,projectDesc:u,tokenSymbol:l,tokenUri:d,initTokenSupply:f,maxTokenSupply:p,initNftSupply:m,maxNftSupply:h,tokenPerNft:v,initNftPrice:x,increasePerRound:b,tradeFeeRate:j,secPerRound:y,secToBurnNft:g,nftId:k,aid:S,nftIssueCount:P,nftBurnCount:C,round:w,lastRound:_,createTime:N,unixTs:F,imageUrl:T,nftName:Z,nftImageUrl:L,bgmUrl:O,website:R,twitter:V,telegram:M,discord:Y,marketCap:A,fdv:E,circulationSupply:D,updatedAt:I,projectMint:H,volume24h:q,tx24h:$,key:t,nftSupply:z,splitNftPrice:U,profitRate:Q,profitRateYear:te,profitRateDay:X,profitRateMonth:ee,nextRoundLocalValue:ne,nextRoundLocalFormat:ae,lastRoundLocalFormat:B,lastRoundLocalValue:K,createTimeLocalFormat:G,createTimeLocalValue:J})})),Dr(s),e($.N.setProjects(a)),e($.N.setProjectsDataSource(c)),r(!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),r(!1),(0,J.Tv)(t.t0,n,"handleGetProjects");case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}(),[]),on=(0,q.useIntl)(),un=on.formatMessage({id:"common.intlInputException"}),ln=on.formatMessage({id:"common.intlPleaseConnectWallet"}),dn=(0,k.useCallback)((function(){var e=0,t=0,r=0,n=0;for(var a in Nr.current)"success"===Nr.current[a].status?t+=1:"error"===Nr.current[a].status?r+=1:"processing"===Nr.current[a].status?n+=1:"default"===Nr.current[a].status&&(e+=1);w(t),B(r),fe(n),be(e)}),[]),fn=(0,k.useCallback)((function(){var e;null===(e=Fr.current)||void 0===e||e.resetFields(),At(0)}),[dn]),pn=(0,k.useCallback)((function(e){var t,r=new Set;e.forEach((function(e){r.add(e.ownerPubkey)}));var n=Array.from(r),a={};n.forEach((function(e){a[e]=e})),null===(t=Fr.current)||void 0===t||t.setFieldValue("accountsCreate",void 0),jr(a)}),[]),mn=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,n;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},t.forEach((function(e){n[e.nftId]=String(e.nftId)})),null===(r=Fr.current)||void 0===r||r.setFieldValue("cidsCreate",void 0),Cr(n),tr(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),hn=(0,k.useCallback)((function(e,t){var r=Math.min.apply(Math,c()(e.map((function(e){return e.profit}))));Mr(r*t/100),$r(r)}),[]),vn=(0,k.useCallback)((function(e,t){if(1===t)e.sort((function(){return Math.random()-.5}));else if(2===t)e.sort((function(e,t){return e.price-t.price}));else if(3===t)e.sort((function(e,t){var r=e.price;return t.price-r}));else if(4===t)e.sort((function(e,t){return e.lastTradeLocalValue-t.lastTradeLocalValue}));else{if(5===t)return e.filter((function(e){return e.split}));if(6===t){var r,n=null===(r=Fr.current)||void 0===r?void 0:r.getFieldValue("accountsCreate");return n=n||[],e.filter((function(e){return n.includes(e.ownerPubkey)}))}if(7===t){var a,s=null===(a=Fr.current)||void 0===a?void 0:a.getFieldValue("accountsCreate");s=s||[];var c=e.filter((function(e){return s.includes(e.ownerPubkey)}));return c.sort((function(){return Math.random()-.5})),c}if(8===t){var i,o=null===(i=Fr.current)||void 0===i?void 0:i.getFieldValue("cidsCreate");return o=o||[],e.filter((function(e){return o.includes(e.nftId)}))}}return e}),[]),xn=(0,k.useCallback)((function(e){var t,r=null===(t=Fr.current)||void 0===t?void 0:t.getFieldsValue(),n=r.pidCreate,a=r.wayCreate,s=r.tipCreate;if(n){var c=Number(a),i=vn(e,c),o=i.length;At(o),$t(0),hn(i,s)}}),[]),bn=(0,k.useCallback)((function(e,t){var r;if(null===(r=Fr.current)||void 0===r?void 0:r.getFieldValue("pidCreate")){var a,s=e.countCreate,c=t.nftSupply;if(s>c)return n.error("购买数量超过当前项目最大值".concat(c)),void(null===(a=Fr.current)||void 0===a||a.setFieldValue("startCreate",1))}}),[]),jn=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t,r){var n,a,s,c,i,u,l,d;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.pidCreate,c=null===(n=Fr.current)||void 0===n?void 0:n.getFieldsValue(),"6"===(i=c.wayCreate)||"7"===i?(null===(u=Fr.current)||void 0===u||u.setFieldValue("accountsCreate",void 0),jr({}),ir(!1)):"8"===i&&(null===(l=Fr.current)||void 0===l||l.setFieldValue("cidsCreate",void 0),Cr({}),pr(!1)),null===(a=Fr.current)||void 0===a||a.setFieldValue("wayCreate","1"),e.next=6,r(s);case 6:d=e.sent,xn(d);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[]),yn=(0,k.useCallback)((function(e){var t,r,a=null===(t=Fr.current)||void 0===t?void 0:t.getFieldsValue(),s=a.wayCreate,c=a.pidCreate;"6"===s||"7"===s?c?(ir(!0),pn(e)):(n.error("请先选择项目"),ir(!0)):ir(!1),"8"===s?c?(pr(!0),mn(e)):(n.error("请先选择项目"),pr(!0)):pr(!1),xn(e),null===(r=Fr.current)||void 0===r||r.setFieldValue("countCreate",void 0)}),[]),gn=(0,k.useCallback)((function(e,t){var r,n=null===(r=Fr.current)||void 0===r?void 0:r.getFieldsValue(),a=n.wayCreate,s=n.pidCreate,c=n.tipCreate;if(!s)return Mr(0),void $r(0);var i=Number(a),o=vn(t,i);hn(o,c)}),[]),kn=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hasOwnProperty("pidCreate")&&jn(t,sn),t.hasOwnProperty("countCreate")&&bn(t,Qr),t.hasOwnProperty("wayCreate")&&yn(Xr),t.hasOwnProperty("tipCreate")&&gn(t,Xr);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[sn,Qr,Xr]),Sn=(0,k.useCallback)((function(){Ft(!0),cn(Ft)}),[]),Pn=(0,k.useCallback)((function(e){var t,r,n=e.length;n?null===(t=Fr.current)||void 0===t||t.setFieldValue("countCreate",n):null===(r=Fr.current)||void 0===r||r.setFieldValue("countCreate",void 0);At(n)}),[]),Cn=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,s,c,i,u,l,d,f,p,m,h,v,x,b,j,y,g,k,S,P,C,w,_,N,F,T,Z,L,O,R,V,M,Y,A,E,D,I,H,q,$,z,B,K,G,Q,X,ee,ae,se,ce;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ur&&Br&&Kr){e.next=3;break}return e.abrupt("return",n.error(ln));case 3:if(St(!0),s=Ur,c=t.pidCreate,i=t.countCreate,u=t.startCreate,l=t.endCreate,d=t.wayCreate,f=c,p=Number(d),m=vn(Xr,p),!(u>m.length)){e.next=11;break}throw Error("开始序号超过当前项目最大值".concat(m.length));case 11:if(!l){e.next=18;break}if(!(u>l)){e.next=14;break}throw Error("开始序号超过结束序号");case 14:h=m.length>l?l:m.length,m=m.slice(u-1,h),e.next=19;break;case 18:m=m.slice(u-1);case 19:return v=function(e){var t,r=0,n=a()(e);try{for(n.s();!(t=n.n()).done;){if(t.value.ownerPubkey!==s.toString()){if(r>=i)return r;if(r>=3e3)return r;r+=1}}}catch(e){n.e(e)}finally{n.f()}return r},x=v(m),"#####NonceCountAccount#####",e.next=24,ne.PublicKey.createWithSeed(s,"#####NonceCountAccount#####",ne.SystemProgram.programId);case 24:return b=e.sent,e.next=27,Wr.getAccountInfo(b);case 27:if(j=e.sent,y=[],g=[],k=0,j){e.next=33;break}throw Error("请先创建Nonce账号");case 33:if(k=Math.floor(j.lamports/1e6),!(x>k)){e.next=36;break}throw Error("Nonce账号数量不足，需要大于等于图片购买数量");case 36:S=0;case 37:if(!(S<k)){e.next=47;break}return P="#####NonceAccount".concat(S+1,"#####"),e.next=42,ne.PublicKey.createWithSeed(s,P,ne.SystemProgram.programId);case 42:C=e.sent,y.push(C);case 44:++S,e.next=37;break;case 47:if(!y.length){e.next=52;break}return e.next=50,Wr.getMultipleParsedAccounts(y);case 50:e.sent.value.forEach((function(e,t){g.push({key:t,nonceAccount:y[t],authority:new ne.PublicKey(e.data.parsed.info.authority),blockhash:e.data.parsed.info.blockhash,status:e.data.parsed.type})}));case 52:w=0,_=0,N=0,F=[],T=new te.$r(re,new te.Y7(Wr,Kr,te.Y7.defaultOptions())),Z=a()(m),e.prev=58,Z.s();case 60:if((L=Z.n()).done){e.next=94;break}if(O=L.value,O.ownerPubkey!==s.toString()){e.next=65;break}return e.abrupt("continue",92);case 65:if(!(w>=i)){e.next=67;break}return e.abrupt("break",94);case 67:if(!(w>=3e3)){e.next=69;break}return e.abrupt("break",94);case 69:return w+=1,(R=[]).push(ne.SystemProgram.nonceAdvance({noncePubkey:g[N].nonceAccount,authorizedPubkey:g[N].authority})),R.push(ne.ComputeBudgetProgram.setComputeUnitLimit({units:122513})),R.push(ne.ComputeBudgetProgram.setComputeUnitPrice({microLamports:0})),V=O.nftPubkey,M=O.ownerPubkey,e.next=78,(0,U.EA)(T,V,M,s,Qr);case 78:return Y=e.sent,R.push(Y),A=Number((.003*O.price).toFixed(0)),R.push(ne.SystemProgram.transfer({fromPubkey:s,toPubkey:new ne.PublicKey("56d6qq9KAWcuUAHqPCK5yQAZ9PT5vqdCedJLiA5WaGgQ"),lamports:A})),R.push(ne.SystemProgram.transfer({fromPubkey:s,toPubkey:new ne.PublicKey(rn[_]),lamports:Number(Vr.toFixed(0))})),E=new ne.TransactionMessage({payerKey:s,recentBlockhash:g[N].blockhash,instructions:R}).compileToLegacyMessage(),D=new ne.VersionedTransaction(E),e.next=87,Br(D);case 87:I=e.sent,F.push({instructions:R,signedTransaction:I,signedTransactionRaw:oe.from(I.serialize()).toString("base64"),nft:O,cid:O.nftId,nftid:O.nftId,from:s}),$t(w),N=(N+1)%y.length,_=(_+1)%rn.length;case 92:e.next=60;break;case 94:e.next=99;break;case 96:e.prev=96,e.t0=e.catch(58),Z.e(e.t0);case 99:return e.prev=99,Z.f(),e.finish(99);case 102:if(F.length){e.next=106;break}return n.info("没有需要创建的内容"),St(!1),e.abrupt("return",!0);case 106:return H=0,q=[],$=[],F.forEach((function(e){q.push(e.nft.nftId),$.push(e.nft.nftId),H+=e.nft.price})),z=Qr.nftName,B=Qr.creatorPubkey,K=Qr.tokenSymbol,G=s.toString(),Q=en.includes(G)?(0,J.uf)(H/ne.LAMPORTS_PER_SOL,6,"SOL"):(0,J.uf)(1.003*H/ne.LAMPORTS_PER_SOL,6,"SOL"),q.sort(),$.sort(),X={infos:{type:"buy",pid:f,creator:B,project_name:Qr.projectName,nft_name:z,token_symbol:K,last_round:Qr.lastRoundLocalFormat,sec_per_round:Qr.secPerRound,from:s.toString(),way:p,start:q[0],end:q[q.length-1],count:F.length,amount:Q,cid_array:q,nftid_array:$,tipFee:Vr},transactions:F},ee=W()().format("YYYY-MM-DDTHH:mm:ss"),ae=JSON.stringify(X,null,2),se="data:,".concat(ae),(ce=document.createElement("a")).href=se,ce.download="".concat(K,"_").concat(f.slice(0,4),"_").concat(f.slice(-4),"_").concat(w,"_").concat(ee,"_buy.json"),ce.click(),null===(r=Fr.current)||void 0===r||r.setFieldValue("amountCreate",Q),n.success("创建完成"),St(!1),e.abrupt("return",!0);case 131:e.prev=131,e.t1=e.catch(0),$t(0),St(!1),(0,J.Tv)(e.t1,n,"handleFinishCreate");case 136:return e.abrupt("return",!0);case 137:case"end":return e.stop()}}),e,null,[[0,131],[58,96,99,102]])})));return function(t){return e.apply(this,arguments)}}(),[Kr,re,en,Qr,Xr,Wr,Vr,rn]),wn=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=l()(o()().mark((function e(t,r){var n,a,s;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r%nn.length,a=nn[n]+"/api/v1/transactions?bundleOnly=true",e.next=4,ie().post(a,{jsonrpc:"2.0",id:"1",method:"sendTransaction",params:[t.signedTransactionBase64,{encoding:"base64"}]});case 4:s=e.sent,console.log("txid: "+s.data.result);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Wr,dn,nn]),_n=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Fe.length){e.next=3;break}return n.error("交易信息为空"),e.abrupt("return",!1);case 3:return r=t.disorderSend,e.prev=4,r?Fe.sort((function(){return Math.random()-.5})):Fe.sort((function(e,t){return e.cid-t.cid})),wn(Fe),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(4),(0,J.Tv)(e.t0,n,"handleFinishSend");case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),[Fe,wn]),Nn=(0,k.useCallback)((function(){var e;null===(e=Tr.current)||void 0===e||e.resetFields(),y([]),B(0),w(0),fe(0),be(0),Te([]),Me(""),De(""),$e(""),Qe(0),We(0),Nr.current={},ft({}),ct({}),Pe(0),dn(),Lr.current=!0}),[dn]),Fn=(0,k.useCallback)((function(e,t){var r=W()(e).add(t,"seconds").valueOf();Qe(r)}),[]),Tn=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,a,s,c,i,u,l,d,f;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hasOwnProperty("fixedTimeSend")&&(a=null===(r=Tr.current)||void 0===r?void 0:r.getFieldsValue(),s=a.fixedTimeSend,c=a.targetTimeSend,s?null===(i=Tr.current)||void 0===i||i.validateFields().catch((function(e){var t,r;e.errorFields.length?(null===(t=Tr.current)||void 0===t||t.setFieldValue("fixedTimeSend",!1),n.error("输入异常")):c?(Qe(W()(c).valueOf()),Me(W()(c).format("YYYY-MM-DDTHH:mm:ss"))):(null===(r=Tr.current)||void 0===r||r.setFieldValue("fixedTimeSend",!1),n.error("请先设置发送时间"))})):(Fn(qe,Be),Me(Ee))),t.hasOwnProperty("targetTimeSend")&&(l=null===(u=Tr.current)||void 0===u?void 0:u.getFieldsValue(),d=l.fixedTimeSend,f=l.targetTimeSend,d&&(Qe(W()(f).valueOf()),Me(W()(f).format("YYYY-MM-DDTHH:mm:ss"))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,qe,Be,Ee,Fn]),Zn=(0,k.useCallback)((function(){}),[]),Ln=(0,k.useCallback)((function(){var e=W()().format("YYYY-MM-DDTHH:mm:ss"),t=JSON.stringify(ue,null,2),r="data:,".concat(t),n=document.createElement("a");n.href=r,n.download="log_".concat(e,".json"),n.click()}),[]),On=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,s,c,i,u,l,d,f,p,m,h,v,x,b;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=18;break}return Nr.current={},ft({}),B(0),w(0),fe(0),be(0),Te([]),Me(""),De(""),$e(""),Qe(0),We(0),ct({}),Pe(0),null===(r=Tr.current)||void 0===r||r.setFieldValue("amountSend",""),Lr.current=!0,e.abrupt("return");case 18:e.prev=18,c=[],i=new Set,u=[],l={},d=0,f={infos:{},transactions:[]},p=a()(t),e.prev=26,h=o()().mark((function e(){var t,r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.value,e.next=3,new Promise((function(e){var r=new FileReader;r.readAsText(t.originFileObj),r.onload=function(){return e(r.result)}}));case 3:r=e.sent,(f=JSON.parse(r)).transactions.forEach((function(e){i.has(e.cid)||(u.push(e),i.add(e.cid))}));case 6:case"end":return e.stop()}}),e)})),p.s();case 29:if((m=p.n()).done){e.next=33;break}return e.delegateYield(h(),"t0",31);case 31:e.next=29;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(26),p.e(e.t1);case 38:return e.prev=38,p.f(),e.finish(38);case 41:v=f.infos.last_round,x=f.infos.sec_per_round,d=f.infos.amount,b=W()(v).add(x,"seconds").format("YYYY-MM-DDTHH:mm:ss"),Fn(v,x),u.forEach((function(e){var t=e.signedTransactionRaw,r=oe.from(e.signedTransactionRaw,"base64");c.push({cid:e.cid,nftid:e.nftid,from:e.from,signedTransaction:r,signedTransactionBase64:t}),l[e.cid]={status:"default",message:""}})),null===(s=Tr.current)||void 0===s||s.setFieldValue("amountSend",d),Nr.current=l,ft({}),B(0),w(0),fe(0),be(c.length),Te(c),Me(b),De(b),We(x),$e(v),ct(f.infos),Pe(0),Lr.current=!0,e.next=67;break;case 64:e.prev=64,e.t2=e.catch(18),(0,J.Tv)(e.t2,n,"handleFileList");case 67:case"end":return e.stop()}}),e,null,[[18,64],[26,35,38,41]])})));return function(t){return e.apply(this,arguments)}}(),[Fn]),Rn=(0,k.useCallback)(function(){var e=l()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("removed"!==t.file.status){e.next=4;break}return y(t.fileList),On(t.fileList),e.abrupt("return");case 4:(r=new FileReader).readAsText(t.fileList[t.fileList.length-1].originFileObj),r.onload=function(){try{var e=JSON.parse(r.result);e?e.hasOwnProperty("infos")&&"buy"===e.infos.type?(y(t.fileList),On(t.fileList),n.success("上传成功")):n.error("文件类型错误"):n.error("上传失败")}catch(e){(0,J.Tv)(e,n,"handleUpload")}};case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[On]),Vn=(0,k.useCallback)((function(){var e;if(null!==(e=Tr.current)&&void 0!==e&&e.getFieldValue("autoSend")){if(0===Fe.length)return n.error("交易信息为空"),!1;var t=Tr.current.getFieldsValue(),r=t.disorderSend,a=t.repeatSend,s=t.intervalSend;try{r?Fe.sort((function(){return Math.random()-.5})):Fe.sort((function(e,t){return e.cid-t.cid})),wn(Fe);for(var c=1;c<a;c++)setTimeout(wn,s*c,Fe);return!0}catch(e){(0,J.Tv)(e,n,"handleCountDownFinishSend")}}}),[Fe,wn]),Mn=(0,k.useCallback)((function(e){var t,r,n=null===(t=Tr.current)||void 0===t?void 0:t.getFieldValue("leadTimeSend");n&&e<n&&Lr.current&&(Lr.current=!1,null===(r=Tr.current)||void 0===r||r.submit())}),[]),Yn=(0,k.useMemo)((function(){var e=(0,J.uf)(Vr/ne.LAMPORTS_PER_SOL,8,"SOL"),t=(0,J.uf)(Vr/ne.LAMPORTS_PER_SOL*Er,6);return Er?"每张图GAS费用：".concat(e,"，$").concat(t," "):"每张图GAS费用：".concat(e)}),[Vr,Er]),An=(0,k.useMemo)((function(){var e=(0,J.uf)(qr/ne.LAMPORTS_PER_SOL,8,"SOL"),t=(0,J.uf)(qr/ne.LAMPORTS_PER_SOL*Er,6);return Er?"最小图片利润：".concat(e,"，$").concat(t):"最小图片利润：".concat(e)}),[Vr,Er]);return(0,k.useEffect)((function(){Ft(!0),cn(Ft)}),[]),(0,k.useEffect)((function(){Jr.length&&an(Jr)}),[Jr]),(0,P.jsx)(v._z,{className:"",ghost:!0,children:(0,P.jsxs)("div",{className:"flex flex-wrap justify-center gap-5",children:[(0,P.jsxs)(x.Z,{title:(0,P.jsx)("div",{className:" font-semibold text-lg hardline",children:"使用说明"}),style:{maxWidth:"400px"},children:[(0,P.jsx)("div",{children:"1. 操作步骤如下："}),(0,P.jsxs)("div",{className:"ml-3 mt-2",children:["连接钱包 ",(0,P.jsx)(p.Z,{})," 创建Nonce账号 ",(0,P.jsx)(p.Z,{})," 创建交易 ",(0,P.jsx)(p.Z,{})," ","发送交易"]}),(0,P.jsx)("div",{className:"ml-3 mt-2",children:"创建Nonce账号： 跟据你一次性要抢图的数量来创建，例如想一次性抢10张图，则需要准备10个Nonce账号。Nonce账号可以重复使用，只要抢图的数量不越过Nonce账号数量即可。"}),(0,P.jsxs)("div",{className:"ml-3 mt-2",children:["创建交易： 选择项目 ",(0,P.jsx)(p.Z,{})," 输入购买数量"," ",(0,P.jsx)(p.Z,{})," 调整GAS费用 ",(0,P.jsx)(p.Z,{}),"点击创建按钮 ",(0,P.jsx)(p.Z,{})," ","保存交易文件"]}),(0,P.jsxs)("div",{className:"ml-3 mt-2",children:["发送交易：上传交易文件 ",(0,P.jsx)(p.Z,{})," 等待倒计时结束"]}),(0,P.jsx)("div",{className:"mt-3",children:"2. 注意事项："}),(0,P.jsx)("div",{className:"ml-3",children:"a）Nonce账号根据需要抢图数量来创建，账号可以随时进行回收；"}),(0,P.jsx)("div",{className:"ml-3",children:"b）交易文件的生成过程中，需要用户重复进行多次签名，虽然繁琐，但很安全，无需用户导入私钥；"}),(0,P.jsx)("div",{className:"mt-3",children:"3. 费用说明："}),(0,P.jsx)("div",{className:"ml-3",children:"使用工具抢到的NFT，每个收取0.3%费用。例如工具抢到一个价值为0.1 SOL的NFT，则工具会收取0.0003 SOL作为费用，抢购成功了，才会收取。"})]}),(0,P.jsx)(x.Z,{title:(0,P.jsx)("div",{className:" font-semibold text-lg hardline",children:"创建交易"}),style:{width:"400px"},children:(0,P.jsxs)(b.A,{formRef:Fr,onFinish:Cn,onReset:fn,onValuesChange:kn,layout:"vertical",loading:kt,initialValues:{startCreate:1,wayCreate:"1",tipCreate:.1},submitter:{searchConfig:{submitText:"创建"},render:function(e,t){return[t[1],t[0],(0,P.jsx)("div",{children:qt||""},"sign")]}},children:[(0,P.jsx)(j.Z,{name:"pidCreate",label:(0,P.jsxs)("div",{children:["项目",(0,P.jsx)(m.Z,{spin:Nt,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:Sn})]}),options:Gr,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(un),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,filterOption:function(e,t){return(t.projectName+t.tokenSymbol).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var t=e.projectName,r=e.tokenSymbol,n=e.nftImageUrl,a=e.mintPubkey;return(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsxs)("div",{className:"flex items-center",children:[(0,P.jsx)(E.C,{className:"mr-2",size:"default",src:n}),(0,J.Mn)()?(0,P.jsx)("div",{children:"".concat(r)}):(0,P.jsx)("div",{children:"".concat(r," - ").concat((0,J.LH)(t))})]}),(0,P.jsx)(z.k,{ellipsis:!0,address:a})]})}}}),(0,P.jsx)(j.Z,{name:"wayCreate",label:"购买方式",valueEnum:{1:"1 随机",2:"2 价格低到高",3:"3 价格高到低",4:"4 时间优先",5:"5 只抢拆分",6:"6 指定账号(顺序)",7:"7 指定账号(随机)",8:"8 指定序号"},placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(un),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,defaultValue:"1"}}),!!cr&&(0,P.jsx)(j.Z,{name:"accountsCreate",label:(0,P.jsxs)("div",{children:["选择账号",(0,P.jsx)(m.Z,{spin:Kt,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:function(){return pn(Xr)}})]}),valueEnum:br,fieldProps:{mode:"multiple"},placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(un),pattern:/^.+$/}]}),!!fr&&(0,P.jsx)(j.Z,{name:"cidsCreate",label:(0,P.jsxs)("div",{children:["选择序号",(0,P.jsx)(m.Z,{spin:er,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:function(){return mn(Xr)}})]}),valueEnum:Pr,onChange:Pn,fieldProps:{mode:"multiple"},placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(un),pattern:/^.+$/}]}),(0,P.jsx)(_,{name:"countCreate",label:(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:"购买数量 "}),(0,P.jsx)("span",{className:"hover:cursor-pointer",style:{color:"#1677ff"},onClick:function(){var e,t;null===(e=Fr.current)||void 0===e||e.setFieldValue("countCreate",Yt),null===(t=Fr.current)||void 0===t||t.validateFields(["countCreate"])},children:Yt?"(".concat(Yt,")"):""}),(0,P.jsx)(m.Z,{spin:Lt,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:function(){return xn(Xr)}})]}),placeholder:"",min:1,rules:[{required:!0,message:"".concat(un),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,P.jsx)(_,{name:"startCreate",label:(0,P.jsxs)("div",{children:["开始序号#",(0,P.jsx)(D.Z,{placement:"topLeft",title:"从具体某个序号开始进行购买",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",min:1,rules:[{required:!0,message:"".concat(un),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1}}),(0,P.jsx)(_,{name:"endCreate",label:(0,P.jsxs)("div",{children:["结束序号#",(0,P.jsx)(D.Z,{placement:"topLeft",title:"只购买当前序号之前的NFT",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"可选，默认是当前序号的最大值",min:1,rules:[{required:!1,message:"".concat(un),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,P.jsx)(F,{name:"tipCreate",label:Yn,min:.1,max:80,fieldProps:{tooltip:{formatter:function(e){return"".concat(e,"%")}}},rules:[{required:!0,whitespace:!0,message:"".concat(un),pattern:/^.*$/}],help:(0,P.jsx)("div",{className:"text-red-600 mb-5",children:An})}),(0,P.jsx)(T.Z,{name:"amountCreate",label:(0,P.jsxs)("div",{children:["总金额",(0,P.jsx)(D.Z,{placement:"topLeft",title:"此次全部交易所需要的总金额，包含手续费。",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"自动生成，无需输入",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}})]})}),(0,P.jsx)(x.Z,{title:(0,P.jsx)("div",{className:" font-semibold text-lg hardline",children:"发送交易"}),style:{width:"400px"},children:(0,P.jsxs)(b.A,{formRef:Tr,onFinish:_n,onReset:Nn,onValuesChange:Tn,submitter:{searchConfig:{submitText:"发送"},render:function(e,t){return[t[1],(0,P.jsx)(I.ZP,{loading:xt,onClick:Zn,children:"校对"},"check"),(0,P.jsx)(I.ZP,{onClick:Ln,children:"日志"},"log"),t[0]]}},initialValues:{disorderSend:!0,autoSend:!0,repeatSend:3,intervalSend:1e3,leadTimeSend:0,fixedTimeSend:!1},children:[(0,P.jsx)(Z.Z,{label:"交易文件",name:"transactionInfo",action:"upload.do",fieldProps:{accept:".json",onChange:Rn,beforeUpload:function(){return!1},listType:"picture",onPreview:function(e){return Zr.current.handleOpen(e)},fileList:d},rules:[{required:!0,whitespace:!0,message:"".concat(un),pattern:/.*/}]}),(0,P.jsx)(_,{label:(0,P.jsxs)("div",{children:["整体重复发送次数",(0,P.jsx)(D.Z,{placement:"topLeft",title:"整体全部发送完成算一次，这里指定重复次数。重复发送失败了，不会影响金额",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"repeatSend",placeholder:"",min:1,rules:[{required:!0,message:"".concat(un),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:3}}),(0,P.jsx)(_,{label:(0,P.jsxs)("div",{children:["整体重复发送间隔(毫秒)",(0,P.jsx)(D.Z,{placement:"topLeft",title:"整体全部发送完成算一次，这里指定重复的间隔时间",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"intervalSend",placeholder:"",min:300,rules:[{required:!0,message:"".concat(un),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1e3}}),(0,P.jsx)(_,{label:(0,P.jsxs)("div",{children:["提前发送时间(毫秒)",(0,P.jsx)(D.Z,{placement:"topLeft",title:"在下一轮开始前多少毫秒发送交易",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"leadTimeSend",placeholder:"",max:2e3,min:0,rules:[{required:!0,message:"".concat(un),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:0}}),(0,P.jsx)(O,{name:"disorderSend",label:(0,P.jsxs)("div",{children:["是否乱序",(0,P.jsx)(D.Z,{placement:"topLeft",title:"是否以乱序的方式来发送交易",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(un),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,P.jsx)(O,{name:"autoSend",label:(0,P.jsxs)("div",{children:["是否自动发送",(0,P.jsx)(D.Z,{placement:"topLeft",title:"倒计时结束后，是否自动发送交易。开启与否，不影响手动操作来发",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(un),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,P.jsx)(O,{name:"fixedTimeSend",label:(0,P.jsxs)("div",{children:["是否指定发送时间",(0,P.jsx)(D.Z,{placement:"topLeft",title:"",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(un),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!1}}),(0,P.jsx)(Y,{name:"targetTimeSend",label:(0,P.jsxs)("div",{children:["指定发送时间",(0,P.jsx)(D.Z,{placement:"topLeft",title:"在指定时间点自动进行交易操作",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",rules:[{required:!1,whitespace:!0,message:"".concat(un),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1},width:"100%"}),(0,P.jsx)(T.Z,{name:"amountSend",label:(0,P.jsxs)("div",{children:["总金额",(0,P.jsx)(D.Z,{placement:"topLeft",title:"此次全部交易所需要的总金额，包含手续费",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"自动生成，无需输入",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,P.jsx)(b.A.Item,{label:(0,P.jsxs)("div",{className:" font-semibold text-lg ",children:[(0,P.jsx)("span",{className:"hardline",children:"倒计时 "}),st.pid?"(".concat(st.token_symbol," ").concat(st.pid.slice(0,4),"...").concat(st.pid.slice(-4),")"):""]}),children:(0,P.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,P.jsx)(ae.Wo,{className:"text-2xl",value:Je,onFinish:Vn,onChange:Mn}),(0,P.jsx)("div",{className:"text-2xl",children:"".concat(Ve)})]})}),(0,P.jsxs)(b.A.Item,{label:(0,P.jsxs)("div",{className:" font-semibold text-lg hardline",children:[(0,P.jsx)("span",{children:"结果 "}),Fe.length?"(".concat(Fe.length,")"):""]}),children:[(0,P.jsx)("div",{children:"成功：".concat(C,"，失败：").concat(M,"，处理中：").concat(de,"，待处理：").concat(xe)}),!!Fe.length&&(0,P.jsx)("div",{className:"flex flex-wrap gap-5 mt-3",children:Object.keys(Nr.current).map((function(e,t){return(0,P.jsx)(H.Z,{color:Nr.current[e].status,children:"#".concat(e)},t)}))})]}),(0,P.jsxs)(b.A.Item,{label:(0,P.jsx)("div",{className:" font-semibold text-lg hardline",children:(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:"校对 "}),Fe.length?"(".concat(Fe.length,")"):"",(0,P.jsx)(D.Z,{placement:"topLeft",title:"交易结束后，可点击校对按钮，判断交易结果是否跟链上数据匹配",children:(0,P.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]})}),children:[(0,P.jsx)("div",{children:"拥有：".concat(Se)}),!!Fe.length&&(0,P.jsx)("div",{className:"flex flex-wrap gap-5 mt-3",children:Object.keys(dt).map((function(e,t){return(0,P.jsx)(H.Z,{color:dt[e],children:"#".concat(e)},t)}))})]})]})}),(0,P.jsx)(se.VY,{ref:Zr}),s]})})}}}]);