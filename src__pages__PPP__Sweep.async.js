"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[168],{87603:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(87462),a=r(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},c=r(84089),i=function(e,t){return a.createElement(c.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var o=a.forwardRef(i)},31199:function(e,t,r){var n=r(1413),a=r(91),s=r(67294),c=r(63053),i=r(85893),o=["fieldProps","min","proFieldProps","max"],u=function(e,t){var r=e.fieldProps,s=e.min,u=e.proFieldProps,l=e.max,d=(0,a.Z)(e,o);return(0,i.jsx)(c.Z,(0,n.Z)({valueType:"digit",fieldProps:(0,n.Z)({min:s,max:l},r),ref:t,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:u},d))},l=s.forwardRef(u);t.Z=l},25054:function(e,t,r){var n=r(1413),a=r(91),s=r(67294),c=r(63053),i=r(85893),o=["fieldProps","proFieldProps","min","max","step","marks","vertical","range"],u=s.forwardRef((function(e,t){var r=e.fieldProps,s=e.proFieldProps,u=e.min,l=e.max,d=e.step,f=e.marks,p=e.vertical,m=e.range,h=(0,a.Z)(e,o);return(0,i.jsx)(c.Z,(0,n.Z)({valueType:"slider",fieldProps:(0,n.Z)((0,n.Z)({},r),{},{min:u,max:l,step:d,marks:f,vertical:p,range:m,style:null==r?void 0:r.style}),ref:t,proFieldProps:s,filedConfig:{ignoreWidth:!0}},h))}));t.Z=u},52688:function(e,t,r){var n=r(1413),a=r(91),s=r(67294),c=r(63053),i=r(85893),o=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],u=s.forwardRef((function(e,t){var r=e.fieldProps,s=e.unCheckedChildren,u=e.checkedChildren,l=e.proFieldProps,d=(0,a.Z)(e,o);return(0,i.jsx)(c.Z,(0,n.Z)({valueType:"switch",fieldProps:(0,n.Z)({unCheckedChildren:s,checkedChildren:u},r),ref:t,valuePropName:"checked",proFieldProps:l,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},d))}));t.Z=u},53137:function(e,t,r){r.r(t),r.d(t,{default:function(){return oe}});var n=r(64599),a=r.n(n),s=r(19632),c=r.n(s),i=r(15009),o=r.n(i),u=r(99289),l=r.n(u),d=r(5574),f=r.n(d),p=r(87603),m=r(98165),h=r(25035),v=r(39380),x=r(38345),b=r(97269),j=r(64317),g=r(31199),y=r(25054),k=r(5966),S=r(91604),P=r(52688),C=r(1413),w=r(91),_=r(67294),N=r(66758),Z=r(63053),F=r(85893),T=["fieldProps","proFieldProps"],O="dateTime",L=_.forwardRef((function(e,t){var r=e.fieldProps,n=e.proFieldProps,a=(0,w.Z)(e,T),s=(0,_.useContext)(N.Z);return(0,F.jsx)(Z.Z,(0,C.Z)({ref:t,fieldProps:(0,C.Z)({getPopupContainer:s.getPopupContainer},r),valueType:O,proFieldProps:n,filedConfig:{valueType:O,customLightMode:!0}},a))})),R=r(2453),V=r(7134),M=r(83622),Y=r(83062),A=r(66309),E=r(88026),D=r(40956),I=r(39678),H=r(69988),q=r(27484),z=r.n(q),$=r(70178),W=r.n($),U=r(64119),B=r(54306),K=r(44718),J=r(43651),G=r(30527),Q=r(8257),X=r(87713),ee=r(3567),te=r(70609),re=r(9669),ne=r.n(re),ae=r(20640),se=r.n(ae),ce=r(48764).Buffer;z().extend(W());var ie=[],oe=function(){var e=(0,E.useDispatch)(),t=R.ZP.useMessage(),r=f()(t,2),n=r[0],s=r[1],i=(0,_.useState)([]),u=f()(i,2),d=u[0],C=u[1],w=(0,_.useState)(0),N=f()(w,2),Z=N[0],T=N[1],O=(0,_.useState)(0),q=f()(O,2),$=(q[0],q[1],(0,_.useState)(0)),W=f()($,2),re=(W[0],W[1]),ae=(0,_.useState)(0),oe=f()(ae,2),ue=(oe[0],oe[1],(0,_.useState)(0)),le=f()(ue,2),de=le[0],fe=le[1],pe=(0,_.useState)(0),me=f()(pe,2),he=(me[0],me[1],(0,_.useState)(0)),ve=f()(he,2),xe=ve[0],be=ve[1],je=(0,_.useState)(0),ge=f()(je,2),ye=(ge[0],ge[1],(0,_.useState)(0)),ke=f()(ye,2),Se=ke[0],Pe=ke[1],Ce=(0,_.useState)(0),we=f()(Ce,2),_e=(we[0],we[1],(0,_.useState)([])),Ne=f()(_e,2),Ze=Ne[0],Fe=Ne[1],Te=(0,_.useState)([]),Oe=f()(Te,2),Le=(Oe[0],Oe[1],(0,_.useState)("")),Re=f()(Le,2),Ve=Re[0],Me=Re[1],Ye=(0,_.useState)(""),Ae=f()(Ye,2),Ee=Ae[0],De=Ae[1],Ie=(0,_.useState)(""),He=f()(Ie,2),qe=He[0],ze=He[1],$e=(0,_.useState)(0),We=f()($e,2),Ue=We[0],Be=We[1],Ke=(0,_.useState)(0),Je=f()(Ke,2),Ge=Je[0],Qe=Je[1],Xe=(0,_.useState)(0),et=f()(Xe,2),tt=(et[0],et[1],(0,_.useState)(!1)),rt=f()(tt,2),nt=(rt[0],rt[1],(0,_.useState)({})),at=f()(nt,2),st=at[0],ct=at[1],it=(0,_.useState)({}),ot=f()(it,2),ut=(ot[0],ot[1],(0,_.useState)({})),lt=f()(ut,2),dt=lt[0],ft=lt[1],pt=(0,_.useState)({}),mt=f()(pt,2),ht=(mt[0],mt[1],(0,_.useState)(!1)),vt=f()(ht,2),xt=vt[0],bt=vt[1],jt=(0,_.useState)(!1),gt=f()(jt,2),yt=(gt[0],gt[1],(0,_.useState)(!1)),kt=f()(yt,2),St=kt[0],Pt=kt[1],Ct=(0,_.useState)(!1),wt=f()(Ct,2),_t=(wt[0],wt[1],(0,_.useState)(!1)),Nt=f()(_t,2),Zt=Nt[0],Ft=Nt[1],Tt=(0,_.useState)(!1),Ot=f()(Tt,2),Lt=Ot[0],Rt=(Ot[1],(0,_.useState)(!1)),Vt=f()(Rt,2),Mt=(Vt[0],Vt[1],(0,_.useState)(0)),Yt=f()(Mt,2),At=Yt[0],Et=Yt[1],Dt=(0,_.useState)(0),It=f()(Dt,2),Ht=(It[0],It[1],(0,_.useState)(0)),qt=f()(Ht,2),zt=qt[0],$t=qt[1],Wt=(0,_.useState)(""),Ut=f()(Wt,2),Bt=(Ut[0],Ut[1],(0,_.useState)(!1)),Kt=f()(Bt,2),Jt=Kt[0],Gt=(Kt[1],(0,_.useState)(!1)),Qt=f()(Gt,2),Xt=(Qt[0],Qt[1],(0,_.useState)(!1)),er=f()(Xt,2),tr=er[0],rr=er[1],nr=(0,_.useState)(!1),ar=f()(nr,2),sr=(ar[0],ar[1],(0,_.useState)(!1)),cr=f()(sr,2),ir=cr[0],or=cr[1],ur=(0,_.useState)(!1),lr=f()(ur,2),dr=(lr[0],lr[1],(0,_.useState)(!1)),fr=f()(dr,2),pr=fr[0],mr=fr[1],hr=(0,_.useState)(!1),vr=f()(hr,2),xr=(vr[0],vr[1],(0,_.useState)({})),br=f()(xr,2),jr=br[0],gr=br[1],yr=(0,_.useState)({}),kr=f()(yr,2),Sr=(kr[0],kr[1],(0,_.useState)({})),Pr=f()(Sr,2),Cr=Pr[0],wr=Pr[1],_r=(0,_.useState)({}),Nr=f()(_r,2),Zr=(Nr[0],Nr[1],(0,_.useRef)({})),Fr=((0,_.useRef)({}),(0,_.useRef)()),Tr=((0,_.useRef)(),(0,_.useRef)()),Or=(0,_.useRef)(),Lr=(0,_.useRef)(!0),Rr=((0,_.useRef)(0),(0,_.useRef)(0),(0,_.useRef)(!1),(0,_.useState)("")),Vr=f()(Rr,2),Mr=Vr[0],Yr=Vr[1],Ar=(0,_.useState)(0),Er=f()(Ar,2),Dr=Er[0],Ir=Er[1],Hr=(0,_.useState)(0),qr=f()(Hr,2),zr=qr[0],$r=qr[1],Wr=(0,_.useState)(0),Ur=f()(Wr,2),Br=Ur[0],Kr=Ur[1],Jr=(0,B.O)(),Gr=Jr.publicKey,Qr=Jr.signTransaction,Xr=Jr.signMessage,en=(0,K.R)().connection,tn=(0,J.z)(),rn=(0,E.useSelector)((function(e){return e.ppp.projectsOption})),nn=(0,E.useSelector)((function(e){return e.ppp.projectsDataSource})),an=(0,E.useSelector)((function(e){return e.ppp.currentProjectDataSource})),sn=(0,E.useSelector)((function(e){return e.ppp.currentProjectNftsDataSource})),cn=(0,E.useSelector)((function(e){return e.ppp.vipAccounts})),on=(0,E.useSelector)((function(e){return e.wallet.endpoint})),un=(0,E.useSelector)((function(e){return e.wallet.tipAccounts})),ln=(0,E.useSelector)((function(e){return e.wallet.jitoRpcs})),dn=(0,_.useCallback)(function(){var t=l()(o()().mark((function t(r){var a;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a=[],r.forEach((function(e){var t=e.nftImageUrl,r=e.tokenSymbol,n=e.projectName,s=e.mintPubkey;a.push({value:s,label:(0,F.jsxs)("div",{className:"flex items-center justify-between",children:[(0,F.jsxs)("div",{className:"flex items-center",children:[(0,F.jsx)(V.C,{className:"mr-2",size:"default",src:t}),(0,F.jsx)("div",{children:"".concat(r," - ").concat(n)})]}),(0,F.jsx)(I.k,{ellipsis:!0,tooltip:!1,address:s})]}),nftImageUrl:t,projectName:n,tokenSymbol:r,mintPubkey:s})})),e(D.N.setProjectsOption(a))}catch(e){(0,U.Tv)(e,n,"handleProjectsOption")}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),fn=(0,_.useCallback)(function(){var t=l()(o()().mark((function t(r){var a,s,c;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Ft(!0),t.next=4,(0,H.VY)({mintPubkey:r});case 4:return a=t.sent,s=nn.find((function(e){return e.mintPubkey===r})),c=[],a.forEach((function(e,t){var r=e.nft_pubkey,n=e.bump,a=e.mint_pubkey,i=e.owner_pubkey,o=e.nft_id,u=e.round,l=e.price,d=e.split_count,f=e.last_split,p=e.last_trade,m=e.create_time,h=e.unix_ts,v=e.is_burned,x=e.updated_at,b=l/(s.increasePerRound/1e4+1),j=l*s.profitRate/100,g=l>=s.splitNftPrice,y=z().unix(e.last_trade).utcOffset(8).format("YYYY-MM-DDTHH:mm:ss"),k=z().unix(e.last_trade).utcOffset(8).valueOf(),S=z().unix(e.last_trade).utcOffset(8).add(s.secToBurnNft,"seconds"),P=S.valueOf(),C=S.format("YYYY-MM-DDTHH:mm:ss");c.push({nftPubkey:r,bump:n,mintPubkey:a,ownerPubkey:i,nftId:o,round:u,price:l,splitCount:d,lastSplit:f,lastTrade:p,createTime:m,unixTs:h,isBurned:v,updatedAt:x,key:t,invest:b,profit:j,split:g,status:"",lastTradeLocalFormat:y,lastTradeLocalValue:k,burnTimeLocalValue:P,burnTimeLocalFormat:C})})),e(D.N.setCurrentProjectNftsDataSource(c)),e(D.N.setCurrentProjectDataSource(s)),Ft(!1),t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),Ft(!1),(0,U.Tv)(t.t0,n,"handleCurrentProjectNfts"),t.abrupt("return",[]);case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),[nn]),pn=(0,_.useCallback)(function(){var t=l()(o()().mark((function t(r){var a,s,c;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,H.mW)();case 3:return a=t.sent,t.next=6,(0,U.o8)(on);case 6:s=t.sent,a.sort((function(e,t){return t.volume_24h-e.volume_24h})),c=[],a.forEach((function(e,t){var r=e.project_pubkey,n=e.bump,a=e.creator_pubkey,s=e.mint_pubkey,i=e.authority_pubkey,o=e.project_name,u=e.project_desc,l=e.token_symbol,d=e.token_uri,f=e.init_token_supply,p=e.max_token_supply,m=e.init_nft_supply,h=e.max_nft_supply,v=e.token_per_nft,x=e.init_nft_price,b=e.increase_per_round,j=e.trade_fee_rate,g=e.sec_per_round,y=e.sec_to_burn_nft,k=e.nft_id,S=e.aid,P=e.nft_issue_count,C=e.nft_burn_count,w=e.round,_=e.last_round,N=e.create_time,Z=e.unix_ts,F=e.image_url,T=e.nft_name,O=e.nft_image_url,L=e.bgm_url,R=e.website,V=e.twitter,M=e.telegram,Y=e.discord,A=e.market_cap,E=e.fdv,D=e.circulation_supply,I=e.updated_at,H=e.project_mint,q=e.volume_24h,$=e.tx_24h,W=P-C,U=2*x,B=z().unix(e.last_round).utcOffset(8).format("YYYY-MM-DDTHH:mm:ss"),K=z().unix(e.last_round).utcOffset(8).valueOf(),J=z().utc(e.create_time).utcOffset(16).format("YYYY-MM-DDTHH:mm:ss"),G=z().utc(e.create_time).utcOffset(16).valueOf(),Q=b/100-(b/100+100)*(.01+j/1e4),X=86400/g*Q,ee=2592e3/g*Q,te=31536e3/g*Q,re=z().unix(e.last_round).utcOffset(8).add(g,"seconds"),ne=re.valueOf(),ae=re.format("YYYY-MM-DDTHH:mm:ss");c.push({projectPubkey:r,bump:n,creatorPubkey:a,mintPubkey:s,authorityPubkey:i,projectName:o,projectDesc:u,tokenSymbol:l,tokenUri:d,initTokenSupply:f,maxTokenSupply:p,initNftSupply:m,maxNftSupply:h,tokenPerNft:v,initNftPrice:x,increasePerRound:b,tradeFeeRate:j,secPerRound:g,secToBurnNft:y,nftId:k,aid:S,nftIssueCount:P,nftBurnCount:C,round:w,lastRound:_,createTime:N,unixTs:Z,imageUrl:F,nftName:T,nftImageUrl:O,bgmUrl:L,website:R,twitter:V,telegram:M,discord:Y,marketCap:A,fdv:E,circulationSupply:D,updatedAt:I,projectMint:H,volume24h:q,tx24h:$,key:t,nftSupply:W,splitNftPrice:U,profitRate:Q,profitRateYear:te,profitRateDay:X,profitRateMonth:ee,nextRoundLocalValue:ne,nextRoundLocalFormat:ae,lastRoundLocalFormat:B,lastRoundLocalValue:K,createTimeLocalFormat:J,createTimeLocalValue:G})})),$r(s),e(D.N.setProjects(a)),e(D.N.setProjectsDataSource(c)),r(!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),r(!1),(0,U.Tv)(t.t0,n,"handleGetProjects");case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}(),[]),mn=(0,E.useIntl)(),hn=mn.formatMessage({id:"common.intlInputException"}),vn=mn.formatMessage({id:"common.intlPleaseConnectWallet"}),xn=(0,_.useCallback)((function(){var e=0,t=0,r=0,n=0;for(var a in Zr.current)"success"===Zr.current[a].status?t+=1:"error"===Zr.current[a].status?r+=1:"processing"===Zr.current[a].status?n+=1:"default"===Zr.current[a].status&&(e+=1);T(t),re(r),fe(n),be(e)}),[]),bn=(0,_.useCallback)((function(){var e;null===(e=Fr.current)||void 0===e||e.resetFields(),Et(0)}),[xn]),jn=(0,_.useCallback)((function(e){var t,r=new Set;e.forEach((function(e){r.add(e.ownerPubkey)}));var n=Array.from(r),a={};n.forEach((function(e){a[e]=e})),null===(t=Fr.current)||void 0===t||t.setFieldValue("accountsCreate",void 0),gr(a)}),[]),gn=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,n;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},t.forEach((function(e){n[e.nftId]=String(e.nftId)})),null===(r=Fr.current)||void 0===r||r.setFieldValue("cidsCreate",void 0),wr(n),rr(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),yn=(0,_.useCallback)((function(e,t){var r=Math.min.apply(Math,c()(e.map((function(e){return e.profit}))));Ir(r*t/100),Kr(r)}),[]),kn=(0,_.useCallback)((function(e,t){if(1===t)e.sort((function(){return Math.random()-.5}));else if(2===t)e.sort((function(e,t){return e.price-t.price}));else if(3===t)e.sort((function(e,t){var r=e.price;return t.price-r}));else if(4===t)e.sort((function(e,t){return e.lastTradeLocalValue-t.lastTradeLocalValue}));else{if(5===t)return e.filter((function(e){return e.split}));if(6===t){var r,n=null===(r=Fr.current)||void 0===r?void 0:r.getFieldValue("accountsCreate");return n=n||[],e.filter((function(e){return n.includes(e.ownerPubkey)}))}if(7===t){var a,s=null===(a=Fr.current)||void 0===a?void 0:a.getFieldValue("accountsCreate");s=s||[];var c=e.filter((function(e){return s.includes(e.ownerPubkey)}));return c.sort((function(){return Math.random()-.5})),c}if(8===t){var i,o=null===(i=Fr.current)||void 0===i?void 0:i.getFieldValue("cidsCreate");return o=o||[],e.filter((function(e){return o.includes(e.nftId)}))}}return e}),[]),Sn=(0,_.useCallback)((function(e){var t,r=null===(t=Fr.current)||void 0===t?void 0:t.getFieldsValue(),n=r.pidCreate,a=r.wayCreate,s=r.tipCreate;if(n){var c=Number(a),i=kn(e,c),o=i.length;Et(o),$t(0),yn(i,s)}}),[]),Pn=(0,_.useCallback)((function(e){var t,r=null===(t=Fr.current)||void 0===t?void 0:t.getFieldsValue(),a=r.pidCreate,s=r.countCreate;if(a){var c,i=e.nftSupply;if(s>i)return n.error("购买数量超过当前项目最大值".concat(i)),void(null===(c=Fr.current)||void 0===c||c.setFieldValue("startCreate",1))}}),[]),Cn=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,n,a,s,c,i,u,l,d,f;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null===(r=Fr.current)||void 0===r?void 0:r.getFieldsValue(),c=s.pidCreate,i=null===(n=Fr.current)||void 0===n?void 0:n.getFieldsValue(),"6"===(u=i.wayCreate)||"7"===u?(null===(l=Fr.current)||void 0===l||l.setFieldValue("accountsCreate",void 0),gr({}),or(!1)):"8"===u&&(null===(d=Fr.current)||void 0===d||d.setFieldValue("cidsCreate",void 0),wr({}),mr(!1)),null===(a=Fr.current)||void 0===a||a.setFieldValue("wayCreate","1"),e.next=6,t(c);case 6:f=e.sent,Sn(f);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),wn=(0,_.useCallback)((function(e){var t,r,a=null===(t=Fr.current)||void 0===t?void 0:t.getFieldsValue(),s=a.wayCreate,c=a.pidCreate;"6"===s||"7"===s?c?(or(!0),jn(e)):(n.error("请先选择项目"),or(!0)):or(!1),"8"===s?c?(mr(!0),gn(e)):(n.error("请先选择项目"),mr(!0)):mr(!1),Sn(e),null===(r=Fr.current)||void 0===r||r.setFieldValue("countCreate",void 0)}),[]),_n=(0,_.useCallback)((function(e){var t,r=null===(t=Fr.current)||void 0===t?void 0:t.getFieldsValue(),n=r.wayCreate,a=r.pidCreate,s=r.tipCreate;if(!a)return Ir(0),void Kr(0);var c=Number(n),i=kn(e,c);yn(i,s)}),[]),Nn=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hasOwnProperty("pidCreate")&&Cn(fn),t.hasOwnProperty("countCreate")&&Pn(an),t.hasOwnProperty("wayCreate")&&wn(sn),t.hasOwnProperty("tipCreate")&&_n(sn);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[fn,an,sn]),Zn=(0,_.useCallback)((function(){Ft(!0),pn(Ft)}),[]),Fn=(0,_.useCallback)((function(e){var t,r,n=e.length;n?null===(t=Fr.current)||void 0===t||t.setFieldValue("countCreate",n):null===(r=Fr.current)||void 0===r||r.setFieldValue("countCreate",void 0);Et(n)}),[]),Tn=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,s,c,i,u,l,d,f,p,m,h,v,x,b,j,g,y,k,S,P,C,w,_,N,Z,F,T,O,L,R,V,M,Y,A,E,D,I,q,$,W,B,K,J,ee,te,re,ne,ae,se,ie,oe,ue,le;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Gr&&Qr&&tn){e.next=3;break}return e.abrupt("return",n.error(vn));case 3:if(Pt(!0),s=Gr,c=t.pidCreate,i=t.countCreate,u=t.startCreate,l=t.endCreate,d=t.wayCreate,f=c,p=Number(d),m=kn(sn,p),!(u>m.length)){e.next=11;break}throw Error("开始序号超过当前项目最大值".concat(m.length));case 11:if(!l){e.next=18;break}if(!(u>l)){e.next=14;break}throw Error("开始序号超过结束序号");case 14:h=m.length>l?l:m.length,m=m.slice(u-1,h),e.next=19;break;case 18:m=m.slice(u-1);case 19:return v=function(e){var t,r=0,n=a()(e);try{for(n.s();!(t=n.n()).done;){if(t.value.ownerPubkey!==s.toString()){if(r>=i)return r;if(r>=3e3)return r;r+=1}}}catch(e){n.e(e)}finally{n.f()}return r},x=v(m),"#####NonceCountAccount#####",e.next=24,X.PublicKey.createWithSeed(s,"#####NonceCountAccount#####",X.SystemProgram.programId);case 24:return b=e.sent,e.next=27,en.getAccountInfo(b);case 27:if(j=e.sent,g=[],y=[],k=0,j){e.next=33;break}throw Error("请先创建Nonce账号");case 33:if(k=Math.floor(j.lamports/1e6),!(x>k)){e.next=36;break}throw Error("Nonce账号数量不足，需要大于等于图片购买数量");case 36:S=0;case 37:if(!(S<k)){e.next=47;break}return P="#####NonceAccount".concat(S+1,"#####"),e.next=42,X.PublicKey.createWithSeed(s,P,X.SystemProgram.programId);case 42:C=e.sent,g.push(C);case 44:++S,e.next=37;break;case 47:if(!g.length){e.next=52;break}return e.next=50,en.getMultipleParsedAccounts(g);case 50:e.sent.value.forEach((function(e,t){y.push({key:t,nonceAccount:g[t],authority:new X.PublicKey(e.data.parsed.info.authority),blockhash:e.data.parsed.info.blockhash,status:e.data.parsed.type})}));case 52:return w=0,_=0,N=0,Z=[],e.next=58,(0,H.a4)(s.toString(),Xr);case 58:F=e.sent,T=F.user,O=T.referral,L=new G.$r(Q,new G.Y7(en,tn,G.Y7.defaultOptions())),R=a()(m),e.prev=63,R.s();case 65:if((V=R.n()).done){e.next=96;break}if(M=V.value,M.ownerPubkey!==s.toString()){e.next=70;break}return e.abrupt("continue",94);case 70:if(!(w>=i)){e.next=72;break}return e.abrupt("break",96);case 72:if(!(w>=3e3)){e.next=74;break}return e.abrupt("break",96);case 74:return w+=1,(Y=[]).push(X.SystemProgram.nonceAdvance({noncePubkey:y[N].nonceAccount,authorizedPubkey:y[N].authority})),A=M.nftPubkey,E=M.ownerPubkey,e.next=81,(0,H.EA)(L,A,E,s,an,O);case 81:return D=e.sent,Y.push(D),O&&(I=Number((.003*M.price).toFixed(0)),Y.push(X.SystemProgram.transfer({fromPubkey:s,toPubkey:new X.PublicKey("56d6qq9KAWcuUAHqPCK5yQAZ9PT5vqdCedJLiA5WaGgQ"),lamports:I}))),Y.push(X.SystemProgram.transfer({fromPubkey:s,toPubkey:new X.PublicKey(un[_]),lamports:Number(Dr.toFixed(0))})),q=new X.TransactionMessage({payerKey:s,recentBlockhash:y[N].blockhash,instructions:Y}).compileToLegacyMessage(),$=new X.VersionedTransaction(q),e.next=89,Qr($);case 89:W=e.sent,Z.push({instructions:Y,signedTransaction:W,signedTransactionRaw:ce.from(W.serialize()).toString("base64"),nft:M,cid:M.nftId,nftid:M.nftId,from:s}),$t(w),N=(N+1)%g.length,_=(_+1)%un.length;case 94:e.next=65;break;case 96:e.next=101;break;case 98:e.prev=98,e.t0=e.catch(63),R.e(e.t0);case 101:return e.prev=101,R.f(),e.finish(101);case 104:if(Z.length){e.next=108;break}return n.info("没有需要创建的内容"),Pt(!1),e.abrupt("return",!0);case 108:return B=0,K=[],J=[],Z.forEach((function(e){K.push(e.nft.nftId),J.push(e.nft.nftId),B+=e.nft.price})),ee=an.nftName,te=an.creatorPubkey,re=an.tokenSymbol,ne=s.toString(),ae=cn.includes(ne)?(0,U.uf)(B/X.LAMPORTS_PER_SOL,6,"SOL"):(0,U.uf)(1.003*B/X.LAMPORTS_PER_SOL,6,"SOL"),K.sort(),J.sort(),se={infos:{type:"buy",pid:f,creator:te,project_name:an.projectName,nft_name:ee,token_symbol:re,last_round:an.lastRoundLocalFormat,sec_per_round:an.secPerRound,from:s.toString(),way:p,start:K[0],end:K[K.length-1],count:Z.length,amount:ae,cid_array:K,nftid_array:J,tipFee:Dr},transactions:Z},ie=z()().format("YYYY-MM-DDTHH:mm:ss"),oe=JSON.stringify(se,null,2),ue="data:,".concat(oe),(le=document.createElement("a")).href=ue,le.download="".concat(re,"_").concat(f.slice(0,4),"_").concat(f.slice(-4),"_").concat(w,"_").concat(ie,"_buy.json"),le.click(),Yr(oe),null===(r=Fr.current)||void 0===r||r.setFieldValue("amountCreate",ae),n.success("创建完成"),Pt(!1),e.abrupt("return",!0);case 134:e.prev=134,e.t1=e.catch(0),$t(0),Pt(!1),(0,U.Tv)(e.t1,n,"handleFinishCreate");case 139:return e.abrupt("return",!0);case 140:case"end":return e.stop()}}),e,null,[[0,134],[63,98,101,104]])})));return function(t){return e.apply(this,arguments)}}(),[Gr,tn,Q,cn,an,sn,en,Dr,un,Xr,Qr]),On=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=l()(o()().mark((function e(t,r){var n,a,s,c;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Zr.current[t.cid].status="processing",xn(),a=r%ln.length,s=ln[a]+"/api/v1/transactions?bundleOnly=true",e.next=7,ne().post(s,{jsonrpc:"2.0",id:"1",method:"sendTransaction",params:[t.signedTransactionBase64,{encoding:"base64"}]});case 7:null!=(c=e.sent)&&null!==(n=c.data)&&void 0!==n&&n.result?Zr.current[t.cid].status="success":ie.push({cid:t.cid,error:JSON.stringify(c),pos:"catch"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),Zr.current[t.cid].status="error",ie.push({cid:t.cid,error:JSON.stringify(e.t0),pos:"catch"});case 15:xn();case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[en,xn,ln]),Ln=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Ze.length){e.next=3;break}return n.error("交易信息为空"),e.abrupt("return",!1);case 3:return r=t.disorderSend,e.prev=4,r?Ze.sort((function(){return Math.random()-.5})):Ze.sort((function(e,t){return e.cid-t.cid})),On(Ze),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(4),(0,U.Tv)(e.t0,n,"handleFinishSend");case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),[Ze,On]),Rn=(0,_.useCallback)((function(){var e;null===(e=Tr.current)||void 0===e||e.resetFields(),C([]),re(0),T(0),fe(0),be(0),Fe([]),Me(""),De(""),ze(""),Qe(0),Be(0),Zr.current={},ft({}),ct({}),Pe(0),xn(),Lr.current=!0}),[xn]),Vn=(0,_.useCallback)((function(e,t){var r=z()(e).add(t,"seconds").valueOf();Qe(r)}),[]),Mn=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,a,s,c,i,u,l,d,f;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hasOwnProperty("fixedTimeSend")&&(a=null===(r=Tr.current)||void 0===r?void 0:r.getFieldsValue(),s=a.fixedTimeSend,c=a.targetTimeSend,s?null===(i=Tr.current)||void 0===i||i.validateFields().catch((function(e){var t,r;e.errorFields.length?(null===(t=Tr.current)||void 0===t||t.setFieldValue("fixedTimeSend",!1),n.error("输入异常")):c?(Qe(z()(c).valueOf()),Me(z()(c).format("YYYY-MM-DDTHH:mm:ss"))):(null===(r=Tr.current)||void 0===r||r.setFieldValue("fixedTimeSend",!1),n.error("请先设置发送时间"))})):(Vn(qe,Ue),Me(Ee))),t.hasOwnProperty("targetTimeSend")&&(l=null===(u=Tr.current)||void 0===u?void 0:u.getFieldsValue(),d=l.fixedTimeSend,f=l.targetTimeSend,d&&(Qe(z()(f).valueOf()),Me(z()(f).format("YYYY-MM-DDTHH:mm:ss"))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,qe,Ue,Ee,Vn]),Yn=(0,_.useCallback)(l()(o()().mark((function e(){var t,r,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ze.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,bt(!0),t={},e.next=7,(0,H.VY)({mintPubkey:st.pid});case 7:r=e.sent,a=0,Ze.forEach((function(e){var n=e.from,s=e.cid,c=r.find((function(t){return t.nft_id===e.cid}));c&&c.owner_pubkey===n?(t[s]="success",a+=1):t[s]="default"})),Pe(a),ft(t),bt(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),bt(!1),(0,U.Tv)(e.t0,n,"handleCheckOwnCountSend");case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),[n,st,Ze]),An=(0,_.useCallback)((function(){var e=z()().format("YYYY-MM-DDTHH:mm:ss"),t=JSON.stringify(ie,null,2),r="data:,".concat(t),n=document.createElement("a");n.href=r,n.download="log_".concat(e,".json"),n.click()}),[]),En=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){var r,s,c,i,u,l,d,f,p,m,h,v,x,b;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=18;break}return Zr.current={},ft({}),re(0),T(0),fe(0),be(0),Fe([]),Me(""),De(""),ze(""),Qe(0),Be(0),ct({}),Pe(0),null===(r=Tr.current)||void 0===r||r.setFieldValue("amountSend",""),Lr.current=!0,e.abrupt("return");case 18:e.prev=18,c=[],i=new Set,u=[],l={},d=0,f={infos:{},transactions:[]},p=a()(t),e.prev=26,h=o()().mark((function e(){var t,r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.value,e.next=3,new Promise((function(e){var r=new FileReader;r.readAsText(t.originFileObj),r.onload=function(){return e(r.result)}}));case 3:r=e.sent,(f=JSON.parse(r)).transactions.forEach((function(e){i.has(e.cid)||(u.push(e),i.add(e.cid))}));case 6:case"end":return e.stop()}}),e)})),p.s();case 29:if((m=p.n()).done){e.next=33;break}return e.delegateYield(h(),"t0",31);case 31:e.next=29;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(26),p.e(e.t1);case 38:return e.prev=38,p.f(),e.finish(38);case 41:v=f.infos.last_round,x=f.infos.sec_per_round,d=f.infos.amount,b=z()(v).add(x,"seconds").format("YYYY-MM-DDTHH:mm:ss"),Vn(v,x),u.forEach((function(e){var t=e.signedTransactionRaw,r=ce.from(e.signedTransactionRaw,"base64");c.push({cid:e.cid,nftid:e.nftid,from:e.from,signedTransaction:r,signedTransactionBase64:t}),l[e.cid]={status:"default",message:""}})),null===(s=Tr.current)||void 0===s||s.setFieldValue("amountSend",d),Zr.current=l,ft({}),re(0),T(0),fe(0),be(c.length),Fe(c),Me(b),De(b),Be(x),ze(v),ct(f.infos),Pe(0),Lr.current=!0,e.next=67;break;case 64:e.prev=64,e.t2=e.catch(18),(0,U.Tv)(e.t2,n,"handleFileList");case 67:case"end":return e.stop()}}),e,null,[[18,64],[26,35,38,41]])})));return function(t){return e.apply(this,arguments)}}(),[Vn]),Dn=(0,_.useCallback)(function(){var e=l()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("removed"!==t.file.status){e.next=4;break}return C(t.fileList),En(t.fileList),e.abrupt("return");case 4:(r=new FileReader).readAsText(t.fileList[t.fileList.length-1].originFileObj),r.onload=function(){try{var e=JSON.parse(r.result);e?e.hasOwnProperty("infos")&&"buy"===e.infos.type?(C(t.fileList),En(t.fileList),n.success("上传成功")):n.error("文件类型错误"):n.error("上传失败")}catch(e){(0,U.Tv)(e,n,"handleUpload")}};case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[En]),In=(0,_.useCallback)((function(){var e;if(null!==(e=Tr.current)&&void 0!==e&&e.getFieldValue("autoSend")){if(0===Ze.length)return n.error("交易信息为空"),!1;var t=Tr.current.getFieldsValue(),r=t.disorderSend,a=t.repeatSend,s=t.intervalSend;try{r?Ze.sort((function(){return Math.random()-.5})):Ze.sort((function(e,t){return e.cid-t.cid})),On(Ze);for(var c=1;c<a;c++)setTimeout(On,s*c,Ze);return!0}catch(e){(0,U.Tv)(e,n,"handleCountDownFinishSend")}}}),[Ze,On]),Hn=(0,_.useCallback)((function(e){var t,r,n=null===(t=Tr.current)||void 0===t?void 0:t.getFieldValue("leadTimeSend");n&&e<n&&Lr.current&&(Lr.current=!1,null===(r=Tr.current)||void 0===r||r.submit())}),[]),qn=(0,_.useMemo)((function(){var e=(0,U.uf)(Dr/X.LAMPORTS_PER_SOL,8,"SOL"),t=(0,U.uf)(Dr/X.LAMPORTS_PER_SOL*zr,6);return zr?"每张图GAS费用：".concat(e,"，$").concat(t," "):"每张图GAS费用：".concat(e)}),[Dr,zr]),zn=(0,_.useMemo)((function(){var e=(0,U.uf)(Br/X.LAMPORTS_PER_SOL,8,"SOL"),t=(0,U.uf)(Br/X.LAMPORTS_PER_SOL*zr,6);return zr?"最小图片利润：".concat(e,"，$").concat(t):"最小图片利润：".concat(e)}),[Dr,zr]),$n=(0,_.useCallback)((function(){se()(Mr)?n.success("复制成功"):n.error("复制失败")}),[Mr]);return(0,_.useEffect)((function(){Ft(!0),pn(Ft)}),[]),(0,_.useEffect)((function(){nn.length&&dn(nn)}),[nn]),(0,F.jsx)(v._z,{className:"",ghost:!0,children:(0,F.jsxs)("div",{className:"flex flex-wrap justify-center gap-5",children:[(0,F.jsxs)(x.Z,{title:(0,F.jsx)("div",{className:" font-semibold text-lg hardline",children:"使用说明"}),style:{maxWidth:"400px"},children:[(0,F.jsx)("div",{children:"1. 操作步骤如下："}),(0,F.jsxs)("div",{className:"ml-3 mt-2",children:["1）打开“PPP-简易钱包”页面 ",(0,F.jsx)(p.Z,{})," 创建钱包 ",(0,F.jsx)(p.Z,{})," 选择钱包 ",(0,F.jsx)(p.Z,{})," 创建地址 ",(0,F.jsx)(p.Z,{})," 用手机钱包转账SOL给地址 ",(0,F.jsx)(p.Z,{})," 刷新后重新选择钱包，查看账号是否已生成；"]}),(0,F.jsxs)("div",{className:"ml-3 mt-2",children:["2）打开“PPP-Nonce账号”页面 ",(0,F.jsx)(p.Z,{})," 点击页面右上角“连接钱包” ",(0,F.jsx)(p.Z,{})," 选择“Simple Wallet” ",(0,F.jsx)(p.Z,{})," 输入钱包，账号和密码 ",(0,F.jsx)(p.Z,{})," 创建Nonce账号，按照你要抢图的数量来创建；"]}),(0,F.jsxs)("div",{className:"ml-3 mt-2",children:["3）打开“PPP-批量抢图”页面 ",(0,F.jsx)(p.Z,{})," 创建交易表单输入：项目，购买方式，购买数量，开始序号，每张图GAS费用 ",(0,F.jsx)(p.Z,{})," 点击“创建”按钮进行创建 ",(0,F.jsx)(p.Z,{})," 保存好交易文件；"]}),(0,F.jsxs)("div",{className:"ml-3 mt-2",children:["4）打开“PPP-批量抢图”页面 ",(0,F.jsx)(p.Z,{})," 发送交易表单，交易文件栏位输入刚才生成的交易文件 ",(0,F.jsx)(p.Z,{})," 等待倒计时结整即可，其它输入按需进行修改，发送设备要保持工作状态；"]}),(0,F.jsx)("div",{className:"ml-3 mt-2",children:"5）倒计时结束后会自动进行发送，发送完成后可点击“校验”按钮进行检查， 或者到链上浏览器去检查。"}),(0,F.jsx)("div",{className:"mt-3",children:"2. 注意事项："}),(0,F.jsx)("div",{className:"ml-3",children:"1）交易文件需要提前生成"}),(0,F.jsx)("div",{className:"ml-3",children:"2）Nonce账号的数量需要根据你一次性抢多少图来决定，例如你想一次性抢10，就需要创建10个Nonce账号，只需要创建一次，账号可重复使用，也可以随时回收；"}),(0,F.jsx)("div",{className:"ml-3",children:"3）关于GAS费用的设置，查看最近抢图的交易记录，根据交易信息中“Priority Fee”的大小来设置合理的值。"}),(0,F.jsx)("div",{className:"mt-3",children:"3. 费用说明："}),(0,F.jsx)("div",{className:"ml-3",children:"使用工具抢到的NFT，每个收取0.3%费用。例如工具抢到一个价值为0.1 SOL的NFT，则工具会收取0.0003 SOL作为费用，抢购成功了，才会收取。"})]}),(0,F.jsx)(x.Z,{title:(0,F.jsx)("div",{className:" font-semibold text-lg hardline",children:"创建交易"}),style:{width:"400px"},children:(0,F.jsxs)(b.A,{formRef:Fr,onFinish:Tn,onReset:bn,onValuesChange:Nn,layout:"vertical",loading:St,initialValues:{startCreate:1,wayCreate:"1",tipCreate:.1},submitter:{searchConfig:{submitText:"创建"},render:function(e,t){return[t[1],(0,F.jsx)(M.ZP,{onClick:$n,children:"复制"},"copy"),t[0],(0,F.jsx)("div",{children:zt||""},"sign")]}},children:[(0,F.jsx)(j.Z,{name:"pidCreate",label:(0,F.jsxs)("div",{children:["项目",(0,F.jsx)(m.Z,{spin:Zt,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:Zn})]}),options:rn,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(hn),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,filterOption:function(e,t){return(t.projectName+t.tokenSymbol).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var t=e.projectName,r=e.tokenSymbol,n=e.nftImageUrl,a=e.mintPubkey;return(0,F.jsxs)("div",{className:"flex items-center justify-between",children:[(0,F.jsxs)("div",{className:"flex items-center",children:[(0,F.jsx)(V.C,{className:"mr-2",size:"default",src:n}),(0,U.Mn)()?(0,F.jsx)("div",{children:"".concat(r)}):(0,F.jsx)("div",{children:"".concat(r," - ").concat((0,U.LH)(t))})]}),(0,F.jsx)(I.k,{ellipsis:!0,tooltip:!1,address:a})]})}}}),(0,F.jsx)(j.Z,{name:"wayCreate",label:"购买方式",valueEnum:{1:"1 随机",2:"2 价格低到高",3:"3 价格高到低",4:"4 时间优先",5:"5 只抢拆分",6:"6 指定账号(顺序)",7:"7 指定账号(随机)",8:"8 指定序号"},placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(hn),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,defaultValue:"1"}}),!!ir&&(0,F.jsx)(j.Z,{name:"accountsCreate",label:(0,F.jsxs)("div",{children:["选择账号",(0,F.jsx)(m.Z,{spin:Jt,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:function(){return jn(sn)}})]}),valueEnum:jr,fieldProps:{mode:"multiple"},placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(hn),pattern:/^.+$/}]}),!!pr&&(0,F.jsx)(j.Z,{name:"cidsCreate",label:(0,F.jsxs)("div",{children:["选择序号",(0,F.jsx)(m.Z,{spin:tr,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:function(){return gn(sn)}})]}),valueEnum:Cr,onChange:Fn,fieldProps:{mode:"multiple"},placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(hn),pattern:/^.+$/}]}),(0,F.jsx)(g.Z,{name:"countCreate",label:(0,F.jsxs)("div",{children:[(0,F.jsx)("span",{children:"购买数量 "}),(0,F.jsx)("span",{className:"hover:cursor-pointer",style:{color:"#1677ff"},onClick:function(){var e,t;null===(e=Fr.current)||void 0===e||e.setFieldValue("countCreate",At),null===(t=Fr.current)||void 0===t||t.validateFields(["countCreate"])},children:At?"(".concat(At,")"):""}),(0,F.jsx)(m.Z,{spin:Lt,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:function(){return Sn(sn)}})]}),placeholder:"",min:1,rules:[{required:!0,message:"".concat(hn),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,F.jsx)(g.Z,{name:"startCreate",label:(0,F.jsxs)("div",{children:["开始序号#",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"从具体某个序号开始进行购买",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",min:1,rules:[{required:!0,message:"".concat(hn),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1}}),(0,F.jsx)(g.Z,{name:"endCreate",label:(0,F.jsxs)("div",{children:["结束序号#",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"只购买当前序号之前的NFT",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"可选，默认是当前序号的最大值",min:1,rules:[{required:!1,message:"".concat(hn),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,F.jsx)(y.Z,{name:"tipCreate",label:qn,min:.1,max:50,fieldProps:{tooltip:{formatter:function(e){return"".concat(e,"%")}}},rules:[{required:!0,whitespace:!0,message:"".concat(hn),pattern:/^.*$/}],help:(0,F.jsx)("div",{className:"text-red-600 mb-5",children:zn})}),(0,F.jsx)(k.Z,{name:"amountCreate",label:(0,F.jsxs)("div",{children:["总金额",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"此次全部交易所需要的总金额，包含手续费。",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"自动生成，无需输入",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}})]})}),(0,F.jsx)(x.Z,{title:(0,F.jsx)("div",{className:" font-semibold text-lg hardline",children:"发送交易"}),style:{width:"400px"},children:(0,F.jsxs)(b.A,{formRef:Tr,onFinish:Ln,onReset:Rn,onValuesChange:Mn,submitter:{searchConfig:{submitText:"发送"},render:function(e,t){return[t[1],(0,F.jsx)(M.ZP,{loading:xt,onClick:Yn,children:"校对"},"check"),(0,F.jsx)(M.ZP,{onClick:An,children:"日志"},"log"),t[0]]}},initialValues:{disorderSend:!0,autoSend:!0,repeatSend:3,intervalSend:1e3,leadTimeSend:0,fixedTimeSend:!1},children:[(0,F.jsx)(S.Z,{label:"交易文件",name:"transactionInfo",action:"upload.do",fieldProps:{accept:".json",onChange:Dn,beforeUpload:function(){return!1},listType:"picture",onPreview:function(e){return Or.current.handleOpen(e)},fileList:d},rules:[{required:!0,whitespace:!0,message:"".concat(hn),pattern:/.*/}]}),(0,F.jsx)(g.Z,{label:(0,F.jsxs)("div",{children:["整体重复发送次数",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"整体全部发送完成算一次，这里指定重复次数。重复发送失败了，不会影响金额",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"repeatSend",placeholder:"",min:1,rules:[{required:!0,message:"".concat(hn),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:3}}),(0,F.jsx)(g.Z,{label:(0,F.jsxs)("div",{children:["整体重复发送间隔(毫秒)",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"整体全部发送完成算一次，这里指定重复的间隔时间",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"intervalSend",placeholder:"",min:300,rules:[{required:!0,message:"".concat(hn),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1e3}}),(0,F.jsx)(g.Z,{label:(0,F.jsxs)("div",{children:["提前发送时间(毫秒)",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"在下一轮开始前多少毫秒发送交易",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"leadTimeSend",placeholder:"",max:2e3,min:0,rules:[{required:!0,message:"".concat(hn),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:0}}),(0,F.jsx)(P.Z,{name:"disorderSend",label:(0,F.jsxs)("div",{children:["是否乱序",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"是否以乱序的方式来发送交易",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(hn),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,F.jsx)(P.Z,{name:"autoSend",label:(0,F.jsxs)("div",{children:["是否自动发送",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"倒计时结束后，是否自动发送交易。开启与否，不影响手动操作来发",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(hn),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,F.jsx)(P.Z,{name:"fixedTimeSend",label:(0,F.jsxs)("div",{children:["是否指定发送时间",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(hn),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!1}}),(0,F.jsx)(L,{name:"targetTimeSend",label:(0,F.jsxs)("div",{children:["指定发送时间",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"在指定时间点自动进行交易操作",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",rules:[{required:!1,whitespace:!0,message:"".concat(hn),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1},width:"100%"}),(0,F.jsx)(k.Z,{name:"amountSend",label:(0,F.jsxs)("div",{children:["总金额",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"此次全部交易所需要的总金额，包含手续费",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"自动生成，无需输入",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,F.jsx)(b.A.Item,{label:(0,F.jsxs)("div",{className:" font-semibold text-lg ",children:[(0,F.jsx)("span",{className:"hardline",children:"倒计时 "}),st.pid?"(".concat(st.token_symbol," ").concat(st.pid.slice(0,4),"...").concat(st.pid.slice(-4),")"):""]}),children:(0,F.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,F.jsx)(ee.Wo,{className:"text-2xl",value:Ge,onFinish:In,onChange:Hn}),(0,F.jsx)("div",{className:"text-2xl",children:"".concat(Ve)})]})}),(0,F.jsxs)(b.A.Item,{label:(0,F.jsxs)("div",{className:" font-semibold text-lg hardline",children:[(0,F.jsx)("span",{children:"结果 "}),Ze.length?"(".concat(Ze.length,")"):""]}),children:[(0,F.jsx)("div",{children:"完成：".concat(Z,"，处理中：").concat(de,"，待处理：").concat(xe)}),!!Ze.length&&(0,F.jsx)("div",{className:"flex flex-wrap gap-5 mt-3",children:Object.keys(Zr.current).map((function(e,t){return(0,F.jsx)(A.Z,{color:Zr.current[e].status,children:"#".concat(e)},t)}))})]}),(0,F.jsxs)(b.A.Item,{label:(0,F.jsx)("div",{className:" font-semibold text-lg hardline",children:(0,F.jsxs)("div",{children:[(0,F.jsx)("span",{children:"校对 "}),Ze.length?"(".concat(Ze.length,")"):"",(0,F.jsx)(Y.Z,{placement:"topLeft",title:"交易结束后，可点击校对按钮，判断交易结果是否跟链上数据匹配",children:(0,F.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]})}),children:[(0,F.jsx)("div",{children:"拥有：".concat(Se)}),!!Ze.length&&(0,F.jsx)("div",{className:"flex flex-wrap gap-5 mt-3",children:Object.keys(dt).map((function(e,t){return(0,F.jsx)(A.Z,{color:dt[e],children:"#".concat(e)},t)}))})]})]})}),(0,F.jsx)(te.VY,{ref:Or}),s]})})}}}]);