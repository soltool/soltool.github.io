(self.webpackChunk=self.webpackChunk||[]).push([[1150],{91604:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n(1413),o=n(87462),i=n(67294),s={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},a=n(84089),c=function(t,e){return i.createElement(a.Z,(0,o.Z)({},t,{ref:e,icon:s}))};var u=i.forwardRef(c),l=n(21532),d=n(2058),h=n(9105),f=n(90789),p=n(85893),_=i.forwardRef((function(t,e){var n,o=t.fieldProps,s=t.title,a=void 0===s?"单击或拖动文件到此区域进行上传":s,c=t.icon,f=void 0===c?(0,p.jsx)(u,{}):c,_=t.description,m=void 0===_?"支持单次或批量上传":_,y=t.action,g=t.accept,w=t.onChange,R=t.value,v=t.children,E=t.max,b=t.proFieldProps,A=(0,i.useContext)(l.ZP.ConfigContext),O=(0,i.useContext)(h.A),N=(null==b?void 0:b.mode)||O.mode||"edit",T=A.getPrefixCls("upload"),I=(void 0===E||!R||(null==R?void 0:R.length)<E)&&"read"!==N&&!0!==(null==b?void 0:b.readonly);return(0,p.jsxs)(d.Z.Dragger,(0,r.Z)((0,r.Z)({ref:e,name:"files",action:y,accept:g,fileList:R},o),{},{onChange:function(t){null==w||w(t),null!=o&&o.onChange&&(null==o||o.onChange(t))},style:(0,r.Z)((0,r.Z)({flexDirection:"column",alignItems:"center"},null==o?void 0:o.style),{},{display:I?(null==o||null===(n=o.style)||void 0===n?void 0:n.display)||"flex":"none"}),children:[(0,p.jsx)("p",{className:"".concat(T,"-drag-icon"),children:f}),(0,p.jsx)("p",{className:"".concat(T,"-text"),children:a}),(0,p.jsx)("p",{className:"".concat(T,"-hint"),children:m}),v?(0,p.jsx)("div",{className:"".concat(T,"-extra"),style:{padding:16},children:v}):null]}))})),m=(0,f.G)(_,{getValueFromEvent:function(t){return t.fileList}})},30527:function(t,e,n){"use strict";n.d(e,{Y7:function(){return Rr},_r:function(){return Ls},$r:function(){return xs}});var r=n(48764),o=n(29363),i=n(13550),s=n.n(i),a=n(8633),c=n.n(a),u=n(84037),l=n.n(u),d=n(15970);n(17748);function h(t){let e=t.length;for(;--e>=0;)t[e]=0}const f=256,p=286,_=30,m=15,y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),g=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),w=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=new Array(576);h(v);const E=new Array(60);h(E);const b=new Array(512);h(b);const A=new Array(256);h(A);const O=new Array(29);h(O);const N=new Array(_);function T(t,e,n,r,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=t&&t.length}let I,C,S;function x(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}h(N);const k=t=>t<256?b[t]:b[256+(t>>>7)],D=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},L=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,D(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},P=(t,e,n)=>{L(t,n[2*e],n[2*e+1])},M=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},U=(t,e,n)=>{const r=new Array(16);let o,i,s=0;for(o=1;o<=m;o++)s=s+n[o-1]<<1,r[o]=s;for(i=0;i<=e;i++){let e=t[2*i+1];0!==e&&(t[2*i]=M(r[e]++,e))}},H=t=>{let e;for(e=0;e<p;e++)t.dyn_ltree[2*e]=0;for(e=0;e<_;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},z=t=>{t.bi_valid>8?D(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},B=(t,e,n,r)=>{const o=2*e,i=2*n;return t[o]<t[i]||t[o]===t[i]&&r[e]<=r[n]},j=(t,e,n)=>{const r=t.heap[n];let o=n<<1;for(;o<=t.heap_len&&(o<t.heap_len&&B(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!B(e,r,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=r},F=(t,e,n)=>{let r,o,i,s,a=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+a++],r+=(255&t.pending_buf[t.sym_buf+a++])<<8,o=t.pending_buf[t.sym_buf+a++],0===r?P(t,o,e):(i=A[o],P(t,i+f+1,e),s=y[i],0!==s&&(o-=O[i],L(t,o,s)),r--,i=k(r),P(t,i,n),s=g[i],0!==s&&(r-=N[i],L(t,r,s)))}while(a<t.sym_next);P(t,256,e)},G=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,i=e.stat_desc.elems;let s,a,c,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<i;s++)0!==n[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,n[2*c]=1,t.depth[c]=0,t.opt_len--,o&&(t.static_len-=r[2*c+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)j(t,n,s);c=i;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],j(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*c]=n[2*s]+n[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=c,t.heap[1]=c++,j(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,o=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,d,h,f,p,_=0;for(h=0;h<=m;h++)t.bl_count[h]=0;for(n[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)l=t.heap[u],h=n[2*n[2*l+1]+1]+1,h>c&&(h=c,_++),n[2*l+1]=h,l>r||(t.bl_count[h]++,f=0,l>=a&&(f=s[l-a]),p=n[2*l],t.opt_len+=p*(h+f),i&&(t.static_len+=p*(o[2*l+1]+f)));if(0!==_){do{for(h=c-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[c]--,_-=2}while(_>0);for(h=c;0!==h;h--)for(l=t.bl_count[h];0!==l;)d=t.heap[--u],d>r||(n[2*d+1]!==h&&(t.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),l--)}})(t,e),U(n,u,t.bl_count)},V=(t,e,n)=>{let r,o,i=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=s,s=e[2*(r+1)+1],++a<c&&o===s||(a<u?t.bl_tree[2*o]+=a:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,i=o,0===s?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4))},$=(t,e,n)=>{let r,o,i=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),r=0;r<=n;r++)if(o=s,s=e[2*(r+1)+1],!(++a<c&&o===s)){if(a<u)do{P(t,o,t.bl_tree)}while(0!=--a);else 0!==o?(o!==i&&(P(t,o,t.bl_tree),a--),P(t,16,t.bl_tree),L(t,a-3,2)):a<=10?(P(t,17,t.bl_tree),L(t,a-3,3)):(P(t,18,t.bl_tree),L(t,a-11,7));a=0,i=o,0===s?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4)}};let Z=!1;const K=(t,e,n,r)=>{L(t,0+(r?1:0),3),z(t),D(t,n),D(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var q=t=>{Z||((()=>{let t,e,n,r,o;const i=new Array(16);for(n=0,r=0;r<28;r++)for(O[r]=n,t=0;t<1<<y[r];t++)A[n++]=r;for(A[n-1]=r,o=0,r=0;r<16;r++)for(N[r]=o,t=0;t<1<<g[r];t++)b[o++]=r;for(o>>=7;r<_;r++)for(N[r]=o<<7,t=0;t<1<<g[r]-7;t++)b[256+o++]=r;for(e=0;e<=m;e++)i[e]=0;for(t=0;t<=143;)v[2*t+1]=8,t++,i[8]++;for(;t<=255;)v[2*t+1]=9,t++,i[9]++;for(;t<=279;)v[2*t+1]=7,t++,i[7]++;for(;t<=287;)v[2*t+1]=8,t++,i[8]++;for(U(v,287,i),t=0;t<_;t++)E[2*t+1]=5,E[2*t]=M(t,5);I=new T(v,y,257,p,m),C=new T(E,g,0,_,m),S=new T(new Array(0),w,0,19,7)})(),Z=!0),t.l_desc=new x(t.dyn_ltree,I),t.d_desc=new x(t.dyn_dtree,C),t.bl_desc=new x(t.bl_tree,S),t.bi_buf=0,t.bi_valid=0,H(t)},W=(t,e,n,r)=>{let o,i,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<f;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),G(t,t.l_desc),G(t,t.d_desc),s=(t=>{let e;for(V(t,t.dyn_ltree,t.l_desc.max_code),V(t,t.dyn_dtree,t.d_desc.max_code),G(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*R[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==e?K(t,e,n,r):4===t.strategy||i===o?(L(t,2+(r?1:0),3),F(t,v,E)):(L(t,4+(r?1:0),3),((t,e,n,r)=>{let o;for(L(t,e-257,5),L(t,n-1,5),L(t,r-4,4),o=0;o<r;o++)L(t,t.bl_tree[2*R[o]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),F(t,t.dyn_ltree,t.dyn_dtree)),H(t),r&&z(t)},X=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(A[n]+f+1)]++,t.dyn_dtree[2*k(e)]++),t.sym_next===t.sym_end),Y={_tr_init:q,_tr_stored_block:K,_tr_flush_block:W,_tr_tally:X,_tr_align:t=>{L(t,2,3),P(t,256,v),(t=>{16===t.bi_valid?(D(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var Q=(t,e,n,r)=>{let o=65535&t|0,i=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{o=o+e[r++]|0,i=i+o|0}while(--s);o%=65521,i%=65521}return o|i<<16|0};const J=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var tt=(t,e,n,r)=>{const o=J,i=r+n;t^=-1;for(let n=r;n<i;n++)t=t>>>8^o[255&(t^e[n])];return-1^t},et={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:rt,_tr_stored_block:ot,_tr_flush_block:it,_tr_tally:st,_tr_align:at}=Y,{Z_NO_FLUSH:ct,Z_PARTIAL_FLUSH:ut,Z_FULL_FLUSH:lt,Z_FINISH:dt,Z_BLOCK:ht,Z_OK:ft,Z_STREAM_END:pt,Z_STREAM_ERROR:_t,Z_DATA_ERROR:mt,Z_BUF_ERROR:yt,Z_DEFAULT_COMPRESSION:gt,Z_FILTERED:wt,Z_HUFFMAN_ONLY:Rt,Z_RLE:vt,Z_FIXED:Et,Z_DEFAULT_STRATEGY:bt,Z_UNKNOWN:At,Z_DEFLATED:Ot}=nt,Nt=258,Tt=262,It=42,Ct=113,St=666,xt=(t,e)=>(t.msg=et[e],e),kt=t=>2*t-(t>4?9:0),Dt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Lt=t=>{let e,n,r,o=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=o?n-o:0}while(--e);e=o,r=e;do{n=t.prev[--r],t.prev[r]=n>=o?n-o:0}while(--e)};let Pt=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Mt=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Ut=(t,e)=>{it(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Mt(t.strm)},Ht=(t,e)=>{t.pending_buf[t.pending++]=e},zt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Bt=(t,e,n,r)=>{let o=t.avail_in;return o>r&&(o=r),0===o?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),n),1===t.state.wrap?t.adler=Q(t.adler,e,o,n):2===t.state.wrap&&(t.adler=tt(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)},jt=(t,e)=>{let n,r,o=t.max_chain_length,i=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-Tt?t.strstart-(t.w_size-Tt):0,u=t.window,l=t.w_mask,d=t.prev,h=t.strstart+Nt;let f=u[i+s-1],p=u[i+s];t.prev_length>=t.good_match&&(o>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,u[n+s]===p&&u[n+s-1]===f&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<h);if(r=Nt-(h-i),i=h-Nt,r>s){if(t.match_start=e,s=r,r>=a)break;f=u[i+s-1],p=u[i+s]}}}while((e=d[e&l])>c&&0!=--o);return s<=t.lookahead?s:t.lookahead},Ft=t=>{const e=t.w_size;let n,r,o;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Tt)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Lt(t),r+=e),0===t.strm.avail_in)break;if(n=Bt(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=Pt(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=Pt(t,t.ins_h,t.window[o+3-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Tt&&0!==t.strm.avail_in)},Gt=(t,e)=>{let n,r,o,i=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o)break;if(o=t.strm.avail_out-o,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>o&&(n=o),n<i&&(0===n&&e!==dt||e===ct||n!==r+t.strm.avail_in))break;s=e===dt&&n===r+t.strm.avail_in?1:0,ot(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Mt(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(Bt(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==ct&&e!==dt&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(Bt(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,i=o>t.w_size?t.w_size:o,r=t.strstart-t.block_start,(r>=i||(r||e===dt)&&e!==ct&&0===t.strm.avail_in&&r<=o)&&(n=r>o?o:r,s=e===dt&&0===t.strm.avail_in&&n===r?1:0,ot(t,t.block_start,n,s),t.block_start+=n,Mt(t.strm)),s?3:1)},Vt=(t,e)=>{let n,r;for(;;){if(t.lookahead<Tt){if(Ft(t),t.lookahead<Tt&&e===ct)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Pt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Tt&&(t.match_length=jt(t,n)),t.match_length>=3)if(r=st(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Pt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Pt(t,t.ins_h,t.window[t.strstart+1]);else r=st(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===dt?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2},$t=(t,e)=>{let n,r,o;for(;;){if(t.lookahead<Tt){if(Ft(t),t.lookahead<Tt&&e===ct)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Pt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Tt&&(t.match_length=jt(t,n),t.match_length<=5&&(t.strategy===wt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-3,r=st(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=Pt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=st(t,0,t.window[t.strstart-1]),r&&Ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=st(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===dt?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2};function Zt(t,e,n,r,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=o}const Kt=[new Zt(0,0,0,0,Gt),new Zt(4,4,8,4,Vt),new Zt(4,5,16,8,Vt),new Zt(4,6,32,32,Vt),new Zt(4,4,16,16,$t),new Zt(8,16,32,32,$t),new Zt(8,16,128,128,$t),new Zt(8,32,128,256,$t),new Zt(32,128,258,1024,$t),new Zt(32,258,258,4096,$t)];function qt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Dt(this.dyn_ltree),Dt(this.dyn_dtree),Dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Dt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Wt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==It&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Ct&&e.status!==St?1:0},Xt=t=>{if(Wt(t))return xt(t,_t);t.total_in=t.total_out=0,t.data_type=At;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?It:Ct,t.adler=2===e.wrap?0:1,e.last_flush=-2,rt(e),ft},Yt=t=>{const e=Xt(t);var n;return e===ft&&((n=t.state).window_size=2*n.w_size,Dt(n.head),n.max_lazy_match=Kt[n.level].max_lazy,n.good_match=Kt[n.level].good_length,n.nice_match=Kt[n.level].nice_length,n.max_chain_length=Kt[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},Qt=(t,e,n,r,o,i)=>{if(!t)return _t;let s=1;if(e===gt&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||n!==Ot||r<8||r>15||e<0||e>9||i<0||i>Et||8===r&&1!==s)return xt(t,_t);8===r&&(r=9);const a=new qt;return t.state=a,a.strm=t,a.status=It,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=i,a.method=n,Yt(t)};var Jt={deflateInit:(t,e)=>Qt(t,e,Ot,15,8,bt),deflateInit2:Qt,deflateReset:Yt,deflateResetKeep:Xt,deflateSetHeader:(t,e)=>Wt(t)||2!==t.state.wrap?_t:(t.state.gzhead=e,ft),deflate:(t,e)=>{if(Wt(t)||e>ht||e<0)return t?xt(t,_t):_t;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===St&&e!==dt)return xt(t,0===t.avail_out?yt:_t);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Mt(t),0===t.avail_out)return n.last_flush=-1,ft}else if(0===t.avail_in&&kt(e)<=kt(r)&&e!==dt)return xt(t,yt);if(n.status===St&&0!==t.avail_in)return xt(t,yt);if(n.status===It&&0===n.wrap&&(n.status=Ct),n.status===It){let e=Ot+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=Rt||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,zt(n,e),0!==n.strstart&&(zt(n,t.adler>>>16),zt(n,65535&t.adler)),t.adler=1,n.status=Ct,Mt(t),0!==n.pending)return n.last_flush=-1,ft}if(57===n.status)if(t.adler=0,Ht(n,31),Ht(n,139),Ht(n,8),n.gzhead)Ht(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ht(n,255&n.gzhead.time),Ht(n,n.gzhead.time>>8&255),Ht(n,n.gzhead.time>>16&255),Ht(n,n.gzhead.time>>24&255),Ht(n,9===n.level?2:n.strategy>=Rt||n.level<2?4:0),Ht(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ht(n,255&n.gzhead.extra.length),Ht(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=tt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Ht(n,0),Ht(n,0),Ht(n,0),Ht(n,0),Ht(n,0),Ht(n,9===n.level?2:n.strategy>=Rt||n.level<2?4:0),Ht(n,3),n.status=Ct,Mt(t),0!==n.pending)return n.last_flush=-1,ft;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=tt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=o,Mt(t),0!==n.pending)return n.last_flush=-1,ft;e=0,r-=o}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=tt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=tt(t.adler,n.pending_buf,n.pending-r,r)),Mt(t),0!==n.pending)return n.last_flush=-1,ft;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ht(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=tt(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=tt(t.adler,n.pending_buf,n.pending-r,r)),Mt(t),0!==n.pending)return n.last_flush=-1,ft;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ht(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=tt(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Mt(t),0!==n.pending))return n.last_flush=-1,ft;Ht(n,255&t.adler),Ht(n,t.adler>>8&255),t.adler=0}if(n.status=Ct,Mt(t),0!==n.pending)return n.last_flush=-1,ft}if(0!==t.avail_in||0!==n.lookahead||e!==ct&&n.status!==St){let r=0===n.level?Gt(n,e):n.strategy===Rt?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Ft(t),0===t.lookahead)){if(e===ct)return 1;break}if(t.match_length=0,n=st(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===vt?((t,e)=>{let n,r,o,i;const s=t.window;for(;;){if(t.lookahead<=Nt){if(Ft(t),t.lookahead<=Nt&&e===ct)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(o=t.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=t.strstart+Nt;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);t.match_length=Nt-(i-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=st(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=st(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2})(n,e):Kt[n.level].func(n,e);if(3!==r&&4!==r||(n.status=St),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),ft;if(2===r&&(e===ut?at(n):e!==ht&&(ot(n,0,0,!1),e===lt&&(Dt(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Mt(t),0===t.avail_out))return n.last_flush=-1,ft}return e!==dt?ft:n.wrap<=0?pt:(2===n.wrap?(Ht(n,255&t.adler),Ht(n,t.adler>>8&255),Ht(n,t.adler>>16&255),Ht(n,t.adler>>24&255),Ht(n,255&t.total_in),Ht(n,t.total_in>>8&255),Ht(n,t.total_in>>16&255),Ht(n,t.total_in>>24&255)):(zt(n,t.adler>>>16),zt(n,65535&t.adler)),Mt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?ft:pt)},deflateEnd:t=>{if(Wt(t))return _t;const e=t.state.status;return t.state=null,e===Ct?xt(t,mt):ft},deflateSetDictionary:(t,e)=>{let n=e.length;if(Wt(t))return _t;const r=t.state,o=r.wrap;if(2===o||1===o&&r.status!==It||r.lookahead)return _t;if(1===o&&(t.adler=Q(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===o&&(Dt(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const i=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Ft(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=Pt(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,Ft(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=i,r.wrap=o,ft},deflateInfo:"pako deflate (from Nodeca project)"};const te=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ee=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)te(n,e)&&(t[e]=n[e])}}return t},ne=t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,o=t.length;e<o;e++){let o=t[e];n.set(o,r),r+=o.length}return n};let re=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){re=!1}const oe=new Uint8Array(256);for(let t=0;t<256;t++)oe[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;oe[254]=oe[254]=1;var ie=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,o,i,s=t.length,a=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&(r=t.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),i=0,o=0;i<a;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&(r=t.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e},se=(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,o;const i=new Array(2*n);for(o=0,r=0;r<n;){let e=t[r++];if(e<128){i[o++]=e;continue}let s=oe[e];if(s>4)i[o++]=65533,r+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&r<n;)e=e<<6|63&t[r++],s--;s>1?i[o++]=65533:e<65536?i[o++]=e:(e-=65536,i[o++]=55296|e>>10&1023,i[o++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&re)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(i,o)},ae=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+oe[t[n]]>e?n:e};var ce=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ue=Object.prototype.toString,{Z_NO_FLUSH:le,Z_SYNC_FLUSH:de,Z_FULL_FLUSH:he,Z_FINISH:fe,Z_OK:pe,Z_STREAM_END:_e,Z_DEFAULT_COMPRESSION:me,Z_DEFAULT_STRATEGY:ye,Z_DEFLATED:ge}=nt;function we(t){this.options=ee({level:me,method:ge,chunkSize:16384,windowBits:15,memLevel:8,strategy:ye},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ce,this.strm.avail_out=0;let n=Jt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==pe)throw new Error(et[n]);if(e.header&&Jt.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?ie(e.dictionary):"[object ArrayBuffer]"===ue.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=Jt.deflateSetDictionary(this.strm,t),n!==pe)throw new Error(et[n]);this._dict_set=!0}}function Re(t,e){const n=new we(e);if(n.push(t,!0),n.err)throw n.msg||et[n.err];return n.result}we.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(i=e===~~e?e:!0===e?fe:le,"string"==typeof t?n.input=ie(t):"[object ArrayBuffer]"===ue.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===de||i===he)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(o=Jt.deflate(n,i),o===_e)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Jt.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===pe;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},we.prototype.onData=function(t){this.chunks.push(t)},we.prototype.onEnd=function(t){t===pe&&(this.result=ne(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ve={Deflate:we,deflate:Re,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Re(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Re(t,e)},constants:nt};const Ee=16209;var be=function(t,e){let n,r,o,i,s,a,c,u,l,d,h,f,p,_,m,y,g,w,R,v,E,b,A,O;const N=t.state;n=t.next_in,A=t.input,r=n+(t.avail_in-5),o=t.next_out,O=t.output,i=o-(e-t.avail_out),s=o+(t.avail_out-257),a=N.dmax,c=N.wsize,u=N.whave,l=N.wnext,d=N.window,h=N.hold,f=N.bits,p=N.lencode,_=N.distcode,m=(1<<N.lenbits)-1,y=(1<<N.distbits)-1;t:do{f<15&&(h+=A[n++]<<f,f+=8,h+=A[n++]<<f,f+=8),g=p[h&m];e:for(;;){if(w=g>>>24,h>>>=w,f-=w,w=g>>>16&255,0===w)O[o++]=65535&g;else{if(!(16&w)){if(0==(64&w)){g=p[(65535&g)+(h&(1<<w)-1)];continue e}if(32&w){N.mode=16191;break t}t.msg="invalid literal/length code",N.mode=Ee;break t}R=65535&g,w&=15,w&&(f<w&&(h+=A[n++]<<f,f+=8),R+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=A[n++]<<f,f+=8,h+=A[n++]<<f,f+=8),g=_[h&y];n:for(;;){if(w=g>>>24,h>>>=w,f-=w,w=g>>>16&255,!(16&w)){if(0==(64&w)){g=_[(65535&g)+(h&(1<<w)-1)];continue n}t.msg="invalid distance code",N.mode=Ee;break t}if(v=65535&g,w&=15,f<w&&(h+=A[n++]<<f,f+=8,f<w&&(h+=A[n++]<<f,f+=8)),v+=h&(1<<w)-1,v>a){t.msg="invalid distance too far back",N.mode=Ee;break t}if(h>>>=w,f-=w,w=o-i,v>w){if(w=v-w,w>u&&N.sane){t.msg="invalid distance too far back",N.mode=Ee;break t}if(E=0,b=d,0===l){if(E+=c-w,w<R){R-=w;do{O[o++]=d[E++]}while(--w);E=o-v,b=O}}else if(l<w){if(E+=c+l-w,w-=l,w<R){R-=w;do{O[o++]=d[E++]}while(--w);if(E=0,l<R){w=l,R-=w;do{O[o++]=d[E++]}while(--w);E=o-v,b=O}}}else if(E+=l-w,w<R){R-=w;do{O[o++]=d[E++]}while(--w);E=o-v,b=O}for(;R>2;)O[o++]=b[E++],O[o++]=b[E++],O[o++]=b[E++],R-=3;R&&(O[o++]=b[E++],R>1&&(O[o++]=b[E++]))}else{E=o-v;do{O[o++]=O[E++],O[o++]=O[E++],O[o++]=O[E++],R-=3}while(R>2);R&&(O[o++]=O[E++],R>1&&(O[o++]=O[E++]))}break}}break}}while(n<r&&o<s);R=f>>3,n-=R,f-=R<<3,h&=(1<<f)-1,t.next_in=n,t.next_out=o,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=o<s?s-o+257:257-(o-s),N.hold=h,N.bits=f};const Ae=15,Oe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ne=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Te=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ce=(t,e,n,r,o,i,s,a)=>{const c=a.bits;let u,l,d,h,f,p,_=0,m=0,y=0,g=0,w=0,R=0,v=0,E=0,b=0,A=0,O=null;const N=new Uint16Array(16),T=new Uint16Array(16);let I,C,S,x=null;for(_=0;_<=Ae;_++)N[_]=0;for(m=0;m<r;m++)N[e[n+m]]++;for(w=c,g=Ae;g>=1&&0===N[g];g--);if(w>g&&(w=g),0===g)return o[i++]=20971520,o[i++]=20971520,a.bits=1,0;for(y=1;y<g&&0===N[y];y++);for(w<y&&(w=y),E=1,_=1;_<=Ae;_++)if(E<<=1,E-=N[_],E<0)return-1;if(E>0&&(0===t||1!==g))return-1;for(T[1]=0,_=1;_<Ae;_++)T[_+1]=T[_]+N[_];for(m=0;m<r;m++)0!==e[n+m]&&(s[T[e[n+m]]++]=m);if(0===t?(O=x=s,p=20):1===t?(O=Oe,x=Ne,p=257):(O=Te,x=Ie,p=0),A=0,m=0,_=y,f=i,R=w,v=0,d=-1,b=1<<w,h=b-1,1===t&&b>852||2===t&&b>592)return 1;for(;;){I=_-v,s[m]+1<p?(C=0,S=s[m]):s[m]>=p?(C=x[s[m]-p],S=O[s[m]-p]):(C=96,S=0),u=1<<_-v,l=1<<R,y=l;do{l-=u,o[f+(A>>v)+l]=I<<24|C<<16|S|0}while(0!==l);for(u=1<<_-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,m++,0==--N[_]){if(_===g)break;_=e[n+s[m]]}if(_>w&&(A&h)!==d){for(0===v&&(v=w),f+=y,R=_-v,E=1<<R;R+v<g&&(E-=N[R+v],!(E<=0));)R++,E<<=1;if(b+=1<<R,1===t&&b>852||2===t&&b>592)return 1;d=A&h,o[d]=w<<24|R<<16|f-i|0}}return 0!==A&&(o[f+A]=_-v<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:Se,Z_BLOCK:xe,Z_TREES:ke,Z_OK:De,Z_STREAM_END:Le,Z_NEED_DICT:Pe,Z_STREAM_ERROR:Me,Z_DATA_ERROR:Ue,Z_MEM_ERROR:He,Z_BUF_ERROR:ze,Z_DEFLATED:Be}=nt,je=16180,Fe=16190,Ge=16191,Ve=16192,$e=16194,Ze=16199,Ke=16200,qe=16206,We=16209,Xe=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Ye(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<je||e.mode>16211?1:0},Je=t=>{if(Qe(t))return Me;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=je,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,De},tn=t=>{if(Qe(t))return Me;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Je(t)},en=(t,e)=>{let n;if(Qe(t))return Me;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Me:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,tn(t))},nn=(t,e)=>{if(!t)return Me;const n=new Ye;t.state=n,n.strm=t,n.window=null,n.mode=je;const r=en(t,e);return r!==De&&(t.state=null),r};let rn,on,sn=!0;const an=t=>{if(sn){rn=new Int32Array(512),on=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ce(1,t.lens,0,288,rn,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ce(2,t.lens,0,32,on,0,t.work,{bits:5}),sn=!1}t.lencode=rn,t.lenbits=9,t.distcode=on,t.distbits=5},cn=(t,e,n,r)=>{let o;const i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(e.subarray(n-r,n-r+o),i.wnext),(r-=o)?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};var un={inflateReset:tn,inflateReset2:en,inflateResetKeep:Je,inflateInit:t=>nn(t,15),inflateInit2:nn,inflate:(t,e)=>{let n,r,o,i,s,a,c,u,l,d,h,f,p,_,m,y,g,w,R,v,E,b,A=0;const O=new Uint8Array(4);let N,T;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qe(t)||!t.output||!t.input&&0!==t.avail_in)return Me;n=t.state,n.mode===Ge&&(n.mode=Ve),s=t.next_out,o=t.output,c=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,d=a,h=c,b=De;t:for(;;)switch(n.mode){case je:if(0===n.wrap){n.mode=Ve;break}for(;l<16;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,O[0]=255&u,O[1]=u>>>8&255,n.check=tt(n.check,O,2,0),u=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=We;break}if((15&u)!==Be){t.msg="unknown compression method",n.mode=We;break}if(u>>>=4,l-=4,E=8+(15&u),0===n.wbits&&(n.wbits=E),E>15||E>n.wbits){t.msg="invalid window size",n.mode=We;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&u?16189:Ge,u=0,l=0;break;case 16181:for(;l<16;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==Be){t.msg="unknown compression method",n.mode=We;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=We;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(O[0]=255&u,O[1]=u>>>8&255,n.check=tt(n.check,O,2,0)),u=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(O[0]=255&u,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,n.check=tt(n.check,O,4,0)),u=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(O[0]=255&u,O[1]=u>>>8&255,n.check=tt(n.check,O,2,0)),u=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(O[0]=255&u,O[1]=u>>>8&255,n.check=tt(n.check,O,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+f),E)),512&n.flags&&4&n.wrap&&(n.check=tt(n.check,r,f,i)),a-=f,i+=f,n.length-=f),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break t;f=0;do{E=r[i+f++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=tt(n.check,r,f,i)),a-=f,i+=f,E)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break t;f=0;do{E=r[i+f++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=tt(n.check,r,f,i)),a-=f,i+=f,E)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(4&n.wrap&&u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=We;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ge;break;case 16189:for(;l<32;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}t.adler=n.check=Xe(u),u=0,l=0,n.mode=Fe;case Fe:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=a,n.hold=u,n.bits=l,Pe;t.adler=n.check=1,n.mode=Ge;case Ge:if(e===xe||e===ke)break t;case Ve:if(n.last){u>>>=7&l,l-=7&l,n.mode=qe;break}for(;l<3;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=16193;break;case 1:if(an(n),n.mode=Ze,e===ke){u>>>=2,l-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=We}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=We;break}if(n.length=65535&u,u=0,l=0,n.mode=$e,e===ke)break t;case $e:n.mode=16195;case 16195:if(f=n.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break t;o.set(r.subarray(i,i+f),s),a-=f,i+=f,c-=f,s+=f,n.length-=f;break}n.mode=Ge;break;case 16196:for(;l<14;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=We;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}n.lens[I[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},b=Ce(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,b){t.msg="invalid code lengths set",n.mode=We;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[u&(1<<n.lenbits)-1],m=A>>>24,y=A>>>16&255,g=65535&A,!(m<=l);){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(g<16)u>>>=m,l-=m,n.lens[n.have++]=g;else{if(16===g){for(T=m+2;l<T;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(u>>>=m,l-=m,0===n.have){t.msg="invalid bit length repeat",n.mode=We;break}E=n.lens[n.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===g){for(T=m+3;l<T;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}u>>>=m,l-=m,E=0,f=3+(7&u),u>>>=3,l-=3}else{for(T=m+7;l<T;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}u>>>=m,l-=m,E=0,f=11+(127&u),u>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=We;break}for(;f--;)n.lens[n.have++]=E}}if(n.mode===We)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=We;break}if(n.lenbits=9,N={bits:n.lenbits},b=Ce(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,b){t.msg="invalid literal/lengths set",n.mode=We;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},b=Ce(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,b){t.msg="invalid distances set",n.mode=We;break}if(n.mode=Ze,e===ke)break t;case Ze:n.mode=Ke;case Ke:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=a,n.hold=u,n.bits=l,be(t,h),s=t.next_out,o=t.output,c=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,n.mode===Ge&&(n.back=-1);break}for(n.back=0;A=n.lencode[u&(1<<n.lenbits)-1],m=A>>>24,y=A>>>16&255,g=65535&A,!(m<=l);){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(y&&0==(240&y)){for(w=m,R=y,v=g;A=n.lencode[v+((u&(1<<w+R)-1)>>w)],m=A>>>24,y=A>>>16&255,g=65535&A,!(w+m<=l);){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}u>>>=w,l-=w,n.back+=w}if(u>>>=m,l-=m,n.back+=m,n.length=g,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=Ge;break}if(64&y){t.msg="invalid literal/length code",n.mode=We;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(T=n.extra;l<T;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;A=n.distcode[u&(1<<n.distbits)-1],m=A>>>24,y=A>>>16&255,g=65535&A,!(m<=l);){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(0==(240&y)){for(w=m,R=y,v=g;A=n.distcode[v+((u&(1<<w+R)-1)>>w)],m=A>>>24,y=A>>>16&255,g=65535&A,!(w+m<=l);){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}u>>>=w,l-=w,n.back+=w}if(u>>>=m,l-=m,n.back+=m,64&y){t.msg="invalid distance code",n.mode=We;break}n.offset=g,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(T=n.extra;l<T;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=We;break}n.mode=16204;case 16204:if(0===c)break t;if(f=h-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=We;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),_=n.window}else _=o,p=s-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do{o[s++]=_[p++]}while(--f);0===n.length&&(n.mode=Ke);break;case 16205:if(0===c)break t;o[s++]=n.length,c--,n.mode=Ke;break;case qe:if(n.wrap){for(;l<32;){if(0===a)break t;a--,u|=r[i++]<<l,l+=8}if(h-=c,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?tt(n.check,o,h,s-h):Q(n.check,o,h,s-h)),h=c,4&n.wrap&&(n.flags?u:Xe(u))!==n.check){t.msg="incorrect data check",n.mode=We;break}u=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break t;a--,u+=r[i++]<<l,l+=8}if(4&n.wrap&&u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=We;break}u=0,l=0}n.mode=16208;case 16208:b=Le;break t;case We:b=Ue;break t;case 16210:return He;default:return Me}return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<We&&(n.mode<qe||e!==Se))&&cn(t,t.output,t.next_out,h-t.avail_out),d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?tt(n.check,o,h,t.next_out-h):Q(n.check,o,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ge?128:0)+(n.mode===Ze||n.mode===$e?256:0),(0===d&&0===h||e===Se)&&b===De&&(b=ze),b},inflateEnd:t=>{if(Qe(t))return Me;let e=t.state;return e.window&&(e.window=null),t.state=null,De},inflateGetHeader:(t,e)=>{if(Qe(t))return Me;const n=t.state;return 0==(2&n.wrap)?Me:(n.head=e,e.done=!1,De)},inflateSetDictionary:(t,e)=>{const n=e.length;let r,o,i;return Qe(t)?Me:(r=t.state,0!==r.wrap&&r.mode!==Fe?Me:r.mode===Fe&&(o=1,o=Q(o,e,n,0),o!==r.check)?Ue:(i=cn(t,e,n,n),i?(r.mode=16210,He):(r.havedict=1,De)))},inflateInfo:"pako inflate (from Nodeca project)"};var ln=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const dn=Object.prototype.toString,{Z_NO_FLUSH:hn,Z_FINISH:fn,Z_OK:pn,Z_STREAM_END:_n,Z_NEED_DICT:mn,Z_STREAM_ERROR:yn,Z_DATA_ERROR:gn,Z_MEM_ERROR:wn}=nt;function Rn(t){this.options=ee({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ce,this.strm.avail_out=0;let n=un.inflateInit2(this.strm,e.windowBits);if(n!==pn)throw new Error(et[n]);if(this.header=new ln,un.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=ie(e.dictionary):"[object ArrayBuffer]"===dn.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=un.inflateSetDictionary(this.strm,e.dictionary),n!==pn)))throw new Error(et[n])}function vn(t,e){const n=new Rn(e);if(n.push(t),n.err)throw n.msg||et[n.err];return n.result}Rn.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?fn:hn,"[object ArrayBuffer]"===dn.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=un.inflate(n,s),i===mn&&o&&(i=un.inflateSetDictionary(n,o),i===pn?i=un.inflate(n,s):i===gn&&(i=mn));n.avail_in>0&&i===_n&&n.state.wrap>0&&0!==t[n.next_in];)un.inflateReset(n),i=un.inflate(n,s);switch(i){case yn:case gn:case mn:case wn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||i===_n))if("string"===this.options.to){let t=ae(n.output,n.next_out),e=n.next_out-t,o=se(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(o)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==pn||0!==a){if(i===_n)return i=un.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Rn.prototype.onData=function(t){this.chunks.push(t)},Rn.prototype.onEnd=function(t){t===pn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ne(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var En={Inflate:Rn,inflate:vn,inflateRaw:function(t,e){return(e=e||{}).raw=!0,vn(t,e)},ungzip:vn,constants:nt};const{Deflate:bn,deflate:An,deflateRaw:On,gzip:Nn}=ve,{Inflate:Tn,inflate:In,inflateRaw:Cn,ungzip:Sn}=En;var xn=In,kn=n(92391),Dn=n.n(kn),Ln=n(48764).Buffer;const Pn=t=>"version"in t;function Mn(t){return new TextDecoder("utf-8").decode(t)}function Un(t){return c().encode(t)}function Hn(t){return t.toString("base64")}function zn(t){return r.Buffer.from(t,"base64")}function Bn(t){return"accounts"in t}const jn=d.struct([d.publicKey("authority"),d.vecU8("data")]);function Fn(t,e,n,r){return(null==t?void 0:t.length)?t[0].name?n(t):r(t):e()}function Gn(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function Vn(t,e={}){t.forEach((t=>{if(Bn(t))Vn(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)}))}function $n(t){return t instanceof o.PublicKey?t:new o.PublicKey(t)}class Zn extends TypeError{constructor(t,e){let n;const{message:r,...o}=t,{path:i}=t;super(0===i.length?r:"At path: "+i.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function Kn(t){return"object"==typeof t&&null!=t}function qn(t){return"string"==typeof t?JSON.stringify(t):""+t}function Wn(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:o,branch:i}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+qn(r)+"`"}=t;return{value:r,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...t,message:c}}function*Xn(t,e,n,r){var o;Kn(o=t)&&"function"==typeof o[Symbol.iterator]||(t=[t]);for(const o of t){const t=Wn(o,e,n,r);t&&(yield t)}}function*Yn(t,e,n){void 0===n&&(n={});const{path:r=[],branch:o=[t],coerce:i=!1,mask:s=!1}=n,a={path:r,branch:o};if(i&&(t=e.coercer(t,a),s&&"type"!==e.type&&Kn(e.schema)&&Kn(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c=!0;for(const n of e.validator(t,a))c=!1,yield[n,void 0];for(let[n,u,l]of e.entries(t,a)){const e=Yn(u,l,{path:void 0===n?r:[...r,n],branch:void 0===n?o:[...o,u],coerce:i,mask:s});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):i&&(u=r[1],void 0===n?t=u:t instanceof Map?t.set(n,u):t instanceof Set?t.add(u):Kn(t)&&(t[n]=u))}if(c)for(const n of e.refiner(t,a))c=!1,yield[n,void 0];c&&(yield[void 0,t])}class Qn{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:o,coercer:i=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=i,this.validator=r?(t,e)=>Xn(r(t,e),e,this,t):()=>[],this.refiner=o?(t,e)=>Xn(o(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=er(t,e);if(n[0])throw n[0]}(t,this)}create(t){return Jn(t,this)}is(t){return tr(t,this)}mask(t){return function(t,e){const n=er(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),er(t,this,e)}}function Jn(t,e){const n=er(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function tr(t,e){return!er(t,e)[0]}function er(t,e,n){void 0===n&&(n={});const r=Yn(t,e,n),o=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(o[0]){return[new Zn(o[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,o[1]]}function nr(t,e){return new Qn({type:t,schema:null,validator:e})}function rr(t){return new Qn({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+qn(t)}})}function or(t){const e=qn(t),n=typeof t;return new Qn({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+qn(n)}})}function ir(t){return new Qn({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function sr(){return nr("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+qn(t)))}function ar(t){return new Qn({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function cr(){return nr("string",(t=>"string"==typeof t||"Expected a string, but received: "+qn(t)))}function ur(t){const e=Object.keys(t);return new Qn({type:"type",schema:t,*entries(n){if(Kn(n))for(const r of e)yield[r,n[r],t[r]]},validator(t){return Kn(t)||"Expected an object, but received: "+qn(t)}})}function lr(t){const e=t.map((t=>t.type)).join(" | ");return new Qn({type:"union",schema:null,coercer(e,n){return(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||dr()).coercer(e,n)},validator(n,r){const o=[];for(const e of t){const[...t]=Yn(n,e,r),[i]=t;if(!i[0])return[];for(const[e]of t)e&&o.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+qn(n),...o]}})}function dr(){return nr("unknown",(()=>!0))}async function hr(t,e,n){if(e.length<=99)return await fr(t,e,n);{const r=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))}(e,99);return(await Promise.all(r.map((e=>fr(t,e,n))))).flat()}}async function fr(t,e,n){const r=null!=n?n:t.commitment,{value:o,context:i}=await t.getMultipleAccountsInfoAndContext(e,r);return o.map(((t,n)=>null===t?null:{publicKey:e[n],account:t,context:i}))}async function pr(t,e,n,r,i){var s;n&&n.length>0&&e.sign(...n);const a=e._compile(),c=a.serialize(),u=e._serialize(c).toString("base64"),l={encoding:"base64",commitment:null!=r?r:t.commitment};if(i){const t=(Array.isArray(i)?i:a.nonProgramIds()).map((t=>t.toBase58()));l.accounts={encoding:"base64",addresses:t}}n&&n.length>0&&(l.sigVerify=!0);const d=[u,l],h=Jn(await t._rpcRequest("simulateTransaction",d),gr);if("error"in h){let t;if("data"in h.error&&(t=null===(s=h.error.data)||void 0===s?void 0:s.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);console.error(h.error.message,n)}throw new o.SendTransactionError("failed to simulate transaction: "+h.error.message,t)}return h.result}function _r(t){return function(t,e,n){return new Qn({...t,coercer:(r,o)=>tr(r,e)?t.coercer(n(r,o),o):t.coercer(r,o)})}(yr(t),mr,(e=>"error"in e?e:{...e,result:Jn(e.result,t)}))}const mr=yr(dr());function yr(t){return lr([ur({jsonrpc:or("2.0"),id:cr(),result:t}),ur({jsonrpc:or("2.0"),id:cr(),error:ur({code:dr(),message:cr(),data:ar(nr("any",(()=>!0)))})})])}const gr=(wr=ur({err:ir(lr([ur({}),cr()])),logs:ir(rr(cr())),accounts:ar(ir(rr(ir(ur({executable:nr("boolean",(t=>"boolean"==typeof t)),owner:cr(),lamports:sr(),data:rr(cr()),rentEpoch:ar(sr())}))))),unitsConsumed:ar(sr())}),_r(ur({context:ur({slot:sr()}),value:wr})));var wr;class Rr{constructor(t,e,n=Rr.defaultOptions()){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e=Rr.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var r,i,s,a;if(void 0===n&&(n=this.opts),Pn(t))e&&t.sign(e);else if(t.feePayer=null!==(r=t.feePayer)&&void 0!==r?r:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const n of e)t.partialSign(n);const c=(t=await this.wallet.signTransaction(t)).serialize();try{return await Er(this.connection,c,n)}catch(e){if(e instanceof br){const n=Un(Pn(t)?(null===(i=t.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(s=t.signature)&&void 0!==s?s:new Uint8Array),r=Pn(t)?0:void 0,c=await this.connection.getTransaction(n,{commitment:"confirmed",maxSupportedTransactionVersion:r});if(c){const t=null===(a=c.meta)||void 0===a?void 0:a.logMessages;throw t?new o.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){var n,r,i;void 0===e&&(e=this.opts);const s=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let a=t.map((t=>{var e,n;if(Pn(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let r=t.tx,o=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=s,o.forEach((t=>{r.partialSign(t)})),r}}));const c=await this.wallet.signAllTransactions(a),u=[];for(let t=0;t<a.length;t+=1){const s=c[t],a=s.serialize();try{u.push(await Er(this.connection,a,e))}catch(t){if(t instanceof br){const e=Un(Pn(s)?(null===(n=s.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=s.signature)&&void 0!==r?r:new Uint8Array),a=Pn(s)?0:void 0,c=await this.connection.getTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:a});if(c){const e=null===(i=c.meta)||void 0===i?void 0:i.logMessages;throw e?new o.SendTransactionError(t.message,e):t}throw t}throw t}}return u}async simulate(t,e,n,r){let o,i=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(Pn(t)?(e&&e.length>0&&(t.sign(e),t=await this.wallet.signTransaction(t)),o=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=i,e&&e.length>0&&(t=await this.wallet.signTransaction(t)),o=await pr(this.connection,t,e,n,r)),o.value.err)throw new vr(o.value);return o.value}}class vr extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function Er(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},o=await t.sendRawTransaction(e,r),i=(await t.confirmTransaction(o,n&&n.commitment)).value;if(i.err)throw new br(`Raw transaction ${o} failed (${JSON.stringify(i)})`);return o}class br extends Error{constructor(t){super(t)}}function Ar(){return null===Or?Rr.local():Or}let Or=null;var Nr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});var Ir=Tr.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=Tr.ANCHOR_ERROR__REQUIRE_VIOLATED=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Tr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Tr.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Tr.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Tr.ANCHOR_ERROR__CONSTRAINT_SPACE=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Tr.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Tr.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Tr.ANCHOR_ERROR__CONSTRAINT_ZERO=Tr.ANCHOR_ERROR__CONSTRAINT_ADDRESS=Tr.ANCHOR_ERROR__CONSTRAINT_CLOSE=Tr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Tr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Tr.ANCHOR_ERROR__CONSTRAINT_STATE=Tr.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Tr.ANCHOR_ERROR__CONSTRAINT_SEEDS=Tr.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=Tr.ANCHOR_ERROR__CONSTRAINT_OWNER=Tr.ANCHOR_ERROR__CONSTRAINT_RAW=Tr.ANCHOR_ERROR__CONSTRAINT_SIGNER=Tr.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=Tr.ANCHOR_ERROR__CONSTRAINT_MUT=Tr.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=Tr.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=Tr.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=Tr.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=Tr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=Tr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=Tr.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=Tr.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Cr=Tr.ANCHOR_ERROR__DEPRECATED=Tr.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=Tr.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=Tr.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=Tr.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=Tr.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=Tr.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=Tr.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=Tr.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=Tr.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=Tr.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=Tr.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=Tr.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=Tr.ANCHOR_ERROR__INVALID_PROGRAM_ID=Tr.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=Tr.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=Tr.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=Tr.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=Tr.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=Tr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=Tr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=Tr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=Tr.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=Tr.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=Tr.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=Tr.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=Tr.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,Sr=Tr.ANCHOR_ERROR__INSTRUCTION_MISSING=100,xr=Tr.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,kr=Tr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,Dr=Tr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,Lr=Tr.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,Pr=Tr.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,Mr=Tr.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,Ur=Tr.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,Hr=Tr.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,zr=Tr.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,Br=Tr.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,jr=Tr.ANCHOR_ERROR__CONSTRAINT_RAW=2003,Fr=Tr.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,Gr=Tr.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Vr=Tr.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,$r=Tr.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Zr=Tr.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Kr=Tr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,qr=Tr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Wr=Tr.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Xr=Tr.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Yr=Tr.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Qr=Tr.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Jr=Tr.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,to=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,eo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,no=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,ro=Tr.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,oo=Tr.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,io=Tr.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,so=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,ao=Tr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,co=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,uo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,lo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,ho=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,fo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,po=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,_o=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,mo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,yo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,go=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,wo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Ro=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,vo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Eo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,bo=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,Ao=Tr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,Oo=Tr.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;Ir=Tr.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var No=Tr.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,To=Tr.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,Io=Tr.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,Co=Tr.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,So=Tr.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,xo=Tr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,ko=Tr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,Do=Tr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,Lo=Tr.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,Po=Tr.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,Mo=Tr.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,Uo=Tr.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,Ho=Tr.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,zo=Tr.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,Bo=Tr.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,jo=Tr.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,Fo=Tr.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Go=Tr.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,Vo=Tr.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,$o=Tr.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Zo=Tr.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,Ko=Tr.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,qo=Tr.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,Wo=Tr.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,Xo=Tr.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,Yo=Tr.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Cr=Tr.ANCHOR_ERROR__DEPRECATED=5e3;new Set(["debug-logs"]);const Qo=new Map;function Jo(t){return void 0!==Qo.get(t)}class ti extends Error{constructor(t){super(t),this.name="IdlError"}}class ei{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,i=[];for(let s=0;s<t.length;s++){if(r.exec(t[s])){i.pop();continue}const a=null===(e=n.exec(t[s]))||void 0===e?void 0:e[1];a&&i.push(new o.PublicKey(a))}return new ei(i)}}class ni extends Error{constructor(t,e,n,r,o,i){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:i,origin:o},this._programErrorStack=ei.parse(r)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const n=t[e],r=[n];let i;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const n=/^Program log: (.*)$/,s=n.exec(t[e+2])[1],a=n.exec(t[e+4])[1];i=[new o.PublicKey(s),new o.PublicKey(a)],r.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,o=n.exec(t[e+1])[2],s=n.exec(t[e+2])[2];r.push(...t.slice(e+1,e+3)),i=[o,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[e,n,o]=s.slice(1,4),a={code:e,number:parseInt(n)};return new ni(a,o,r,t,void 0,i)}if(a){const[e,n,o,s,c]=a.slice(1,6),u={code:o,number:parseInt(s)},l={file:e,line:parseInt(n)};return new ni(u,c,r,t,l,i)}if(c){const[e,n,o,s]=c.slice(1,5),a=e,u={code:n,number:parseInt(o)};return new ni(u,s,r,t,a,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ri extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=ei.parse(n))}static parse(t,e){const n=t.toString();let r,o;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{o=parseInt(r)}catch(t){return null}let i=e.get(o);return void 0!==i?new ri(o,i,t.logs):(i=si.get(o),void 0!==i?new ri(o,i,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function oi(t,e){Jo("debug-logs")&&console.log("Translating error:",t);const n=ni.parse(t.logs);if(n)return n;const r=ri.parse(t,e);if(r)return r;if(t.logs){const e={get:function(e,n){return"programErrorStack"===n?e.programErrorStack.stack:"program"===n?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=ei.parse(t.logs),new Proxy(t,e)}return t}const ii={InstructionMissing:Sr,InstructionFallbackNotFound:xr,InstructionDidNotDeserialize:kr,InstructionDidNotSerialize:Dr,IdlInstructionStub:Lr,IdlInstructionInvalidProgram:Pr,IdlAccountNotEmpty:Mr,EventInstructionStub:Ur,ConstraintMut:Hr,ConstraintHasOne:zr,ConstraintSigner:Br,ConstraintRaw:jr,ConstraintOwner:Fr,ConstraintRentExempt:Gr,ConstraintSeeds:Vr,ConstraintExecutable:$r,ConstraintState:Zr,ConstraintAssociated:Kr,ConstraintAssociatedInit:qr,ConstraintClose:Wr,ConstraintAddress:Xr,ConstraintZero:Yr,ConstraintTokenMint:Qr,ConstraintTokenOwner:Jr,ConstraintMintMintAuthority:to,ConstraintMintFreezeAuthority:eo,ConstraintMintDecimals:no,ConstraintSpace:ro,ConstraintAccountIsNone:oo,ConstraintTokenTokenProgram:io,ConstraintMintTokenProgram:so,ConstraintAssociatedTokenTokenProgram:ao,ConstraintMintGroupPointerExtension:co,ConstraintMintGroupPointerExtensionAuthority:uo,ConstraintMintGroupPointerExtensionGroupAddress:lo,ConstraintMintGroupMemberPointerExtension:ho,ConstraintMintGroupMemberPointerExtensionAuthority:fo,ConstraintMintGroupMemberPointerExtensionMemberAddress:po,ConstraintMintMetadataPointerExtension:_o,ConstraintMintMetadataPointerExtensionAuthority:mo,ConstraintMintMetadataPointerExtensionMetadataAddress:yo,ConstraintMintCloseAuthorityExtension:go,ConstraintMintCloseAuthorityExtensionAuthority:wo,ConstraintMintPermanentDelegateExtension:Ro,ConstraintMintPermanentDelegateExtensionDelegate:vo,ConstraintMintTransferHookExtension:Eo,ConstraintMintTransferHookExtensionAuthority:bo,ConstraintMintTransferHookExtensionProgramId:Ao,RequireViolated:Oo,RequireEqViolated:Ir,RequireKeysEqViolated:No,RequireNeqViolated:To,RequireKeysNeqViolated:Io,RequireGtViolated:Co,RequireGteViolated:So,AccountDiscriminatorAlreadySet:xo,AccountDiscriminatorNotFound:ko,AccountDiscriminatorMismatch:Do,AccountDidNotDeserialize:Lo,AccountDidNotSerialize:Po,AccountNotEnoughKeys:Mo,AccountNotMutable:Uo,AccountOwnedByWrongProgram:Ho,InvalidProgramId:zo,InvalidProgramExecutable:Bo,AccountNotSigner:jo,AccountNotSystemOwned:Fo,AccountNotInitialized:Go,AccountNotProgramData:Vo,AccountNotAssociatedTokenAccount:$o,AccountSysvarMismatch:Zo,AccountReallocExceedsLimit:Ko,AccountDuplicateReallocs:qo,DeclaredProgramIdMismatch:Wo,TryingToInitPayerAsProgramAccount:Xo,InvalidNumericConversion:Yo,Deprecated:Cr},si=new Map([[ii.InstructionMissing,"8 byte instruction identifier not provided"],[ii.InstructionFallbackNotFound,"Fallback functions are not supported"],[ii.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[ii.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[ii.IdlInstructionStub,"The program was compiled without idl instructions"],[ii.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[ii.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[ii.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[ii.ConstraintMut,"A mut constraint was violated"],[ii.ConstraintHasOne,"A has one constraint was violated"],[ii.ConstraintSigner,"A signer constraint was violated"],[ii.ConstraintRaw,"A raw constraint was violated"],[ii.ConstraintOwner,"An owner constraint was violated"],[ii.ConstraintRentExempt,"A rent exemption constraint was violated"],[ii.ConstraintSeeds,"A seeds constraint was violated"],[ii.ConstraintExecutable,"An executable constraint was violated"],[ii.ConstraintState,"Deprecated Error, feel free to replace with something else"],[ii.ConstraintAssociated,"An associated constraint was violated"],[ii.ConstraintAssociatedInit,"An associated init constraint was violated"],[ii.ConstraintClose,"A close constraint was violated"],[ii.ConstraintAddress,"An address constraint was violated"],[ii.ConstraintZero,"Expected zero account discriminant"],[ii.ConstraintTokenMint,"A token mint constraint was violated"],[ii.ConstraintTokenOwner,"A token owner constraint was violated"],[ii.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[ii.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[ii.ConstraintMintDecimals,"A mint decimals constraint was violated"],[ii.ConstraintSpace,"A space constraint was violated"],[ii.ConstraintAccountIsNone,"A required account for the constraint is None"],[ii.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[ii.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[ii.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[ii.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[ii.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[ii.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[ii.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[ii.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[ii.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[ii.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[ii.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[ii.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[ii.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[ii.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[ii.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[ii.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[ii.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[ii.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[ii.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[ii.RequireViolated,"A require expression was violated"],[ii.RequireEqViolated,"A require_eq expression was violated"],[ii.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[ii.RequireNeqViolated,"A require_neq expression was violated"],[ii.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[ii.RequireGtViolated,"A require_gt expression was violated"],[ii.RequireGteViolated,"A require_gte expression was violated"],[ii.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[ii.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[ii.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[ii.AccountDidNotDeserialize,"Failed to deserialize the account"],[ii.AccountDidNotSerialize,"Failed to serialize the account"],[ii.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[ii.AccountNotMutable,"The given account is not mutable"],[ii.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[ii.InvalidProgramId,"Program ID was not as expected"],[ii.InvalidProgramExecutable,"Program account is not executable"],[ii.AccountNotSigner,"The given account did not sign"],[ii.AccountNotSystemOwned,"The given account is not owned by the system program"],[ii.AccountNotInitialized,"The program expected this account to be already initialized"],[ii.AccountNotProgramData,"The given account is not a program data account"],[ii.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[ii.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[ii.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[ii.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[ii.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[ii.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[ii.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[ii.Deprecated,"The API being used is deprecated and should no longer be used"]]);class ai{static fieldLayout(t,e=[],n){const r=t.name;switch(t.type){case"bool":return d.bool(r);case"u8":return d.u8(r);case"i8":return d.i8(r);case"u16":return d.u16(r);case"i16":return d.i16(r);case"u32":return d.u32(r);case"i32":return d.i32(r);case"f32":return d.f32(r);case"u64":return d.u64(r);case"i64":return d.i64(r);case"f64":return d.f64(r);case"u128":return d.u128(r);case"i128":return d.i128(r);case"u256":return d.u256(r);case"i256":return d.i256(r);case"bytes":return d.vecU8(r);case"string":return d.str(r);case"pubkey":return d.publicKey(r);default:if("option"in t.type)return d.option(ai.fieldLayout({type:t.type.option},e,n),r);if("vec"in t.type)return d.vec(ai.fieldLayout({type:t.type.vec},e,n),r);if("array"in t.type){let[o,i]=t.type.array;return i=ai.resolveArrayLen(i,n),d.array(ai.fieldLayout({type:o},e,n),i,r)}if("defined"in t.type){if(!e)throw new ti("User defined types not provided");const o=t.type.defined.name,i=e.find((t=>t.name===o));if(!i)throw new ti(`Type not found: ${t.name}`);return ai.typeDefLayout({typeDef:i,types:e,genericArgs:null!=n?n:t.type.defined.generics,name:r})}if("generic"in t.type){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new ti(`Invalid generic field: ${t.name}`);return ai.fieldLayout({...t,type:r.type},e)}throw new ti(`Not yet implemented: ${JSON.stringify(t.type)}`)}}static typeDefLayout({typeDef:t,types:e,name:n,genericArgs:r}){switch(t.type.kind){case"struct":{const o=Fn(t.type.fields,(()=>[]),(n=>n.map((n=>{const o=r?ai.resolveGenericArgs({type:n.type,typeDef:t,genericArgs:r}):r;return ai.fieldLayout(n,e,o)}))),(n=>n.map(((n,o)=>{const i=r?ai.resolveGenericArgs({type:n,typeDef:t,genericArgs:r}):r;return ai.fieldLayout({name:o.toString(),type:n},e,i)}))));return d.struct(o,n)}case"enum":{const o=t.type.variants.map((n=>{const o=Fn(n.fields,(()=>[]),(n=>n.map((n=>{const o=r?ai.resolveGenericArgs({type:n.type,typeDef:t,genericArgs:r}):r;return ai.fieldLayout(n,e,o)}))),(n=>n.map(((n,o)=>{const i=r?ai.resolveGenericArgs({type:n,typeDef:t,genericArgs:r}):r;return ai.fieldLayout({name:o.toString(),type:n},e,i)}))));return d.struct(o,n.name)}));return void 0!==n?d.rustEnum(o).replicate(n):d.rustEnum(o,n)}case"type":return ai.fieldLayout({type:t.type.alias,name:n},e)}}static typeSize(t,e,n){var r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in t)return 1+ai.typeSize(t.option,e,n);if("coption"in t)return 4+ai.typeSize(t.coption,e,n);if("vec"in t)return 1;if("array"in t){let[r,o]=t.array;return o=ai.resolveArrayLen(o,n),ai.typeSize(r,e,n)*o}if("defined"in t){const o=null===(r=e.types)||void 0===r?void 0:r.find((e=>e.name===t.defined.name));if(!o)throw new ti(`Type not found: ${JSON.stringify(t)}`);const i=r=>{const i=null!=n?n:t.defined.generics,s=i?ai.resolveGenericArgs({type:r,typeDef:o,genericArgs:i}):i;return ai.typeSize(r,e,s)};switch(o.type.kind){case"struct":return Fn(o.type.fields,(()=>[0]),(t=>t.map((t=>i(t.type)))),(t=>t.map((t=>i(t))))).reduce(((t,e)=>t+e),0);case"enum":{const t=o.type.variants.map((t=>Fn(t.fields,(()=>[0]),(t=>t.map((t=>i(t.type)))),(t=>t.map((t=>i(t))))).reduce(((t,e)=>t+e),0)));return Math.max(...t)+1}case"type":return ai.typeSize(o.type.alias,e,n)}}if("generic"in t){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new ti(`Invalid generic: ${t.generic}`);return ai.typeSize(r.type,e,n)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,e){if("number"==typeof t)return t;if(e){const n=e.find((t=>"const"===t.kind));"const"===(null==n?void 0:n.kind)&&(t=+n.value)}if("number"!=typeof t)throw new ti("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:e,genericArgs:n,isDefined:r}){if("object"!=typeof t)return null;for(const o in e.generics){const i=e.generics[o];if("generic"in t&&i.name===t.generic)return[n[o]];if("option"in t){const o=ai.resolveGenericArgs({type:t.option,typeDef:e,genericArgs:n,isDefined:r});if(!o||!r)return o;if("type"===o[0].kind)return[{kind:"type",type:{option:o[0].type}}]}if("vec"in t){const o=ai.resolveGenericArgs({type:t.vec,typeDef:e,genericArgs:n,isDefined:r});if(!o||!r)return o;if("type"===o[0].kind)return[{kind:"type",type:{vec:o[0].type}}]}if("array"in t){const[s,a]=t.array,c="object"==typeof a,u=ai.resolveGenericArgs({type:s,typeDef:e,genericArgs:n,isDefined:r});if(u){for(const t in e.generics.slice(+o)){const r=+o+ +t;c&&e.generics[r].name===a.generic&&u.push(n[r])}if(!r)return u;if("type"===u[0].kind&&"const"===u[1].kind)return[{kind:"type",type:{array:[u[0].type,+u[1].value]}}]}if(c&&i.name===a.generic){const t=n[o];return r?[{kind:"type",type:{array:[s,+t.value]}}]:[t]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap((t=>{switch(t.kind){case"type":return ai.resolveGenericArgs({type:t.type,typeDef:e,genericArgs:n,isDefined:!0});case"const":return[t]}})).filter((t=>null!==t)):null}return null}}class ci{constructor(t){this.idl=t;const e=t.instructions.map((e=>{const n=e.name,r=e.args.map((e=>ai.fieldLayout(e,t.types))),o=d.struct(r,n);return[n,{discriminator:e.discriminator,layout:o}]}));this.ixLayouts=new Map(e);const n=e.map((([t,{discriminator:e,layout:n}])=>[c().encode(e),{name:t,layout:n}]));this.sighashLayouts=new Map(n)}encode(t,e){const n=r.Buffer.alloc(1e3),o=this.ixLayouts.get(t);if(!o)throw new Error(`Unknown method: ${t}`);const i=o.layout.encode(e,n),s=n.slice(0,i);return r.Buffer.concat([r.Buffer.from(o.discriminator),s])}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?r.Buffer.from(t,"hex"):c().decode(t));const n=t.slice(0,li),o=t.slice(li),i=this.sighashLayouts.get(c().encode(n));return i?{name:i.name,data:i.layout.decode(o)}:null}format(t,e){return ui.format(t,e,this.idl)}}class ui{static format(t,e,n){const r=n.instructions.find((e=>t.name===e.name));if(!r)return console.error("Invalid instruction given"),null;const o=r.args.map((e=>({name:e.name,type:ui.formatIdlType(e.type),data:ui.formatIdlData(e,t.data[e.name],n.types)}))),i=ui.flattenIdlAccounts(r.accounts);return{args:o,accounts:e.map(((t,e)=>e<i.length?{name:i[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const e=t.defined.name;if(t.defined.generics){return`${e}<${t.defined.generics.map((t=>{switch(t.kind){case"type":return ui.formatIdlType(t.type);case"const":return t.value}})).join(", ")}>`}return e}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if("vec"in t.type)return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e,n))).join(", ")+"]";if("option"in t.type)return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if("defined"in t.type){if(!n)throw new Error("User defined types not provided");const r=t.type.defined.name,o=n.find((t=>t.name===r));if(!o)throw new Error(`Type not found: ${r}`);return ui.formatIdlDataDefined(o,e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){switch(t.type.kind){case"struct":return"{ "+Fn(t.type.fields,(()=>""),(t=>Object.entries(e).map((([e,r])=>{const o=t.find((t=>t.name===e));if(!o)throw new Error(`Field not found: ${e}`);return e+": "+ui.formatIdlData(o,r,n)})).join(", ")),(t=>Object.entries(e).map((([e,r])=>e+": "+ui.formatIdlData({name:"",type:t[e]},r,n))).join(", ")))+" }";case"enum":{const r=Object.keys(e)[0],o=t.type.variants.find((t=>t.name===r));if(!o)throw new Error(`Unable to find variant: ${r}`);const i=e[r];return Fn(o.fields,(()=>r),(t=>{const e=Object.keys(i).map((e=>{const r=i[e],o=t.find((t=>t.name===e));if(!o)throw new Error(`Field not found: ${e}`);return e+": "+ui.formatIdlData(o,r,n)})).join(", ");return`${r} { ${e} }`}),(t=>{const e=Object.entries(i).map((([e,r])=>e+": "+ui.formatIdlData({name:"",type:t[e]},r,n))).join(", ");return`${r} { ${e} }`}))}case"type":return ui.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return ui.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}const li=8;class di{constructor(t){if(this.idl=t,!t.accounts)return void(this.accountLayouts=new Map);const e=t.types;if(!e)throw new Error("Accounts require `idl.types`");const n=t.accounts.map((t=>{const n=e.find((e=>e.name===t.name));if(!n)throw new Error(`Account not found: ${t.name}`);return[t.name,ai.typeDefLayout({typeDef:n,types:e})]}));this.accountLayouts=new Map(n)}async encode(t,e){const n=r.Buffer.alloc(1e3),o=this.accountLayouts.get(t);if(!o)throw new Error(`Unknown account: ${t}`);const i=o.encode(e,n),s=n.slice(0,i),a=this.accountDiscriminator(t);return r.Buffer.concat([a,s])}decode(t,e){if(this.accountDiscriminator(t).compare(e.slice(0,li)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,li),n=Array.from(this.accountLayouts.keys()).find((t=>this.accountDiscriminator(t).equals(e)));if(!n)throw new Error("Account not found");return this.decodeUnchecked(n,t)}decodeUnchecked(t,e){const n=e.subarray(li),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=this.accountDiscriminator(t);return{offset:0,bytes:c().encode(e?r.Buffer.concat([n,e]):n)}}size(t){return li+ai.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var e;const n=null===(e=this.idl.accounts)||void 0===e?void 0:e.find((e=>e.name===t));if(!n)throw new Error(`Account not found: ${t}`);return r.Buffer.from(n.discriminator)}}class hi{constructor(t){var e;if(!t.events)return void(this.layouts=new Map);const n=t.types;if(!n)throw new Error("Events require `idl.types`");const o=t.events.map((t=>{const e=n.find((e=>e.name===t.name));if(!e)throw new Error(`Event not found: ${t.name}`);return[t.name,ai.typeDefLayout({typeDef:e,types:n})]}));this.layouts=new Map(o),this.discriminators=new Map((null!==(e=t.events)&&void 0!==e?e:[]).map((t=>[Hn(r.Buffer.from(t.discriminator)),t.name])))}decode(t){let e;try{e=zn(t)}catch(t){return null}const n=Hn(e.slice(0,8)),r=this.discriminators.get(n);if(!r)return null;const o=this.layouts.get(r);if(!o)throw new Error(`Unknown event: ${r}`);return{data:o.decode(e.slice(8)),name:r}}}class fi{constructor(t){const e=t.types;if(!e)return void(this.typeLayouts=new Map);const n=e.filter((t=>!t.generics)).map((t=>[t.name,ai.typeDefLayout({typeDef:t,types:e})]));this.typeLayouts=new Map(n)}encode(t,e){const n=r.Buffer.alloc(1e3),o=this.typeLayouts.get(t);if(!o)throw new Error(`Unknown type: ${t}`);const i=o.encode(e,n);return n.slice(0,i)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class pi{constructor(t){this.instruction=new ci(t),this.accounts=new di(t),this.events=new hi(t),this.types=new fi(t)}}class _i{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var mi=_i;class yi extends _i{isCount(){throw new Error("ExternalLayout is abstract")}}class gi extends yi{constructor(t,e,n){if(!(t instanceof _i))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof wi||this.layout instanceof Ri}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class wi extends _i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class Ri extends _i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const vi=Math.pow(2,32);function Ei(t){const e=Math.floor(t/vi);return{hi32:e,lo32:t-e*vi}}function bi(t,e){return t*vi+e}class Ai extends _i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return bi(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=Ei(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class Oi extends _i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return bi(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=Ei(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class Ni extends _i{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof _i),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const o=r.getSpan(t,e);return e+=o,n+o}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let o=0,i=0;for(const r of this.fields){let s=r.span;if(i=0<s?s:0,void 0!==r.property){const o=t[r.property];void 0!==o&&(i=r.encode(o,e,n),0>s&&(s=r.getSpan(e,n)))}o=n,n+=s}return o+i-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class Ti{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Ii extends Ti{constructor(t,e){if(!(t instanceof yi&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Ci extends _i{constructor(t,e,n){const r=t instanceof wi||t instanceof Ri;if(r)t=new Ii(new gi(t));else if(t instanceof yi&&t.isCount())t=new Ii(t);else if(!(t instanceof Ti))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof _i))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&r&&(o+=t.layout.span)),super(o,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return i(t)},this.configGetSourceVariant=function(t){i=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,o=r.decode(t,e);let i=this.registry[o];if(void 0===i){let s=0;i=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=o,n[i.property]=this.defaultLayout.decode(t,e+s)}else n=i.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=r.layout.span),r.encode(t[r.property],e,n),i+o.encode(t[o.property],e,n+i)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new Si(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return Ln.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class Si extends _i{constructor(t,e,n,r){if(!(t instanceof Ci))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof _i))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),o+=this.layout.getSpan(e,n+r),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class xi extends _i{constructor(t,e){if(!(t instanceof yi&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof yi||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof yi&&(r=t.length),!Ln.isBuffer(t)||r!==t.length)throw new TypeError((o="Blob.encode",((i=this).property?o+"["+i.property+"]":o)+" requires (length "+r+") Buffer as src"));var o,i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof yi&&this.length.encode(r,e,n),r}}var ki=(t,e,n)=>new gi(t,e,n),Di=t=>new wi(4,t),Li=t=>new Oi(t),Pi=(t,e,n)=>new Ni(t,e,n),Mi=(t,e,n)=>new Ci(t,e,n),Ui=(t,e)=>new xi(t,e);class Hi{constructor(t){}encode(t,e){switch(t){case"createAccount":return function({lamports:t,space:e,owner:n}){return Gi({createAccount:{lamports:t,space:e,owner:n.toBuffer()}})}(e);case"assign":return function({owner:t}){return Gi({assign:{owner:t.toBuffer()}})}(e);case"transfer":return function({lamports:t}){return Gi({transfer:{lamports:t}})}(e);case"createAccountWithSeed":return function({base:t,seed:e,lamports:n,space:r,owner:o}){return Gi({createAccountWithSeed:{base:t.toBuffer(),seed:e,lamports:n,space:r,owner:o.toBuffer()}},Fi.getVariant(3).span+e.length)}(e);case"advanceNonceAccount":return function({authorized:t}){return Gi({advanceNonceAccount:{authorized:t.toBuffer()}})}(e);case"withdrawNonceAccount":return function({lamports:t}){return Gi({withdrawNonceAccount:{lamports:t}})}(e);case"initializeNonceAccount":return function({authorized:t}){return Gi({initializeNonceAccount:{authorized:t.toBuffer()}})}(e);case"authorizeNonceAccount":return function({authorized:t}){return Gi({authorizeNonceAccount:{authorized:t.toBuffer()}})}(e);case"allocate":return function({space:t}){return Gi({allocate:{space:t}})}(e);case"allocateWithSeed":return function({base:t,seed:e,space:n,owner:r}){return Gi({allocateWithSeed:{base:t.toBuffer(),seed:e,space:n,owner:r.toBuffer()}},Fi.getVariant(9).span+e.length)}(e);case"assignWithSeed":return function({base:t,seed:e,owner:n}){return Gi({assignWithSeed:{base:t.toBuffer(),seed:e,owner:n.toBuffer()}},Fi.getVariant(10).span+e.length)}(e);case"transferWithSeed":return function({lamports:t,seed:e,owner:n}){return Gi({transferWithSeed:{lamports:t,seed:e,owner:n.toBuffer()}},Fi.getVariant(11).span+e.length)}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("System does not have state")}}class zi extends mi{constructor(t){super(-1,t),this.property=t,this.layout=Pi([Di("length"),Di("lengthPadding"),Ui(ki(Di(),-8),"chars")],this.property)}encode(t,e,n=0){if(null==t)return this.layout.span;const r={chars:Ln.from(t,"utf8")};return this.layout.encode(r,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return Di().span+Di().span+new(s())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function Bi(t){return new zi(t)}function ji(t){return Ui(32,t)}const Fi=Mi(Di("instruction"));function Gi(t,e){const n=Ln.alloc(null!=e?e:Vi),r=Fi.encode(t,n);return void 0===e?n.slice(0,r):n}Fi.addVariant(0,Pi([Li("lamports"),Li("space"),ji("owner")]),"createAccount"),Fi.addVariant(1,Pi([ji("owner")]),"assign"),Fi.addVariant(2,Pi([Li("lamports")]),"transfer"),Fi.addVariant(3,Pi([ji("base"),Bi("seed"),Li("lamports"),Li("space"),ji("owner")]),"createAccountWithSeed"),Fi.addVariant(4,Pi([ji("authorized")]),"advanceNonceAccount"),Fi.addVariant(5,Pi([Li("lamports")]),"withdrawNonceAccount"),Fi.addVariant(6,Pi([ji("authorized")]),"initializeNonceAccount"),Fi.addVariant(7,Pi([ji("authorized")]),"authorizeNonceAccount"),Fi.addVariant(8,Pi([Li("space")]),"allocate"),Fi.addVariant(9,Pi([ji("base"),Bi("seed"),Li("space"),ji("owner")]),"allocateWithSeed"),Fi.addVariant(10,Pi([ji("base"),Bi("seed"),ji("owner")]),"assignWithSeed"),Fi.addVariant(11,Pi([Li("lamports"),Bi("seed"),ji("owner")]),"transferWithSeed");const Vi=Math.max(...Object.values(Fi.registry).map((t=>t.span)));class $i{constructor(t){this.idl=t}async encode(t,e){if("nonce"===t){const t=Ln.alloc(o.NONCE_ACCOUNT_LENGTH),n=qi.encode(e,t);return t.slice(0,n)}throw new Error(`Invalid account name: ${t}`)}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){if("nonce"===t)return function(t){return qi.decode(t)}(e);throw new Error(`Invalid account name: ${t}`)}memcmp(t,e){if("nonce"===t)return{dataSize:o.NONCE_ACCOUNT_LENGTH};throw new Error(`Invalid account name: ${t}`)}size(t){return ai.typeSize({defined:{name:t}},this.idl)}}class Zi extends mi{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function Ki(t){return new Zi(Ui(32),(t=>new o.PublicKey(t)),(t=>t.toBuffer()),t)}const qi=Pi([Di("version"),Di("state"),Ki("authorizedPubkey"),Ki("nonce"),Pi([(Wi="lamportsPerSignature",new Ai(Wi))],"feeCalculator")]);var Wi;class Xi{constructor(t){}decode(t){throw new Error("System program does not have events")}}class Yi{constructor(t){}encode(t,e){throw new Error("System does not have user-defined types")}decode(t,e){throw new Error("System does not have user-defined types")}}class Qi{constructor(t){this.instruction=new Hi(t),this.accounts=new $i(t),this.events=new Xi(t),this.types=new Yi(t)}}new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Ji={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:Nr,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function _(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=l(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,o=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),g.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function R(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];v.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(t,n){return new Promise((function(r,i){var s=new w(t,n);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new v(o,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}b.polyfill=!0,t.fetch||(t.fetch=b,t.Headers=h,t.Request=w,t.Response=v),e.Headers=h,e.Request=w,e.Response=v,e.fetch=b,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e}(Ji,Ji.exports);d.rustEnum([d.struct([],"uninitialized"),d.struct([d.option(d.publicKey(),"authorityAddress")],"buffer"),d.struct([d.publicKey("programdataAddress")],"program"),d.struct([d.u64("slot"),d.option(d.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,d.u32());function ts(t,e){var n,r;let o={};const i=t.args?t.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);o=e.pop()}return[e,o]}class es{static build(t,e,n){if("_inner"===t.name)throw new ti("the _inner name is reserved");const r=(...i)=>{const[s,a]=ts(t,[...i]);Vn(t.accounts,a.accounts);const c=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&c.push(...a.remainingAccounts),Jo("debug-logs")&&console.log("Outgoing account metas:",c),new o.TransactionInstruction({keys:c,programId:n,data:e(t.name,Gn(t,...s))})};return r.accounts=e=>es.accountsArray(e,t.accounts,n,t.name),r}static accountsArray(t,e,n,r){return t?e.map((e=>{if(Bn(e)){const o=t[e.name];return es.accountsArray(o,e.accounts,n,r).flat()}let o;try{o=$n(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const i=e.optional&&o.equals(n);return{pubkey:o,isWritable:Boolean(e.writable&&!i),isSigner:Boolean(e.signer&&!i)}})).flat():[]}}class ns{static build(t,e){return(...n)=>{var r,i,s;const[,a]=ts(t,[...n]),c=new o.Transaction;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=a.preInstructions)||void 0===r||r.forEach((t=>c.add(t))),null===(i=a.instructions)||void 0===i||i.forEach((t=>c.add(t))),c.add(e(...n)),null===(s=a.postInstructions)||void 0===s||s.forEach((t=>c.add(t))),c}}}class rs{static build(t,e,n,r){return async(...o)=>{var i;const s=e(...o),[,a]=ts(t,[...o]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(s,null!==(i=a.signers)&&void 0!==i?i:[],a.options)}catch(t){throw oi(t,n)}}}}class os{static build(t,e,n,r){var o;return(null!==(o=t.accounts)&&void 0!==o?o:[]).reduce(((o,i)=>(o[i.name]=new is(t,i,n,r,e),o)),{})}}class is{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,e,n,r,o){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:Ar(),this._coder=null!=o?o:new pi(t),this._size=this._coder.accounts.size(e.name)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:r,context:o}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:o}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:r}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:r}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map((t=>t?t.data:null))}async fetchMultipleAndContext(t,e){return(await hr(this._provider.connection,t.map((t=>$n(t))),e)).map((t=>{if(null==t)return null;const{account:e,context:n}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:n}}))}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Ln?t:void 0),n=[];return null!=(null==e?void 0:e.offset)&&null!=(null==e?void 0:e.bytes)&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),null!=(null==e?void 0:e.dataSize)&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=ss.get(t.toString());if(n)return n.ee;const r=new(Dn());t=$n(t);const o=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return ss.set(t.toString(),{ee:r,listener:o}),r}async unsubscribe(t){let e=ss.get(t.toString());e?ss&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{ss.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return o.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo($n(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext($n(t),e)}}const ss=new Map,as="Program log: ",cs="Program data: ",us=as.length,ls=cs.length;class ds{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new hs(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const n of this._eventParser.parseLogs(t.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const o=this._eventCallbacks.get(r);if(o){const[,r]=o;r(n.data,e.slot,t.signature)}}))}}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class hs{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new ps(t),r=new fs;let o=n.next();for(;null!==o;){let[t,i,s]=this.handleLog(r,o,e);t&&(yield t),i&&r.push(i),s&&r.pop(),o=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(as)||t.startsWith(cs)){const n=t.startsWith(as)?t.slice(us):t.slice(ls),r=this.coder.events.decode(n);if(e&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class fs{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class ps{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class _s{static build(t,e,n,r,o,i,s){return async(...a)=>{var c;const u=e(...a),[,l]=ts(t,[...a]);let d;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{d=await r.simulate(u,l.signers,null===(c=l.options)||void 0===c?void 0:c.commitment)}catch(t){throw oi(t,n)}if(void 0===d)throw new Error("Unable to simulate transaction");const h=d.logs;if(!h)throw new Error("Simulated logs not found");const f=[];if(s.events){let t=new hs(i,o);for(const e of t.parseLogs(h))f.push(e)}return{events:f,raw:h}}}}function ms(t){return new ws(Ui(8),(t=>vs.fromBuffer(t)),(t=>t.toBuffer()),t)}function ys(t){return new ws(Ui(32),(t=>new o.PublicKey(t)),(t=>t.toBuffer()),t)}function gs(t,e){return new Rs(t,e)}class ws extends mi{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Rs extends mi{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=Di()}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class vs extends(s()){toBuffer(){const t=super.toArray().reverse(),e=Ln.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=Ln.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new vs([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}const Es=Pi([ys("mint"),ys("owner"),ms("amount"),gs(ys(),"delegate"),(t=>{const e=Mi((t=>new wi(1,t))("discriminator"),null,"state");return e.addVariant(0,Pi([]),"uninitialized"),e.addVariant(1,Pi([]),"initialized"),e.addVariant(2,Pi([]),"frozen"),e})(),gs(ms(),"isNative"),ms("delegatedAmount"),gs(ys(),"closeAuthority")]);class bs{constructor(t,e,n,r,o,i,s,a){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=o,this._idlTypes=s,this._customResolver=a,this._accountStore=new As(n,i,r)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,16===t)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce(((t,e)=>t&&t[e]),this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach(((r,o)=>{var i;o===t.length-1&&(n[r]=e),n[r]=null!==(i=n[r])&&void 0!==i?i:{},n=n[r]}))}resolveOptionalsHelper(t,e){const n={};for(const r of e){const e=r.name,o=t[e];void 0!==o&&(Ns(o)?Bn(r)?n[e]=this.resolveOptionalsHelper(o,r.accounts):n[e]=Ts(o,!0):null!==o?n[e]=$n(o):r.optional&&(n[e]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveEventCpi(t,e=[]){for(const n in t){const r=t[n];Bn(r)&&this.resolveEventCpi(r.accounts,[...e,r.name]);const i=+n+1;if(i===t.length)return;const s=t[n].name,a=t[i].name;if("eventAuthority"===s&&"program"===a){const t=[...e,s],n=[...e,a];return this.get(t)||this.set(t,o.PublicKey.findProgramAddressSync([Ln.from("__event_authority")],this._programId)[0]),void(this.get(n)||this.set(n,this._programId))}}}resolveConst(t,e=[]){for(const n of t){const t=n.name;if(Bn(n))this.resolveConst(n.accounts,[...e,t]);else{const r=n;if((r.signer||r.address)&&!this.get([...e,t])){if(r.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...e,t],this._provider.wallet.publicKey)}r.address&&this.set([...e,t],$n(r.address))}}}}async resolvePdasAndRelations(t,e=[]){let n=0;for(const r of t){const t=r.name;if(Bn(r))n+=await this.resolvePdasAndRelations(r.accounts,[...e,t]);else{const i=r;if((i.pda||i.relations)&&!this.get([...e,t])){n++;try{if(i.pda){const n=await Promise.all(i.pda.seeds.map((t=>this.toBuffer(t,e))));if(n.some((t=>!t)))continue;const r=await this.parseProgramId(i,e),[s]=o.PublicKey.findProgramAddressSync(n,r);this.set([...e,t],s)}}catch{}try{if(i.relations){const n=this.get([...e,i.relations[0]]);if(n){const r=await this._accountStore.fetchAccount({publicKey:n});this.set([...e,t],r[t])}}}catch{}}}}return n}async parseProgramId(t,e=[]){var n;if(!(null===(n=t.pda)||void 0===n?void 0:n.program))return this._programId;const r=await this.toBuffer(t.pda.program,e);if(!r)throw new Error(`Program seed not resolved: ${t.name}`);return new o.PublicKey(r)}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[e,...n]=t.path.split("."),r=this._idlIx.args.findIndex((t=>t.name===e));if(-1===r)throw new Error(`Unable to find argument for seed: ${e}`);const o=n.reduce(((t,e)=>(null!=t?t:{})[e]),this._args[r]);if(void 0===o)return;const i=this.getType(this._idlIx.args[r].type,n);return this.toBufferValue(i,o)}async toBufferAccount(t,e=[]){const[n,...r]=t.path.split("."),o=this.get([...e,n]);if(!o)return;if(!r.length)return this.toBufferValue("pubkey",o);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let i=await this._accountStore.fetchAccount({publicKey:o,name:t.account}),s=r;for(;s.length>0;)i=i[s[0]],s=s.slice(1);if(void 0===i)return;const a=this.getType({defined:{name:t.account}},r);return this.toBufferValue(a,i)}toBufferValue(t,e){switch(t){case"u8":case"i8":return Ln.from([e]);case"u16":case"i16":return new(s())(e).toArrayLike(Ln,"le",2);case"u32":case"i32":return new(s())(e).toArrayLike(Ln,"le",4);case"u64":case"i64":return new(s())(e).toArrayLike(Ln,"le",8);case"u128":case"i128":return new(s())(e).toArrayLike(Ln,"le",16);case"u256":case"i256":return new(s())(e).toArrayLike(Ln,"le",32);case"string":case"bytes":return Ln.from(e);case"pubkey":return e.toBuffer();default:if(null==t?void 0:t.array)return Ln.from(e);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,e=[]){var n;const r=null===(n=null==t?void 0:t.defined)||void 0===n?void 0:n.name;if(r){if("tokenAccount"===r)switch(e.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${e}`)}const t=this._idlTypes.find((t=>t.name===r));if(!t)throw new Error(`Type not found: ${r}`);const[n,...o]=e,i=t.type.fields.find((t=>t.name===n));if(!i)throw new Error(`Field not found: ${n}`);return this.getType(i.type,o)}return t}}class As{constructor(t,e,n){this._provider=t,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async fetchAccount({publicKey:t,name:e}){const n=t.toBase58();if(!this._cache.has(n)){const o=await this._provider.connection.getAccountInfo(t);if(null===o)throw new Error(`Account not found: ${n}`);if("tokenAccount"===e){const t=(r=o.data,Es.decode(r));this._cache.set(n,t)}else{const t=await this.getAccountsNs(o.owner);if(t){const e=Object.values(t)[0];if(e){const t=e.coder.accounts.decodeAny(o.data);this._cache.set(n,t)}}}}var r;return this._cache.get(n)}async getAccountsNs(t){const e=t.toBase58();if(!this._idls[e]){const n=await xs.fetchIdl(t,this._provider);if(n){const t=new xs(n,this._provider);this._idls[e]=t.account}}return this._idls[e]}}class Os{static build(t,e,n,r,o,i,s,a,c,u,l){return(...d)=>new Is(d,r,o,i,s,a,t,e,n,c,u,l)}}function Ns(t){return"object"==typeof t&&null!==t&&!("_bn"in t)}function Ts(t,e){const n={};for(const r in t){const o=t[r];if(null!==o)n[r]=Ns(o)?Ts(o,!0):$n(o);else if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class Is{constructor(t,e,n,r,o,i,s,a,c,u,l,d){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=o,this._viewFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new bs(t,this._accounts,s,a,c,u,l,d)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,e=!1){return this._preInstructions=e?t.concat(this._preInstructions):this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Cs{static build(t,e,n,r){const o=e.accounts.find((t=>t.writable)),i=!!e.returns;if(o||!i)return;return async(...o)=>{let i=await n(...o);const s=`Program return: ${t} `;let a=i.raw.find((t=>t.startsWith(s)));if(!a)throw new Error("View expected return log");let c=zn(a.slice(s.length)),u=e.returns;if(!u)throw new Error("View expected return type");return ai.fieldLayout({type:u},r.types).decode(c)}}}class Ss{static build(t,e,n,r,o){const i={},s={},a={},c={},u={},l={},d=function(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}(t),h=t.accounts?os.build(t,e,n,r):{};return t.instructions.forEach((f=>{const p=es.build(f,((t,n)=>e.instruction.encode(t,n)),n),_=ns.build(f,p),m=rs.build(f,_,d,r),y=_s.build(f,_,d,r,e,n,t),g=Cs.build(n,f,y,t),w=Os.build(r,n,f,p,_,m,y,g,h,t.types||[],null==o?void 0:o(f)),R=f.name;s[R]=p,a[R]=_,i[R]=m,c[R]=y,u[R]=w,g&&(l[R]=g)})),[i,s,a,h,c,u,l]}}class xs{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e=Ar(),n,r){const o=function(t){const e=["name","path","account","relations","generic"],n=t=>t.split(".").map(l()).join("."),r=t=>{for(const o in t){const i=t[o];e.includes(o)?t[o]=Array.isArray(i)?i.map(n):n(i):"object"==typeof i&&r(i)}},o=structuredClone(t);return r(o),o}(t);this._idl=o,this._rawIdl=t,this._provider=e,this._programId=$n(t.address),this._coder=null!=n?n:new pi(o),this._events=new ds(this._programId,e,this._coder);const[i,s,a,c,u,d,h]=Ss.build(o,this._coder,this._programId,e,r);this.rpc=i,this.instruction=s,this.transaction=a,this.account=c,this.simulate=u,this.methods=d,this.views=h}static async at(t,e){const n=$n(t),r=await xs.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new xs(r,e)}static async fetchIdl(t,e){e=null!=e?e:Ar();const n=$n(t),r=await async function(t){const e=(await o.PublicKey.findProgramAddress([],t))[0];return await o.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),i=await e.connection.getAccountInfo(r);if(!i)return null;let s=(a=i.data.slice(8),jn.decode(a));var a;const c=xn(s.data);return JSON.parse(Mn(c))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}function ks(t){return new xs(Ds,t,new Qi(Ds))}new o.PublicKey("11111111111111111111111111111111");const Ds={address:"11111111111111111111111111111111",metadata:{name:"systemProgram",version:"0.1.0",spec:"0.1.0"},instructions:[{name:"advanceNonceAccount",discriminator:[4,0,0,0],accounts:[{name:"nonce",writable:!0},{name:"recentBlockhashes"},{name:"authorized",signer:!0}],args:[{name:"authorized",type:"pubkey"}]},{name:"allocate",discriminator:[8,0,0,0],accounts:[{name:"pubkey",writable:!0,signer:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",discriminator:[9,0,0,0],accounts:[{name:"account",writable:!0},{name:"base",signer:!0}],args:[{name:"base",type:"pubkey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"pubkey"}]},{name:"assign",discriminator:[1,0,0,0],accounts:[{name:"pubkey",writable:!0,signer:!0}],args:[{name:"owner",type:"pubkey"}]},{name:"assignWithSeed",discriminator:[10,0,0,0],accounts:[{name:"account",writable:!0},{name:"base",signer:!0}],args:[{name:"base",type:"pubkey"},{name:"seed",type:"string"},{name:"owner",type:"pubkey"}]},{name:"authorizeNonceAccount",discriminator:[7,0,0,0],accounts:[{name:"nonce",writable:!0},{name:"authorized",signer:!0}],args:[{name:"authorized",type:"pubkey"}]},{name:"createAccount",discriminator:[0,0,0,0],accounts:[{name:"from",writable:!0,signer:!0},{name:"to",writable:!0,signer:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"pubkey"}]},{name:"createAccountWithSeed",discriminator:[3,0,0,0],accounts:[{name:"from",writable:!0,signer:!0},{name:"to",writable:!0},{name:"base",signer:!0}],args:[{name:"base",type:"pubkey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"pubkey"}]},{name:"initializeNonceAccount",discriminator:[6,0,0,0],accounts:[{name:"nonce",writable:!0,signer:!0},{name:"recentBlockhashes"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"authorized",type:"pubkey"}]},{name:"transfer",discriminator:[2,0,0,0],accounts:[{name:"from",writable:!0,signer:!0},{name:"to",writable:!0}],args:[{name:"lamports",type:"u64"}]},{name:"transferWithSeed",discriminator:[11,0,0,0],accounts:[{name:"from",writable:!0},{name:"base",signer:!0},{name:"to",writable:!0}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"pubkey"}]},{name:"withdrawNonceAccount",discriminator:[5,0,0,0],accounts:[{name:"nonce",writable:!0},{name:"to",writable:!0},{name:"recentBlockhashes"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"authorized",signer:!0}],args:[{name:"lamports",type:"u64"}]}],accounts:[{name:"nonce",discriminator:[]}],types:[{name:"feeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}},{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"pubkey"},{name:"nonce",type:"pubkey"},{name:"feeCalculator",type:{defined:{name:"feeCalculator"}}}]}}]};class Ls{static system(t){return ks(t)}}},32018:function(t,e,n){"use strict";var r=n(89509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(255!==e[s])throw new TypeError(i+" is ambiguous");e[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,o=0,i=0;t[n]===c;)o++,n++;for(var s=(t.length-n)*u+1>>>0,l=new Uint8Array(s);n<t.length;){var d=e[t.charCodeAt(n)];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<i)&&-1!==f;f--,h++)d+=a*l[f]>>>0,l[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=h,n++}for(var p=s-i;p!==s&&0===l[p];)p++;var _=r.allocUnsafe(o+(s-p));_.fill(0,0,o);for(var m=o;p!==s;)_[m++]=l[p++];return _}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,o=0,i=0,s=e.length;i!==s&&0===e[i];)i++,n++;for(var u=(s-i)*l+1>>>0,d=new Uint8Array(u);i!==s;){for(var h=e[i],f=0,p=u-1;(0!==h||f<o)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");o=f,i++}for(var _=u-o;_!==u&&0===d[_];)_++;for(var m=c.repeat(n);_<u;++_)m+=t.charAt(d[_]);return m},decodeUnsafe:d,decode:function(t){var e=d(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},8633:function(t,e,n){var r=n(32018);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},84037:function(t){"use strict";const e=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,o=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,s=new RegExp("^"+i.source),a=new RegExp(i.source+o.source,"gu"),c=new RegExp("\\d+"+o.source,"gu"),u=(t,o)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(o={pascalCase:!1,preserveConsecutiveUppercase:!1,...o},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const i=!1===o.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(o.locale),u=!1===o.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(o.locale);if(1===t.length)return o.pascalCase?u(t):i(t);return t!==i(t)&&(t=((t,r,o)=>{let i=!1,s=!1,a=!1;for(let c=0;c<t.length;c++){const u=t[c];i&&e.test(u)?(t=t.slice(0,c)+"-"+t.slice(c),i=!1,a=s,s=!0,c++):s&&a&&n.test(u)?(t=t.slice(0,c-1)+"-"+t.slice(c-1),a=s,s=!1,i=!0):(i=r(u)===u&&o(u)!==u,a=s,s=o(u)===u&&r(u)!==u)}return t})(t,i,u)),t=t.replace(s,""),t=o.preserveConsecutiveUppercase?((t,e)=>(r.lastIndex=0,t.replace(r,(t=>e(t)))))(t,i):i(t),o.pascalCase&&(t=u(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,c.lastIndex=0,t.replace(a,((t,n)=>e(n))).replace(c,(t=>e(t)))))(t,u)};t.exports=u,t.exports.default=u},92391:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,o,i,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,o);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||o&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},15970:function(t,e,n){"use strict";var r=n(48764).Buffer,o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const i=n(20698),s=n(29363),a=o(n(13550));var c=n(20698);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends i.Layout{constructor(t,e,n){super(t,n),this.blob=(0,i.blob)(t),this.signed=e}decode(t,e=0){const n=new a.default(this.blob.decode(t,e),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(t,e,n=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(r,"le",this.span),e,n)}}function l(t){return new u(8,!1,t)}e.u64=l,e.i64=function(t){return new u(8,!0,t)},e.u128=function(t){return new u(16,!1,t)},e.i128=function(t){return new u(16,!0,t)},e.u256=function(t){return new u(32,!1,t)},e.i256=function(t){return new u(32,!0,t)};class d extends i.Layout{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new d((0,i.blob)(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class h extends i.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,i.u8)()}encode(t,e,n=0){return null==t?this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+1)+1)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return 1;if(1===n)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function f(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function p(t){return t?1:0}function _(t){const e=(0,i.u32)("length"),n=(0,i.struct)([e,(0,i.blob)((0,i.offset)(e,-e.span),"data")]);return new d(n,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new h(t,e)},e.bool=function(t){return new d((0,i.u8)(),f,p,t)},e.vec=function(t,e){const n=(0,i.u32)("length"),r=(0,i.struct)([n,(0,i.seq)(t,(0,i.offset)(n,-n.span),"values")]);return new d(r,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,n){const r=(0,i.struct)([l("tag"),e.replicate("data")]);return new d(r,(function({tag:e,data:n}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return n}),(e=>({tag:t,data:e})),n)},e.vecU8=_,e.str=function(t){return new d(_(),(t=>t.toString("utf-8")),(t=>r.from(t,"utf-8")),t)},e.rustEnum=function(t,e,n){const r=(0,i.union)(null!=n?n:(0,i.u8)(),e);return t.forEach(((t,e)=>r.addVariant(e,t,t.property))),r},e.array=function(t,e,n){const r=(0,i.struct)([(0,i.seq)(t,e,"values")]);return new d(r,(({values:t})=>t),(t=>({values:t})),n)};class m extends i.Layout{constructor(t,e,n){super(t.span+e.span,n),this.keyLayout=t,this.valueLayout=e}decode(t,e){e=e||0;return[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,n){n=n||0;const r=this.keyLayout.encode(t[0],e,n);return r+this.valueLayout.encode(t[1],e,n+r)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,n){const r=(0,i.u32)("length"),o=(0,i.struct)([r,(0,i.seq)(new m(t,e),(0,i.offset)(r,-r.span),"values")]);return new d(o,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),n)}},66309:function(t,e,n){"use strict";n.d(e,{Z:function(){return S}});var r=n(67294),o=n(93967),i=n.n(o),s=n(98423),a=n(98787),c=n(69760),u=n(96159),l=n(45353),d=n(53124),h=n(11568),f=n(15063),p=n(14747),_=n(83262),m=n(83559);const y=t=>{const{lineWidth:e,fontSizeIcon:n,calc:r}=t,o=t.fontSizeSM;return(0,_.IX)(t,{tagFontSize:o,tagLineHeight:(0,h.bf)(r(t.lineHeightSM).mul(o).equal()),tagIconSize:r(n).sub(r(e).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},g=t=>({defaultBg:new f.t(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText});var w=(0,m.I$)("Tag",(t=>(t=>{const{paddingXXS:e,lineWidth:n,tagPaddingHorizontal:r,componentCls:o,calc:i}=t,s=i(r).sub(n).equal(),a=i(e).sub(n).equal();return{[o]:Object.assign(Object.assign({},(0,p.Wf)(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:s,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${(0,h.bf)(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${o}-close-icon`]:{marginInlineStart:a,fontSize:t.tagIconSize,color:t.colorTextDescription,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:s}}),[`${o}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}})(y(t))),g),R=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};const v=r.forwardRef(((t,e)=>{const{prefixCls:n,style:o,className:s,checked:a,onChange:c,onClick:u}=t,l=R(t,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:h,tag:f}=r.useContext(d.E_),p=h("tag",n),[_,m,y]=w(p),g=i()(p,`${p}-checkable`,{[`${p}-checkable-checked`]:a},null==f?void 0:f.className,s,m,y);return _(r.createElement("span",Object.assign({},l,{ref:e,style:Object.assign(Object.assign({},o),null==f?void 0:f.style),className:g,onClick:t=>{null==c||c(!a),null==u||u(t)}})))}));var E=v,b=n(98719);var A=(0,m.bk)(["Tag","preset"],(t=>(t=>(0,b.Z)(t,((e,n)=>{let{textColor:r,lightBorderColor:o,lightColor:i,darkColor:s}=n;return{[`${t.componentCls}${t.componentCls}-${e}`]:{color:r,background:i,borderColor:o,"&-inverse":{color:t.colorTextLightSolid,background:s,borderColor:s},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}})))(y(t))),g);const O=(t,e,n)=>{const r="string"!=typeof(o=n)?o:o.charAt(0).toUpperCase()+o.slice(1);var o;return{[`${t.componentCls}${t.componentCls}-${e}`]:{color:t[`color${n}`],background:t[`color${r}Bg`],borderColor:t[`color${r}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}};var N=(0,m.bk)(["Tag","status"],(t=>{const e=y(t);return[O(e,"success","Success"),O(e,"processing","Info"),O(e,"error","Error"),O(e,"warning","Warning")]}),g),T=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};const I=r.forwardRef(((t,e)=>{const{prefixCls:n,className:o,rootClassName:h,style:f,children:p,icon:_,color:m,onClose:y,bordered:g=!0,visible:R}=t,v=T(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:E,direction:b,tag:O}=r.useContext(d.E_),[I,C]=r.useState(!0),S=(0,s.Z)(v,["closeIcon","closable"]);r.useEffect((()=>{void 0!==R&&C(R)}),[R]);const x=(0,a.o2)(m),k=(0,a.yT)(m),D=x||k,L=Object.assign(Object.assign({backgroundColor:m&&!D?m:void 0},null==O?void 0:O.style),f),P=E("tag",n),[M,U,H]=w(P),z=i()(P,null==O?void 0:O.className,{[`${P}-${m}`]:D,[`${P}-has-color`]:m&&!D,[`${P}-hidden`]:!I,[`${P}-rtl`]:"rtl"===b,[`${P}-borderless`]:!g},o,h,U,H),B=t=>{t.stopPropagation(),null==y||y(t),t.defaultPrevented||C(!1)},[,j]=(0,c.Z)((0,c.w)(t),(0,c.w)(O),{closable:!1,closeIconRender:t=>{const e=r.createElement("span",{className:`${P}-close-icon`,onClick:B},t);return(0,u.wm)(t,e,(t=>({onClick:e=>{var n;null===(n=null==t?void 0:t.onClick)||void 0===n||n.call(t,e),B(e)},className:i()(null==t?void 0:t.className,`${P}-close-icon`)})))}}),F="function"==typeof v.onClick||p&&"a"===p.type,G=_||null,V=G?r.createElement(r.Fragment,null,G,p&&r.createElement("span",null,p)):p,$=r.createElement("span",Object.assign({},S,{ref:e,className:z,style:L}),V,j,x&&r.createElement(A,{key:"preset",prefixCls:P}),k&&r.createElement(N,{key:"status",prefixCls:P}));return M(F?r.createElement(l.Z,{component:"Tag"},$):$)})),C=I;C.CheckableTag=E;var S=C},20698:function(t,e,n){"use strict";var r=n(48764).Buffer;class o{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function i(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=o,e.nameWithProperty=i,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof o))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,n){return e.decode(t,n)},writable:!0})};class s extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class a extends s{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class c extends s{constructor(t,e,n){if(!(t instanceof o))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof u||this.layout instanceof l}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class u extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class l extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}class d extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntLE(t,n,this.span),this.span}}class h extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntBE(t,n,this.span),this.span}}const f=Math.pow(2,32);function p(t){const e=Math.floor(t/f);return{hi32:e,lo32:t-e*f}}function _(t,e){return t*f+e}class m extends o{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return _(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class y extends o{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return _(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class g extends o{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return _(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class w extends o{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return _(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class R extends o{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatLE(t,n),4}}class v extends o{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatBE(t,n),4}}class E extends o{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleLE(t,n),8}}class b extends o{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleBE(t,n),8}}class A extends o{constructor(t,e,n){if(!(t instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof s)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0,r=this.count;if(r instanceof s&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let o=0;for(;o<r;)n+=this.elementLayout.getSpan(t,e+n),++o}return n}decode(t,e){void 0===e&&(e=0);const n=[];let r=0,o=this.count;for(o instanceof s&&(o=o.decode(t,e));r<o;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n){void 0===n&&(n=0);const r=this.elementLayout,o=t.reduce(((t,o)=>t+r.encode(o,e,n+t)),0);return this.count instanceof s&&this.count.encode(t.length,e,n),o}}class O extends o{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof o),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const o=r.getSpan(t,e);return e+=o,n+o}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let o=0,i=0;for(const r of this.fields){let s=r.span;if(i=0<s?s:0,void 0!==r.property){const o=t[r.property];void 0!==o&&(i=r.encode(o,e,n),0>s&&(s=r.getSpan(e,n)))}o=n,n+=s}return o+i-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class N{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class T extends N{constructor(t,e){if(!(t instanceof s&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class I extends o{constructor(t,e,n){const r=t instanceof u||t instanceof l;if(r)t=new T(new c(t));else if(t instanceof s&&t.isCount())t=new T(t);else if(!(t instanceof N))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof o))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return a(t)},this.configGetSourceVariant=function(t){a=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,o=r.decode(t,e);let i=this.registry[o];if(void 0===i){let s=0;i=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=o,n[i.property]=this.defaultLayout.decode(t,e+s)}else n=i.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=r.layout.span),r.encode(t[r.property],e,n),i+o.encode(t[o.property],e,n+i)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new C(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return r.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class C extends o{constructor(t,e,n,r){if(!(t instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof o))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),o+=this.layout.getSpan(e,n+r),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function S(t){return 0>t&&(t+=4294967296),t}class x extends o{constructor(t,e,n){if(!(t instanceof u||t instanceof l))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=S(t),this},this._packedGetValue=function(){return r}}decode(t,e){const n=this.makeDestinationObject();void 0===e&&(e=0);const r=this.word.decode(t,e);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(r));return n}encode(t,e,n){void 0===n&&(n=0);const r=this.word.decode(e,n);this._packedSetValue(r);for(const e of this.fields)if(void 0!==e.property){const n=t[e.property];void 0!==n&&e.encode(n)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new k(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new D(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class k{constructor(t,e,n){if(!(t instanceof x))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,o=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+o>r)throw new Error("bits too long for span remainder ("+(r-o)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=r-o-e),this.wordMask=S(this.valueMask<<this.start),this.property=n}decode(){return S(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==S(t&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=S(t<<this.start);this.container._packedSetValue(S(e&~this.wordMask)|n)}}class D extends k{constructor(t,e){super(t,1,e)}decode(t,e){return!!k.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t=+t),k.prototype.encode.call(this,t)}}class L extends o{constructor(t,e){if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof s||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let o=this.length;if(this.length instanceof s&&(o=t.length),!r.isBuffer(t)||o!==t.length)throw new TypeError(i("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,o,"hex"),this.length instanceof s&&this.length.encode(o,e,n),o}}class P extends o{constructor(t){super(-1,t)}getSpan(t,e){if(!r.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);return t.slice(e,e+r-1).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const o=new r(t,"utf8"),i=o.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(e,n),e[n+i]=0,i+1}}class M extends o{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!r.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+r).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const o=new r(t,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(e,n),i}}class U extends o{constructor(t,e){super(0,e),this.value=t}decode(t,e,n){return this.value}encode(t,e,n){return 0}}e.ExternalLayout=s,e.GreedyCount=a,e.OffsetLayout=c,e.UInt=u,e.UIntBE=l,e.Int=d,e.IntBE=h,e.Float=R,e.FloatBE=v,e.Double=E,e.DoubleBE=b,e.Sequence=A,e.Structure=O,e.UnionDiscriminator=N,e.UnionLayoutDiscriminator=T,e.Union=I,e.VariantLayout=C,e.BitStructure=x,e.BitField=k,e.Boolean=D,e.Blob=L,e.CString=P,e.UTF8=M,e.Constant=U,e.greedy=(t,e)=>new a(t,e),e.offset=(t,e,n)=>new c(t,e,n),e.u8=t=>new u(1,t),e.u16=t=>new u(2,t),e.u24=t=>new u(3,t),e.u32=t=>new u(4,t),e.u40=t=>new u(5,t),e.u48=t=>new u(6,t),e.nu64=t=>new m(t),e.u16be=t=>new l(2,t),e.u24be=t=>new l(3,t),e.u32be=t=>new l(4,t),e.u40be=t=>new l(5,t),e.u48be=t=>new l(6,t),e.nu64be=t=>new y(t),e.s8=t=>new d(1,t),e.s16=t=>new d(2,t),e.s24=t=>new d(3,t),e.s32=t=>new d(4,t),e.s40=t=>new d(5,t),e.s48=t=>new d(6,t),e.ns64=t=>new g(t),e.s16be=t=>new h(2,t),e.s24be=t=>new h(3,t),e.s32be=t=>new h(4,t),e.s40be=t=>new h(5,t),e.s48be=t=>new h(6,t),e.ns64be=t=>new w(t),e.f32=t=>new R(t),e.f32be=t=>new v(t),e.f64=t=>new E(t),e.f64be=t=>new b(t),e.struct=(t,e,n)=>new O(t,e,n),e.bits=(t,e,n)=>new x(t,e,n),e.seq=(t,e,n)=>new A(t,e,n),e.union=(t,e,n)=>new I(t,e,n),e.unionLayoutDiscriminator=(t,e)=>new T(t,e),e.blob=(t,e)=>new L(t,e),e.cstr=t=>new P(t),e.utf8=(t,e)=>new M(t,e),e.const=(t,e)=>new U(t,e)},43651:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=n(67294),o=n(54306);function i(){const{publicKey:t,signTransaction:e,signAllTransactions:n}=(0,o.O)();return(0,r.useMemo)((()=>t&&e&&n?{publicKey:t,signTransaction:e,signAllTransactions:n}:void 0),[t,e,n])}}}]);