"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7510],{3582:function(e,r,n){n.r(r);var t=n(15009),s=n.n(t),a=n(99289),o=n.n(a),c=n(5574),u=n.n(c),i=n(39380),l=n(38345),f=n(97269),m=n(5966),p=n(90672),d=n(54306),g=n(88026),h=n(2453),w=n(83622),x=n(67294),b=n(11577),v=n(22819),k=n(57721),y=n(85893),M=n(48764).Buffer;r.default=function(){var e=h.ZP.useMessage(),r=u()(e,2),n=r[0],t=r[1],a=(0,x.useRef)(),c=(0,x.useRef)(),j=(0,d.O)(),I=j.publicKey,C=j.signMessage,F=(0,g.useIntl)(),S=F.formatMessage({id:"common.intlCopy"}),Z=F.formatMessage({id:"common.intlSignSuccess"}),z=F.formatMessage({id:"common.intlCopySuccess"}),P=F.formatMessage({id:"common.intlInputException"}),R=F.formatMessage({id:"common.intlVerifySignature"}),A=F.formatMessage({id:"common.intlSign"}),V=F.formatMessage({id:"common.intlPleaseConnectWallet"}),q=F.formatMessage({id:"common.intlRawInfo"}),N=F.formatMessage({id:"common.intlSignInfo"}),O=F.formatMessage({id:"common.intlVerifyAccount"}),B=F.formatMessage({id:"common.intlVerifySuccess"}),E=F.formatMessage({id:"common.intlVerifyFail"}),K=(0,x.useCallback)(function(){var e=o()(s()().mark((function e(r){var t,o,c,u,i;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,I&&C){e.next=3;break}return e.abrupt("return",n.error(V));case 3:return o=r.rawInfo,c=M.from(o,"utf-8"),e.next=7,C(c);case 7:u=e.sent,i=M.from(u).toString("base64"),null===(t=a.current)||void 0===t||t.setFieldValue("signInfo",i),n.success("".concat(Z)),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",n.error(e.t0.message));case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r){return e.apply(this,arguments)}}(),[]),L=(0,x.useCallback)(function(){var e=o()(s()().mark((function e(r){var t,a,o,c,u,i,l;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r.rawInfo,a=r.signInfo,o=r.targetAccount,c=M.from(t,"utf-8"),u=(0,b.tA)(),i=u.encode(a),e.next=7,(0,v.pl)((0,v.Lk)(o));case 7:return l=e.sent,e.next=10,(0,k.uM)(l,i,c);case 10:e.sent?n.success("".concat(B)):n.error("".concat(E)),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",n.error(e.t0.message));case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r){return e.apply(this,arguments)}}(),[]),T=(0,x.useCallback)(o()(s()().mark((function e(){var r,t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===(r=a.current)||void 0===r?void 0:r.getFieldValue("signInfo"),e.next=3,window.navigator.clipboard.writeText(t);case 3:n.success("".concat(z));case 4:case"end":return e.stop()}}),e)}))),[]);return(0,y.jsxs)(i._z,{className:"",ghost:!0,children:[(0,y.jsxs)("div",{className:"flex flex-wrap justify-around items-start gap-5",children:[(0,y.jsx)(l.Z,{title:A,style:{width:"480px"},children:(0,y.jsxs)(f.A,{formRef:a,onFinish:function(){var e=o()(s()().mark((function e(r){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),submitter:{render:function(e,r){return[r[1],r[0],(0,y.jsx)(w.ZP,{onClick:T,children:S},"copy")]}},children:[(0,y.jsx)(m.Z,{name:"rawInfo",label:q,fieldProps:{size:"large",autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(P)}]}),(0,y.jsx)(p.Z,{name:"signInfo",label:N,placeholder:"",fieldProps:{autoSize:{minRows:7},autoFocus:!1,readOnly:!0,size:"large"}})]})}),(0,y.jsx)(l.Z,{title:R,style:{width:"480px"},children:(0,y.jsxs)(f.A,{formRef:c,onFinish:function(){var e=o()(s()().mark((function e(r){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,y.jsx)(m.Z,{name:"rawInfo",label:q,fieldProps:{size:"large",autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(P)}]}),(0,y.jsx)(p.Z,{name:"signInfo",label:N,fieldProps:{autoSize:{minRows:7},autoFocus:!1,allowClear:!0,size:"large"},rules:[{required:!0,whitespace:!0,message:"".concat(P)}]}),(0,y.jsx)(m.Z,{name:"targetAccount",label:O,fieldProps:{size:"large",autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(P)}]})]})})]}),t]})}}}]);