"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2697],{38182:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var r=n(15009),a=n.n(r),o=n(99289),l=n.n(o),s=n(5574),i=n.n(s),u=n(87739),c=n(64119),f=n(39380),p=n(38345),m=n(97269),d=n(25054),x=n(31199),P=n(1413),h=n(91),v=n(67294),b=n(66758),F=n(63053),g=n(85893),j=["fieldProps","proFieldProps"],S="dateTime",R=v.forwardRef((function(e,t){var n=e.fieldProps,r=e.proFieldProps,a=(0,h.Z)(e,j),o=(0,v.useContext)(b.Z);return(0,g.jsx)(F.Z,(0,P.Z)({ref:t,fieldProps:(0,P.Z)({getPopupContainer:o.getPopupContainer},n),valueType:S,proFieldProps:r,filedConfig:{valueType:S,customLightMode:!0}},a))})),y=n(27484),N=n.n(y),k=n(97582),T=n(23279),O=n.n(T);var Z=function(e){var t=(0,v.useRef)(e);return t.current=e,t},C=function(e){var t=Z(e);(0,v.useEffect)((function(){return function(){t.current()}}),[])};var w=function(e,t){var n,r=Z(e),a=null!==(n=null==t?void 0:t.wait)&&void 0!==n?n:1e3,o=(0,v.useMemo)((function(){return O()((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.current.apply(r,(0,k.ev)([],(0,k.CR)(e),!1))}),a,t)}),[]);return C((function(){o.cancel()})),{run:o,cancel:o.cancel,flush:o.flush}};var L=function(e,t){var n=(0,k.CR)((0,v.useState)(e),2),r=n[0],a=n[1],o=w((function(){a(e)}),t).run;return(0,v.useEffect)((function(){o()}),[e]),r},A=n(84567),Y=function(){var e=(0,v.useRef)(),t=(0,v.useState)(.5),n=i()(t,2),r=n[0],o=n[1],s=(0,v.useState)(50),P=i()(s,2),h=P[0],b=P[1],F=(0,v.useState)(1e3),j=i()(F,2),S=j[0],y=j[1],k=(0,v.useState)(10),T=i()(k,2),O=T[0],Z=T[1],C=(0,v.useState)(5),w=i()(C,2),Y=w[0],D=w[1],I=(0,v.useState)(12),W=i()(I,2),_=W[0],M=W[1],E=(0,v.useState)(.5),H=i()(E,2),U=H[0],V=H[1],K=(0,v.useState)(.1),z=i()(K,2),B=z[0],q=z[1],G=(0,v.useState)(1),J=i()(G,2),Q=J[0],X=J[1],$=(0,v.useState)(20),ee=i()($,2),te=ee[0],ne=ee[1],re=L(te,{wait:50}),ae=(0,v.useState)(!1),oe=i()(ae,2),le=oe[0],se=oe[1],ie=(0,v.useState)([]),ue=i()(ie,2),ce=ue[0],fe=ue[1],pe=(0,v.useState)([]),me=i()(pe,2),de=me[0],xe=me[1],Pe=(0,v.useState)(),he=i()(Pe,2),ve=he[0],be=he[1],Fe=(0,v.useState)(0),ge=i()(Fe,2),je=ge[0],Se=ge[1],Re=(0,v.useState)(!1),ye=i()(Re,2),Ne=ye[0],ke=ye[1],Te=(0,v.useCallback)((function(e,t,n){var r=[],a=1e9,o=e.length-1,l=o-1,s=a*t/100,i=(a-s)/n,u=e[o].vaultSolSum,c=e[l].vaultSolSum,f=e[o].nftPrice,p=e[l].invest/n,m=u,d=i,x=s,P=0,h=c,v=i,b=s,F=0;r.push({key:0,tokenPerNft:i,nftPriceLast:f,nftPricePenultimate:p,solOutputLast:P,solOutputPenultimate:F,solPoolLast:m,solPoolPenultimate:h,tokenPoolLast:x,tokenPoolPenultimate:b,profitLast:0,profitPenultimate:0});for(var g=0;g<n;++g)P=m*d/(x+d),x+=d,m-=P,F=h*v/(b+v),b+=v,h-=F,r.push({key:g+1,tokenPerNft:i,nftPriceLast:f,nftPricePenultimate:p,solOutputLast:P,solOutputPenultimate:F,solPoolLast:m,solPoolPenultimate:h,tokenPoolLast:x,tokenPoolPenultimate:b,profitLast:P-f,profitPenultimate:F-p});xe(r)}),[]),Oe=(0,v.useCallback)(function(){var e=l()(a()().mark((function e(t){var n,r,o,l,s,i,u,c,f,p,m,d,x,P,h,v,b,F,g,j,S,R,y,k,T,O,Z,C,w,L,A,Y,D;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.initNftSupply,r=t.maxNftSupply,o=t.nftIncreaseRate,l=t.nftTradeFeeRate,s=t.timePerRound,i=t.initNftPrice,u=t.creatorFeeRate,c=t.inviterFeeRate,f=t.platformFeeRate,p=t.lpTokenRate,m=t.createTime,d=Ne?60*s:60*s*60,x=2*i,F=l/100-(h=u/100)-(v=c/100),g=(1+(P=o/100))*(1-((b=f/100)+l/100))-1,j=[],S=[],R=1,y=m?N()(m):N()(),k=y.valueOf(),T=y.format("YYYY-MM-DDTHH:mm:ss"),O=n*i,j.push({key:0,roundLocalValue:k,roundLocalFormat:T,invest:O,profitUser:0,profitUserSum:0,profitCreator:0,profitCreatorSum:0,profitInviter:0,profitInviterSum:0,profitPlatform:0,profitPlatformSum:0,vaultSol:O,vaultSolSum:O,nftCount:n,nftPrice:i}),S=new Array(n).fill(i*(1+P)),Z=0,C=0,w=0,L=0,A=O,Y=N()(k).add(d,"seconds"),k=Y.valueOf(),T=Y.format("YYYY-MM-DDTHH:mm:ss"),se(!0),D=a()().mark((function e(){var t,n,o,l,s,i,u,c,f,p;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=S.length,n=0;case 2:if(!(n<t)){e.next=12;break}if(!((o=S[n])>=x)){e.next=9;break}if(S[n]=o/2,S.push(o/2+.005),!(S.length>=r)){e.next=9;break}return e.abrupt("break",12);case 9:++n,e.next=2;break;case 12:if(l=0,S.forEach((function(e){l+=e})),Z+=s=l*g,C+=i=l*h,w+=u=l*v,L+=c=l*b,A+=f=l*F,j.push({key:R++,roundLocalValue:k,roundLocalFormat:T,invest:l,profitUser:s,profitUserSum:Z,profitCreator:i,profitCreatorSum:C,profitInviter:u,profitInviterSum:w,profitPlatform:c,profitPlatformSum:L,vaultSol:f,vaultSolSum:A,nftCount:S.length,nftPrice:S.reduce((function(e,t){return e+t}),0)/S.length}),!(S.length>=r)){e.next=27;break}return e.abrupt("return",1);case 27:p=N()(k).add(d,"seconds"),k=p.valueOf(),T=p.format("YYYY-MM-DDTHH:mm:ss"),S.forEach((function(e,t){S[t]=e*(P+1)}));case 31:case"end":return e.stop()}}),e)}));case 29:if(!(S.length<r)){e.next=35;break}return e.delegateYield(D(),"t0",31);case 31:if(!e.t0){e.next=33;break}return e.abrupt("break",35);case 33:e.next=29;break;case 35:Te(j,p,r),Se(g),be(t),fe(j),se(!1);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ne]),Ze=(0,v.useCallback)((function(){var t;null===(t=e.current)||void 0===t||t.resetFields(),o(.5),b(50),y(1e3),Z(10),D(5),M(12),V(.1),q(.1),X(.8),ne(50)}),[]),Ce=(0,v.useCallback)((function(e){e.initNftPrice&&o(e.initNftPrice),e.initNftSupply&&b(e.initNftSupply),e.maxNftSupply&&y(e.maxNftSupply),e.nftIncreaseRate&&Z(e.nftIncreaseRate),e.nftTradeFeeRate&&D(e.nftTradeFeeRate),e.timePerRound&&M(e.timePerRound),e.creatorFeeRate&&V(e.creatorFeeRate),e.inviterFeeRate&&q(e.inviterFeeRate),e.platformFeeRate&&X(e.platformFeeRate),e.lpTokenRate&&ne(e.lpTokenRate)}),[]);return(0,g.jsxs)(f._z,{className:"",ghost:!0,children:[(0,g.jsx)(p.Z,{children:(0,g.jsxs)(m.A,{grid:!0,rowProps:{gutter:[18,0]},formRef:e,onFinish:Oe,onReset:Ze,onValuesChange:Ce,initialValues:{initNftPrice:.5,initNftSupply:50,maxNftSupply:1e3,nftIncreaseRate:10,nftTradeFeeRate:5,timePerRound:12,nftBurnableAfter:48,creatorFeeRate:.5,inviterFeeRate:.1,platformFeeRate:1,lpTokenRate:20},children:[(0,g.jsx)(d.Z,{name:"initNftPrice",label:(0,g.jsxs)("div",{children:["NFT初始发行价格",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",r," SOL"]})]}),tooltip:"NFT初始发行mint价格",min:.1,max:10,step:.1,marks:{.5:"0.5",1:"1",3:"3",5:"5",7:"7",10:"10"},colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e," SOL")}}}}),(0,g.jsx)(x.Z,{name:"initNftPrice",label:"值",min:.1,max:10,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"SOL",step:.1}}),(0,g.jsx)(d.Z,{name:"initNftSupply",label:(0,g.jsxs)("div",{children:["NFT初始发行数量",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",h]})]}),tooltip:"NFT初始发行mint数量",min:1,max:1e3,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1}}),(0,g.jsx)(x.Z,{name:"initNftSupply",label:"值",min:1,max:1e3,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0}}),(0,g.jsx)(d.Z,{name:"maxNftSupply",label:(0,g.jsxs)("div",{children:["NFT最大发行量",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",S]})]}),tooltip:"NFT最大可mint数量",min:1,max:1e4,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1}}),(0,g.jsx)(x.Z,{name:"maxNftSupply",label:"值",min:1,max:1e4,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0}}),(0,g.jsx)(d.Z,{name:"nftIncreaseRate",label:(0,g.jsxs)("div",{children:["NFT每轮涨幅",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",O,"%"]})]}),tooltip:"NFT每轮涨幅",min:1,max:100,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,g.jsx)(x.Z,{name:"nftIncreaseRate",label:"值",min:1,max:100,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%"}}),(0,g.jsx)(d.Z,{name:"nftTradeFeeRate",label:(0,g.jsxs)("div",{children:["NFT交易手续费",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",Y,"%"]})]}),tooltip:"注入资金池的费用，图片销毁时全部用于提供池子流动性",min:1,max:100,step:.01,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,g.jsx)(x.Z,{name:"nftTradeFeeRate",label:"值",min:1,max:100,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:.01}}),(0,g.jsx)(d.Z,{name:"timePerRound",label:(0,g.jsxs)("div",{className:"flex items-center",children:["每轮时间",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",_,Ne?"分钟":"小时"]}),(0,g.jsx)(A.Z,{className:"ml-2",checked:Ne,onChange:function(e){return ke(e.target.checked)},children:"分钟"})]}),tooltip:"每轮购买的时间间隔",min:1,max:Ne?60:72,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1}}),(0,g.jsx)(x.Z,{name:"timePerRound",label:"值",min:1,max:Ne?60:72,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:Ne?"分钟":"小时"}}),(0,g.jsx)(d.Z,{name:"creatorFeeRate",label:(0,g.jsxs)("div",{children:["创建者收益",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",U,"%"]})]}),tooltip:"创建者每张NFT收益百分比，按NFT价格计算",min:.1,max:10,step:.1,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,g.jsx)(x.Z,{name:"creatorFeeRate",label:"值",min:.1,max:10,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:.1}}),(0,g.jsx)(d.Z,{name:"inviterFeeRate",label:(0,g.jsxs)("div",{children:["邀请人收益",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",B,"%"]})]}),tooltip:"邀请人百分比，按NFT价格计算",min:.1,max:10,step:.1,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,g.jsx)(x.Z,{name:"inviterFeeRate",label:"值",min:.1,max:10,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:.1}}),(0,g.jsx)(d.Z,{name:"platformFeeRate",label:(0,g.jsxs)("div",{children:["平台手续费",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",Q,"%"]})]}),tooltip:"平台手续费",min:.1,max:10,step:.1,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}}}),(0,g.jsx)(x.Z,{name:"platformFeeRate",label:"值",min:.1,max:10,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:.1}}),(0,g.jsx)(d.Z,{name:"lpTokenRate",label:(0,g.jsxs)("div",{children:["流动性池子代币占比",(0,g.jsxs)("span",{className:"text-blue-500",children:[" ",te,"%"]})]}),tooltip:"销毁时，注入到流动性池子中token的占比",min:1,max:100,step:1,colProps:{xl:9,lg:8,md:7,xs:17},fieldProps:{autoFocus:!1,tooltip:{formatter:function(e){return"".concat(e,"%")}}},help:(0,c.uf)(1e7*re)+" / "+(0,c.uf)(1e9)}),(0,g.jsx)(x.Z,{name:"lpTokenRate",label:"值",min:1,max:100,colProps:{xl:3,lg:4,md:5,xs:7},fieldProps:{autoFocus:!1,changeOnWheel:!0,addonAfter:"%",step:1}}),(0,g.jsx)(R,{name:"createTime",label:"创建时间",colProps:{xl:12,lg:12,md:12,xs:24},fieldProps:{autoFocus:!1},width:"lg"})]})}),(0,g.jsx)(p.Z,{tabs:{items:[{key:"round",label:(0,g.jsx)("span",{className:" text-base font-semibold",children:"轮次数据"}),children:(0,g.jsx)(u.a1,{roundDataSource:ce,formData:ve,loading:le,profitRate:je,minuteChecked:Ne})},{key:"sell",label:(0,g.jsx)("span",{className:" text-base font-semibold",children:"卖出数据"}),children:(0,g.jsx)(u.nK,{sellDataSource:de,formData:ve,loading:le})}],defaultActiveKey:"roundData"}})]})}},97582:function(e,t,n){n.d(t,{CR:function(){return l},ZT:function(){return a},ev:function(){return s},pi:function(){return o}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.create;function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return l}function s(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError}}]);