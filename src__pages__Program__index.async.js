"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[987],{95171:function(e,n,r){r.r(n),r.d(n,{default:function(){return Dn}});var t=r(64599),a=r.n(t),s=r(15009),i=r.n(s),c=r(99289),o=r.n(c),u=r(5574),l=r.n(u),d=r(70609),f=r(92398),m=r(67294),p=r(88026),h=r(27295),v=r(97857),y=r.n(v),g=r(64435),x=r(66309),b=r(25593),j=r(55241),k=r(1604),w=r(13550),I=r.n(w),S=r(87713),_=r(23204),M=r.n(_),P=r(30527),N=r(71817),A=r(78953),O=r(85893),Z=r(48764).Buffer;function E(e){return"[object Object]"===Object.prototype.toString.call(e)}function C(e,n,r,t){var s;switch(n){case"bool":s=k.z.string().regex(/^true|false$/).transform((function(e){return JSON.parse(e)})).parse(e);break;case"u8":s=k.z.string().regex(/^\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(0).lte(255)).parse(e);break;case"i8":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-128).lte(127)).parse(e);break;case"u16":s=k.z.string().regex(/^\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(0).lte(65535)).parse(e);break;case"i16":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-32768).lte(32767)).parse(e);break;case"u32":s=k.z.string().regex(/^\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(0).lte(4294967295)).parse(e);break;case"i32":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-2147483648).lte(2147483647)).parse(e);break;case"u64":s=k.z.string().regex(/^\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(0n).lte(18446744073709551615n).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"i64":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(-9223372036854775808n).lte(9223372036854775807n).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"u128":s=k.z.string().regex(/^\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(0n).lte(340282366920938463463374607431768211455n).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"i128":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(-170141183460469231731687303715884105728n).lte(1701411834604692317316873037158841057277n).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"u256":s=k.z.string().regex(/^\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(0n).lte(BigInt(2e256)).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"i256":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(BigInt(-2e255)).lte(BigInt(2e255)).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"f32":s=k.z.string().regex(/^(-?\d+)(\.\d+)?$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-34e37).lte(34e37)).parse(e);break;case"f64":s=k.z.string().regex(/^(-?\d+)(\.\d+)?$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-179e306).lte(179e306)).parse(e);break;case"bytes":var i=k.z.string().regex(/^([0-9a-fA-F][0-9a-fA-F])+$/).transform((function(e){return Z.from(e,"hex")})).safeParse(e);if(i.success)s=i.data;else{var c=JSON.parse(e);s=k.z.array(k.z.number().gte(0).lte(255)).transform((function(e){return Z.from(e)})).parse(c)}break;case"string":s=t?k.z.string().transform((function(e){return e.replace(/^"|"$/g,"")})).parse(e):k.z.string().parse(e);break;case"publicKey":s=t?k.z.string().transform((function(e){return new S.PublicKey(e.replace(/^"|"$/g,""))})).parse(e):k.z.string().transform((function(e){return new S.PublicKey(e)})).parse(e);break;default:if(s=JSON.parse(e),"vec"in n){if(!Array.isArray(s))throw new Error("Input exception");s.forEach((function(e,t){s[t]=C(JSON.stringify(e),n.vec,r,!0)}))}else if("array"in n){if(!Array.isArray(s))throw new Error("Input exception");if(s.length!==n.array[1])throw new Error("Input exception");s.forEach((function(e,t){s[t]=C(JSON.stringify(e),n.array[0],r,!0)}))}else if("option"in n)s&&(s=C(JSON.stringify(s),n.option,r,!0));else if("coption"in n)s&&(s=C(JSON.stringify(s),n.coption,r,!0));else if("defined"in n){var o=n.defined,u=r&&r.find((function(e){return e.name===o}));if(u){var l=u.type.kind;if("struct"===l){var d,f=Object.keys(s),m=u.type.fields,p=a()(m);try{for(p.s();!(d=p.n()).done;){var h=d.value;if(!f.includes(h.name))throw new Error("Input exception")}}catch(e){p.e(e)}finally{p.f()}var v,y=a()(m);try{for(y.s();!(v=y.n()).done;){var g=v.value,x=g.name,b=g.type,j=s[x];s[x]=C(JSON.stringify(j),b,r,!0)}}catch(e){y.e(e)}finally{y.f()}}else if("enum"===l){if(!E(s))throw new Error("Input exception");var w=Object.keys(s),_=u.type.variants;if(1!==w.length)throw new Error("Input exception");var M=w[0],P=_.find((function(e){return e.name===M}));if(!P)throw new Error("Input exception");if(null!=P&&P.fields)for(var N=P.fields,A=Object.keys(s[M]),O=0;O<N.length;++O)if(N[O].hasOwnProperty("name")){var z=N[O];if(!A.includes(z.name))throw new Error("Input exception");var F=z.name,K=z.type,R=s[M][F];s[M][F]=C(JSON.stringify(R),K,r,!0)}else{var B=s[M][O],L=N[O];s[M][O]=C(JSON.stringify(B),L,r,!0)}else if("{}"!==JSON.stringify(s[M]))throw new Error("Input exception")}else if("alias"===l){var D=u.type.value;s=C(JSON.stringify(s),D,r,t)}}}}return s}function z(e,n,r,t){var s;switch(n){case"bool":s=k.z.string().regex(/^true|false$/).transform((function(e){return JSON.parse(e)})).parse(e);break;case"u8":s=k.z.string().regex(/^\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(0).lte(255)).parse(e);break;case"i8":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-128).lte(127)).parse(e);break;case"u16":s=k.z.string().regex(/^\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(0).lte(65535)).parse(e);break;case"i16":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-32768).lte(32767)).parse(e);break;case"u32":s=k.z.string().regex(/^\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(0).lte(4294967295)).parse(e);break;case"i32":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-2147483648).lte(2147483647)).parse(e);break;case"u64":s=k.z.string().regex(/^\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(0n).lte(18446744073709551615n).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"i64":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(-9223372036854775808n).lte(9223372036854775807n).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"u128":s=k.z.string().regex(/^\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(0n).lte(340282366920938463463374607431768211455n).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"i128":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(-170141183460469231731687303715884105728n).lte(1701411834604692317316873037158841057277n).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"u256":s=k.z.string().regex(/^\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(0n).lte(BigInt(2e256)).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"i256":s=k.z.string().regex(/^-?\d+$/).transform((function(e){return BigInt(e)})).pipe(k.z.bigint().gte(BigInt(-2e255)).lte(BigInt(2e255)).transform((function(e){return new(I())(e.toString())}))).parse(e);break;case"f32":s=k.z.string().regex(/^(-?\d+)(\.\d+)?$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-34e37).lte(34e37)).parse(e);break;case"f64":s=k.z.string().regex(/^(-?\d+)(\.\d+)?$/).transform((function(e){return Number(e)})).pipe(k.z.number().gte(-179e306).lte(179e306)).parse(e);break;case"bytes":var i=k.z.string().regex(/^([0-9a-fA-F][0-9a-fA-F])+$/).transform((function(e){return Z.from(e,"hex")})).safeParse(e);if(i.success)s=i.data;else{var c=JSON.parse(e);s=k.z.array(k.z.number().gte(0).lte(255)).transform((function(e){return Z.from(e)})).parse(c)}break;case"string":s=t?k.z.string().transform((function(e){return e.replace(/^"|"$/g,"")})).parse(e):k.z.string().parse(e);break;case"pubkey":s=t?k.z.string().transform((function(e){return new S.PublicKey(e.replace(/^"|"$/g,""))})).parse(e):k.z.string().transform((function(e){return new S.PublicKey(e)})).parse(e);break;default:if(s=JSON.parse(e),"vec"in n){if(!Array.isArray(s))throw new Error("Input exception");s.forEach((function(e,t){s[t]=z(JSON.stringify(e),n.vec,r,!0)}))}else if("array"in n){if(!Array.isArray(s))throw new Error("Input exception");if(s.length!==n.array[1])throw new Error("Input exception");s.forEach((function(e,t){s[t]=z(JSON.stringify(e),n.array[0],r,!0)}))}else if("option"in n)s&&(s=z(JSON.stringify(s),n.option,r,!0));else if("coption"in n)s&&(s=z(JSON.stringify(s),n.coption,r,!0));else if("defined"in n){var o=n.defined.name;if(!n.defined.generics&&r&&r.length){var u=r.find((function(e){return e.name===o}));if(u){var l=u.type.kind;if("struct"===l){var d=Object.keys(s),f=u.type.fields;if(f)if(f[0].hasOwnProperty("name")){var m,p=a()(f);try{for(p.s();!(m=p.n()).done;){var h=m.value;if(!d.includes(h.name))throw new Error("Input exception")}}catch(e){p.e(e)}finally{p.f()}var v,y=a()(f);try{for(y.s();!(v=y.n()).done;){var g=v.value,x=g.name,b=g.type,j=s[x];s[x]=z(JSON.stringify(j),b,r,!0)}}catch(e){y.e(e)}finally{y.f()}}else{if(!Array.isArray(s))throw new Error("Input exception");if(s.length!==f.length)throw new Error("Input exception");s.forEach((function(e,n){s[n]=z(JSON.stringify(e),f[n],r,!0)}))}else if("{}"!==JSON.stringify(s))throw new Error("Input exception")}else if("enum"===l){if(!E(s))throw new Error("Input exception");var w=Object.keys(s),_=u.type.variants;if(1!==w.length)throw new Error("Input exception");var M=w[0],P=_.find((function(e){return e.name===M}));if(!P)throw new Error("Input exception");if(null!=P&&P.fields)for(var N=P.fields,A=Object.keys(s[M]),O=0;O<N.length;++O)if(N[O].hasOwnProperty("name")){var C=N[O];if(!A.includes(C.name))throw new Error("Input exception");var F=C.name,K=C.type,R=s[M][F];s[M][F]=z(JSON.stringify(R),K,r,!0)}else{var B=s[M][O],L=N[O];s[M][O]=z(JSON.stringify(B),L,r,!0)}else if("{}"!==JSON.stringify(s[M]))throw new Error("Input exception")}else if("type"===l){var D=u.type.alias;s=z(JSON.stringify(s),D,r,t)}}}}}return s}function F(e,n){if("bool"===e||"u8"===e||"i8"===e||"u16"===e||"i16"===e||"u32"===e||"i32"===e||"f32"===e||"u64"===e||"i64"===e||"f64"===e||"u128"===e||"i128"===e||"u256"===e||"i256"===e||"bytes"===e||"string"===e||"publicKey"===e)return e;if(e.hasOwnProperty("defined")){var r=e;if(n&&n.length){var t=r.defined,a=n.find((function(e){return e.name===t})),s="",i="";if(!a)return"".concat(r.defined);var c=a.type.kind;if("struct"===c){s="Struct";var o=a.type.fields,u=[];o.forEach((function(e,r){var t=e.name,a=F(e.type,n);u.push((0,O.jsxs)("div",{children:[t,": ",(0,O.jsx)(x.Z,{color:"success",children:a})]},r))})),i=(0,O.jsx)("div",{className:"space-y-1",children:u})}else if("enum"===c){s="Enum";var l=a.type.variants,d=[];l.forEach((function(e,r){var t=[];if(t.push((0,O.jsx)("span",{children:e.name},Math.random())),e.hasOwnProperty("fields")){var a=e.fields,s=a.length;a.forEach((function(e,r){if(e.hasOwnProperty("name")){0===r&&t.push((0,O.jsx)("span",{children:" {"},Math.random()));var a=e,i=a.name,c=F(a.type,n);t.push((0,O.jsxs)("span",{children:[i,": ",c]},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:"}"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}else{0===r&&t.push((0,O.jsx)("span",{children:" ("},Math.random()));var o=F(e,n);t.push((0,O.jsx)("span",{children:o},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:")"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}}))}d.push((0,O.jsxs)("div",{children:[(0,O.jsx)(x.Z,{color:"warning",children:t}),(0,O.jsx)(b.Z.Text,{type:"secondary",children:r})]},r))})),i=(0,O.jsx)("div",{className:"space-y-1",children:d})}else if("alias"===c){s="Alias";var f=a.type.value;i=(0,O.jsx)("div",{className:"space-y-1",children:(0,O.jsx)(x.Z,{color:"success",children:F(f,n)})})}return(0,O.jsx)(j.Z,{content:i,title:s,children:t})}return"".concat(r.defined)}if(e.hasOwnProperty("option")){var m=F(e.option,n);return(0,O.jsxs)("span",{children:["Option<",m,">"]})}if(e.hasOwnProperty("coption")){var p=F(e.coption,n);return(0,O.jsxs)("span",{children:["COption<",p,">"]})}if(e.hasOwnProperty("vec")){var h=F(e.vec,n);return(0,O.jsxs)("span",{children:["Vec<",h,">"]})}if(e.hasOwnProperty("array")){var v=e,y=F(v.array[0],n),g=v.array[1];return(0,O.jsxs)("span",{children:["[",y,"; ",g,"]"]})}return JSON.stringify(e)}function K(e,n){if("bool"===e||"u8"===e||"i8"===e||"u16"===e||"i16"===e||"u32"===e||"i32"===e||"f32"===e||"u64"===e||"i64"===e||"f64"===e||"u128"===e||"i128"===e||"u256"===e||"i256"===e||"bytes"===e||"string"===e||"pubkey"===e)return e;if(e.hasOwnProperty("defined")){var r=e,t=r.defined.name,a=r.defined.generics;if(a){var s=[],i=t;if(n&&n.length){var c=n.find((function(e){return e.name===t})),o=t,u="";if(c){var l=c.type.kind,d=c.generics;if(d){var f=d.length;d.forEach((function(e,n){0===n&&(o+="<");var r=e.kind,t=e.name;"type"===r?o+=t:"const"===r&&(o+="const ".concat(t,": ").concat(e.type)),o+=1===f||n===f-1?">":", "}))}if("struct"===l){o+=": Struct";var m=c.type.fields,p=[];m?(m.forEach((function(e,r){if(e.hasOwnProperty("name")){var t=e,a=t.name,s=K(t.type,n);p.push((0,O.jsxs)("div",{children:[a,": ",(0,O.jsx)(x.Z,{color:"success",children:s})]},r))}else{var i=K(e,n);p.push((0,O.jsx)("div",{children:(0,O.jsx)(x.Z,{color:"success",children:i})},r))}})),u=(0,O.jsx)("div",{className:"space-y-1",children:p})):u=(0,O.jsx)("div",{className:"space-y-1",children:"__"})}else if("enum"===l){o+=": Enum";var h=c.type.variants,v=[];h.forEach((function(e,r){var t=[];if(t.push((0,O.jsx)("span",{children:e.name},Math.random())),e.hasOwnProperty("fields")){var a=e.fields,s=a.length;a.forEach((function(e,r){if(e.hasOwnProperty("name")){0===r&&t.push((0,O.jsx)("span",{children:" {"},Math.random()));var a=e,i=a.name,c=K(a.type,n);t.push((0,O.jsxs)("span",{children:[i,": ",c]},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:"}"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}else{0===r&&t.push((0,O.jsx)("span",{children:" ("},Math.random()));var o=K(e,n);t.push((0,O.jsx)("span",{children:o},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:")"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}}))}v.push((0,O.jsxs)("div",{children:[(0,O.jsx)(x.Z,{color:"warning",children:t}),(0,O.jsx)(b.Z.Text,{type:"secondary",children:r})]},r))})),u=(0,O.jsx)("div",{className:"space-y-1",children:v})}else if("type"===l){o+=": Type";var y=c.type.alias;u=(0,O.jsx)("div",{className:"space-y-1",children:(0,O.jsx)(x.Z,{color:"success",children:K(y,n)})})}}i=(0,O.jsx)(j.Z,{content:u,title:o,children:t})}s.push((0,O.jsx)("span",{children:i},Math.random())),s.push((0,O.jsx)("span",{children:"<"},Math.random()));var g=a.length;return a.forEach((function(e,r){var t=e.kind;"type"===t?s.push((0,O.jsx)("span",{children:K(e.type,n)},Math.random())):"const"===t&&s.push((0,O.jsx)("span",{children:e.value},Math.random())),1===g||r===g-1?s.push((0,O.jsx)("span",{children:">"},Math.random())):s.push((0,O.jsx)("span",{children:", "},Math.random()))})),s}if(n&&n.length){var k=n.find((function(e){return e.name===t})),w="",I="";if(!k)return t;var S=k.type.kind;if("struct"===S){w="Struct";var _=k.type.fields,M=[];_?(_.forEach((function(e,r){if(e.hasOwnProperty("name")){var t=e,a=t.name,s=K(t.type,n);M.push((0,O.jsxs)("div",{children:[a,": ",(0,O.jsx)(x.Z,{color:"success",children:s})]},r))}else{var i=K(e,n);M.push((0,O.jsx)("div",{children:(0,O.jsx)(x.Z,{color:"success",children:i})},r))}})),I=(0,O.jsx)("div",{className:"space-y-1",children:M})):I=(0,O.jsx)("div",{className:"space-y-1",children:"__"})}else if("enum"===S){w="Enum";var P=k.type.variants,N=[];P.forEach((function(e,r){var t=[];if(t.push((0,O.jsx)("span",{children:e.name},Math.random())),e.hasOwnProperty("fields")){var a=e.fields,s=a.length;a.forEach((function(e,r){if(e.hasOwnProperty("name")){0===r&&t.push((0,O.jsx)("span",{children:" {"},Math.random()));var a=e,i=a.name,c=K(a.type,n);t.push((0,O.jsxs)("span",{children:[i,": ",c]},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:"}"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}else{0===r&&t.push((0,O.jsx)("span",{children:" ("},Math.random()));var o=K(e,n);t.push((0,O.jsx)("span",{children:o},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:")"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}}))}N.push((0,O.jsxs)("div",{children:[(0,O.jsx)(x.Z,{color:"warning",children:t}),(0,O.jsx)(b.Z.Text,{type:"secondary",children:r})]},r))})),I=(0,O.jsx)("div",{className:"space-y-1",children:N})}else if("type"===S){w="Type";var A=k.type.alias;I=(0,O.jsx)("div",{className:"space-y-1",children:(0,O.jsx)(x.Z,{color:"success",children:K(A,n)})})}return(0,O.jsx)(j.Z,{content:I,title:w,children:t})}return t}if(e.hasOwnProperty("option")){var Z=K(e.option,n);return(0,O.jsxs)("span",{children:["Option<",Z,">"]})}if(e.hasOwnProperty("coption")){var E=K(e.coption,n);return(0,O.jsxs)("span",{children:["COption<",E,">"]})}if(e.hasOwnProperty("vec")){var C=K(e.vec,n);return(0,O.jsxs)("span",{children:["Vec<",C,">"]})}if(e.hasOwnProperty("array")){var z=e,F=K(z.array[0],n),R=z.array[1];if(R.hasOwnProperty("generic")){var B=R;return(0,O.jsxs)("span",{children:["[",F,"; ",B.generic,"]"]})}return(0,O.jsxs)("span",{children:["[",F,"; ",R,"]"]})}return e.hasOwnProperty("generic")?e.generic:JSON.stringify(e)}function R(e,n){switch(e){case"bool":return"true | false";case"u8":return"0 ~ 255";case"i8":return"-128 ~ 127";case"u16":return"0 ~ 65535";case"i16":return"-32768 ~ 32767";case"u32":return"0 ~ 4294967295";case"i32":return"-2147483648 ~ 2147483647";case"u64":return"0 ~ 18446744073709551615";case"i64":return"-9223372036854775808 ~ 9223372036854775807";case"u128":return"0 ~ 3.4e38";case"i128":return"-1.7e38 ~ 1.7e38";case"u256":return"0 ~ 2e256-1";case"i256":return"-2e255 ~ 2e255-1";case"f32":return"-3.4e38 ~ 3.4e38";case"f64":return"-1.79e308 ~ 1.79e308";case"bytes":return"[0, 128, 255] | a1b2c1 | A1B1C1";case"string":return"abcde | ABCDE";case"publicKey":return"2kBgqoWB3q4nNbbWEhsbTTGKHzJmNzwZFeW1Xc81YP1G";default:if("vec"in e)return"[1, 2, 3]";if("option"in e)return"null | 123";if("coption"in e)return"null | 123";if(!("defined"in e))return"array"in e?"[1, 2, 3]":"";var r=e.defined;if(n&&n.length){var t=n.find((function(e){return e.name===r}));if(t){var a=t.type.kind;if("struct"===a)return'{"a": 1, "b": 2, "c": 3}';if("enum"===a)return'{"unit": {}} | {"named": {"a": 1, "b": 2}} | {"unnamed": [1, "a"]}';if("alias"===a)return R(t.type.value,n)}}}return""}function B(e,n){switch(e){case"bool":return"true | false";case"u8":return"0 ~ 255";case"i8":return"-128 ~ 127";case"u16":return"0 ~ 65535";case"i16":return"-32768 ~ 32767";case"u32":return"0 ~ 4294967295";case"i32":return"-2147483648 ~ 2147483647";case"u64":return"0 ~ 18446744073709551615";case"i64":return"-9223372036854775808 ~ 9223372036854775807";case"u128":return"0 ~ 3.4e38";case"i128":return"-1.7e38 ~ 1.7e38";case"u256":return"0 ~ 2e256-1";case"i256":return"-2e255 ~ 2e255-1";case"f32":return"-3.4e38 ~ 3.4e38";case"f64":return"-1.79e308 ~ 1.79e308";case"bytes":return"[0, 128, 255] | a1b2c1 | A1B1C1";case"string":return"abcde | ABCDE";case"pubkey":return"2kBgqoWB3q4nNbbWEhsbTTGKHzJmNzwZFeW1Xc81YP1G";default:if("vec"in e)return"[1, 2, 3]";if("option"in e)return"null | 123";if("coption"in e)return"null | 123";if(!("defined"in e))return"array"in e?"[1, 2, 3]":"generic"in e?"Not support generic type":"";var r=e.defined;if(e.defined.generics)return"Not support generic type";if(n&&n.length){var t=n.find((function(e){return e.name===r.name}));if(t){var a=t.type.kind;if("struct"===a)return'{} | {"a": 1, "b": 2, "c": 3} | [1, "a"]';if("enum"===a)return'{"unit": {}} | {"named": {"a": 1, "b": 2}} | {"unnamed": [1, "a"]}';if("type"===a)return B(t.type.alias,n)}}}}function L(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function D(e,n){return new Uint8Array(new BigUint64Array([n-e]).buffer).reduce((function(e,n,r){return n?e+BigInt(L(0,n))*BigInt(Math.pow(2,8*r)):e}),0n)+e}function T(e){return D(0n,BigInt(new(I())(new Array(e).fill(255)).toString())).toString()}function J(e){var n=BigInt(new(I())(new Array(e).fill(255)).toString())/2n;return D(-(n+1n),n).toString()}function V(e,n,r){switch(e){case"bool":return L(0,1)?"true":"false";case"u8":return T(1);case"i8":return J(1);case"u16":return T(2);case"i16":return J(2);case"u32":return T(4);case"i32":return J(4);case"u64":return T(8);case"i64":return J(8);case"u128":return T(16);case"i128":return J(16);case"u256":return T(32);case"i256":return J(32);case"f32":case"f64":return Math.random().toString();case"bytes":return JSON.stringify(new Array(4).fill(0).map((function(){return L(0,255)})));case"string":return r?JSON.stringify(Z.from(new Array(4).fill(0).map((function(){return L(65,122)}))).toString()):Z.from(new Array(4).fill(0).map((function(){return L(65,122)}))).toString();case"publicKey":return r?JSON.stringify((new S.Keypair).publicKey.toString()):(new S.Keypair).publicKey.toString();default:if("vec"in e){var t=new Array(4).fill(null).map((function(){return V(e.vec,n,!0)}));return"[".concat(t.join(", "),"]")}if("option"in e)return L(0,1)?V(e.option,n,!0):"null";if("coption"in e)return L(0,1)?V(e.coption,n,!0):"null";if(!("defined"in e)){if("array"in e){var a=e.array[0],s=e.array[1],i=new Array(s).fill(null).map((function(){return V(a,n,!0)}));return"[".concat(i.join(", "),"]")}return""}var c=e.defined;if(n&&n.length){var o=n.find((function(e){return e.name===c}));if(o){var u=o.type.kind;if("struct"===u){var l=o.type.fields.map((function(e){var r=e.name,t=e.type;return'"'.concat(r,'": ').concat(V(t,n,!0))}));return"{".concat(l.join(", "),"}")}if("enum"===u){var d=o.type.variants,f=d[L(0,d.length-1)];if(null!=f&&f.fields){var m=f.fields;if(m[0].hasOwnProperty("name")){var p=m.map((function(e){var r=e.name,t=e.type;return'"'.concat(r,'": ').concat(V(t,n,!0))}));return'{"'.concat(f.name,'": {').concat(p.join(", "),"}}")}var h=m.map((function(e){return"".concat(V(e,n,!0))}));return'{"'.concat(f.name,'": [').concat(h.join(", "),"]}")}return'{"'.concat(f.name,'": {}}')}if("alias"===u)return V(o.type.value,n,r)}}}return""}function $(e,n,r){switch(e){case"bool":return L(0,1)?"true":"false";case"u8":return T(1);case"i8":return J(1);case"u16":return T(2);case"i16":return J(2);case"u32":return T(4);case"i32":return J(4);case"u64":return T(8);case"i64":return J(8);case"u128":return T(16);case"i128":return J(16);case"u256":return T(32);case"i256":return J(32);case"f32":case"f64":return Math.random().toString();case"bytes":return JSON.stringify(new Array(4).fill(0).map((function(){return L(0,255)})));case"string":return r?JSON.stringify(Z.from(new Array(4).fill(0).map((function(){return L(65,122)}))).toString()):Z.from(new Array(4).fill(0).map((function(){return L(65,122)}))).toString();case"pubkey":return r?JSON.stringify((new S.Keypair).publicKey.toString()):(new S.Keypair).publicKey.toString();default:if("vec"in e){var t=new Array(4).fill(null).map((function(){return $(e.vec,n,!0)}));return"[".concat(t.join(", "),"]")}if("option"in e)return L(0,1)?$(e.option,n,r):"null";if("coption"in e)return L(0,1)?$(e.coption,n,r):"null";if(!("defined"in e)){if("array"in e){var a=e.array[0],s=e.array[1],i=new Array(s).fill(0).map((function(){return $(a,n,!0)}));return"[".concat(i.join(", "),"]")}return""}var c=e.defined;if(e.defined.generics)return"";if(n&&n.length){var o=n.find((function(e){return e.name===c.name}));if(o){var u=o.type.kind;if("struct"===u){var l=o.type.fields;if(l){if(l[0].hasOwnProperty("name")){var d=l.map((function(e){var r=e.name,t=e.type;return'"'.concat(r,'": ').concat($(t,n,!0))}));return"{".concat(d.join(", "),"}")}var f=l.map((function(e){return"".concat($(e,n,!0))}));return"[".concat(f.join(", "),"]")}return"{}"}if("enum"===u){var m=o.type.variants,p=m[L(0,m.length-1)];if(null!=p&&p.fields){var h=p.fields;if(h[0].hasOwnProperty("name")){var v=h.map((function(e){var r=e.name,t=e.type;return'"'.concat(r,'": ').concat($(t,n,!0))}));return'{"'.concat(p.name,'": {').concat(v.join(", "),"}}")}var y=h.map((function(e){return"".concat($(e,n,!0))}));return'{"'.concat(p.name,'": [').concat(y.join(", "),"]}")}return'{"'.concat(p.name,'": {}}')}if("type"===u)return $(o.type.alias,n,r)}}}return""}function U(e){if(e instanceof I())return e;if(Array.isArray(e))return e.map((function(e){return U(e)}));if(E(e)){var n={};return Object.keys(e).forEach((function(r){var t=M()(r);n[t]=U(e[r])})),n}return e}function q(e){return e.hasOwnProperty("version")&&e.hasOwnProperty("name")?"old":e.metadata&&e.metadata.spec?e.metadata.spec:"other"}function Y(e,n,r,t){switch(e.metadata.name){case"systemProgram":return P._r.system(n);case"splToken":var a={programId:r?new S.PublicKey(r):void 0,provider:n};return(0,A.c)(a);default:return new P.$r(e,n)}}function W(e,n,r,t){var a=q(e),s=void 0;return"old"===a?s=r?new N.$r(e,r,n):new N.$r(e,S.PublicKey.default,n):(r&&(e.address=r.toString()),s=Y(e,n,r)),s}var H=r(17748),X=r(39578),G=r(48764).Buffer,Q=(0,m.memo)((function(e){var n=e.idl,r=e.record.args,t=[];return r.forEach((function(e,r){var a=e.name,s=F(e.type,n.types);t.push((0,O.jsxs)("div",{children:[a,": ",(0,O.jsx)(x.Z,{color:"success",children:s})]},r))})),r.length||t.push((0,O.jsx)("div",{children:"__"},0)),(0,O.jsx)("div",{className:"space-y-1",children:t})})),ee=(0,m.memo)((function(e){var n=e.record.accounts,r=[];return n.forEach((function(e,n){var t=e.isSigner?(0,O.jsx)(x.Z,{color:"error",children:"isSigner"}):"",a=e.isMut?(0,O.jsx)(x.Z,{color:"processing",children:"isMut"}):"",s=e.isOptional?(0,O.jsx)(x.Z,{color:"warning",children:"isOptional"}):"";r.push((0,O.jsxs)("div",{children:[e.name," ",t,a,s]},n))})),(0,O.jsx)("div",{className:"space-y-1",children:r})})),ne=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlArguments"}),u=i.formatMessage({id:"common.intlAccounts"}),d=i.formatMessage({id:"common.intlDiscriminator"}),f=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(d),dataIndex:"discriminator",key:"discriminator",render:function(e,n){var r=(0,H.JQ)("global:"+n.name).slice(0,8),t=JSON.stringify(Array.from(r)),a=G.from(r).toString("hex"),s=X.Z.encode(r);return(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{children:t}),(0,O.jsx)("div",{children:a}),(0,O.jsx)("div",{children:s})]})}},{title:"".concat(o),dataIndex:"args",key:"args",render:function(e,r){return(0,O.jsx)(Q,{record:r,idl:n})}},{title:"".concat(u),dataIndex:"accounts",key:"accounts",render:function(e,n){return(0,O.jsx)(ee,{record:n})}}]}),[n]),h=(0,m.useCallback)((function(e){var n=[];e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){h(n.instructions)}),[n,h]),(0,O.jsx)(g.Z,{className:"components-program-instruction",scroll:{x:!0},size:"small",columns:f,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},re=(0,m.memo)(ne),te=r(48764).Buffer,ae=(0,m.memo)((function(e){var n=e.idl,r=e.record.args,t=[];return r.forEach((function(e,r){var a=e.name,s=K(e.type,n.types);t.push((0,O.jsxs)("div",{children:[a,": ",(0,O.jsx)(x.Z,{color:"success",children:s})]},r))})),r.length||t.push((0,O.jsx)("div",{children:"__"},0)),(0,O.jsx)("div",{className:"space-y-1",children:t})})),se=(0,m.memo)((function(e){var n=e.record.accounts,r=[];return n.forEach((function(e,n){var t=e.signer?(0,O.jsx)(x.Z,{color:"error",children:"signer"}):"",a=e.writable?(0,O.jsx)(x.Z,{color:"processing",children:"writable"}):"",s=e.optional?(0,O.jsx)(x.Z,{color:"warning",children:"optional"}):"";r.push((0,O.jsxs)("div",{children:[e.name," ",t,a,s]},n))})),(0,O.jsx)("div",{className:"space-y-1",children:r})})),ie=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlArguments"}),u=i.formatMessage({id:"common.intlAccounts"}),d=i.formatMessage({id:"common.intlDiscriminator"}),f=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(d),dataIndex:"discriminator",key:"discriminator",render:function(e,n){var r=n.discriminator,t=JSON.stringify(r),a=te.from(r).toString("hex"),s=X.Z.encode(r);return(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{children:t}),(0,O.jsx)("div",{children:a}),(0,O.jsx)("div",{children:s})]})}},{title:"".concat(o),dataIndex:"args",key:"args",render:function(e,r){return(0,O.jsx)(ae,{record:r,idl:n})}},{title:"".concat(u),dataIndex:"accounts",key:"accounts",render:function(e,n){return(0,O.jsx)(se,{record:n})}}]}),[n]),h=(0,m.useCallback)((function(e){var n=[];e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){h(n.instructions)}),[n,h]),(0,O.jsx)(g.Z,{className:"components-program-instruction",scroll:{x:!0},size:"small",columns:f,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},ce=(0,m.memo)(ie),oe=(0,m.memo)((function(e){var n=e.idl,r=e.record.type.fields,t=[];return r.forEach((function(e,r){var a=e.name,s=F(e.type,n.types);t.push((0,O.jsxs)("div",{children:[a,": ",(0,O.jsx)(x.Z,{color:"success",children:s})]},r))})),(0,O.jsx)("div",{className:"space-y-1",children:t})})),ue=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlFields"}),u=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(o),dataIndex:"type",key:"type",render:function(e,r){return(0,O.jsx)(oe,{record:r,idl:n})}}]}),[]),d=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){d(n.accounts)}),[n,d]),(0,O.jsx)(g.Z,{scroll:{x:!0},size:"small",columns:u,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},le=(0,m.memo)(ue),de=r(48764).Buffer,fe=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlDiscriminator"}),u=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(o),dataIndex:"discriminator",key:"discriminator",render:function(e,n){var r=n.discriminator,t=JSON.stringify(r),a=de.from(r).toString("hex"),s=X.Z.encode(r);return(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{children:t}),(0,O.jsx)("div",{children:a}),(0,O.jsx)("div",{children:s})]})}}]}),[]),d=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){d(n.accounts)}),[n,d]),(0,O.jsx)(g.Z,{scroll:{x:!0},size:"small",columns:u,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},me=(0,m.memo)(fe),pe=(0,m.memo)((function(e){var n=e.idl,r=e.record.type.kind;if("struct"===r){var t=e.record.type.fields,a=[];return t.forEach((function(e,r){var t=e.name,s=F(e.type,n.types);a.push((0,O.jsxs)("div",{children:[t,": ",(0,O.jsx)(x.Z,{color:"success",children:s})]},r))})),(0,O.jsx)("div",{className:"space-y-1",children:a})}if("enum"===r){var s=e.record.type.variants,i=[];return s.forEach((function(e,r){var t=[];if(t.push((0,O.jsx)("span",{children:e.name},Math.random())),e.hasOwnProperty("fields")){var a=e.fields,s=a.length;a.forEach((function(e,r){if(e.hasOwnProperty("name")){0===r&&t.push((0,O.jsx)("span",{children:" {"},Math.random()));var a=e,i=a.name,c=F(a.type,n.types);t.push((0,O.jsxs)("span",{children:[i,": ",c]},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:"}"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}else{0===r&&t.push((0,O.jsx)("span",{children:" ("},Math.random()));var o=F(e,n.types);t.push((0,O.jsx)("span",{children:o},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:")"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}}))}i.push((0,O.jsxs)("div",{children:[(0,O.jsx)(x.Z,{color:"warning",children:t}),(0,O.jsx)(b.Z.Text,{type:"secondary",children:r})]},r))})),(0,O.jsx)("div",{className:"space-y-1",children:i})}if("alias"===r){var c=e.record.type.value;return(0,O.jsx)("div",{className:"space-y-1",children:(0,O.jsx)(x.Z,{color:"success",children:F(c,n.types)})})}})),he=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlFields"}),u=i.formatMessage({id:"common.intlTypes"}),d=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(u),dataIndex:"type",key:"type",sorter:function(e,n){return e.type.kind.localeCompare(n.type.kind)},render:function(e,n){return(0,O.jsx)("div",{children:n.type.kind})}},{title:"".concat(o),dataIndex:"type",key:"type",render:function(e,r){return(0,O.jsx)(pe,{record:r,idl:n})}}]}),[n]),f=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){f(n.types)}),[n,f]),(0,O.jsx)(g.Z,{className:"components-program-type",scroll:{x:!0},size:"small",columns:d,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},ve=(0,m.memo)(he),ye=(0,m.memo)((function(e){var n=[];n.push((0,O.jsx)("span",{children:e.record.name},Math.random()));var r=e.record.generics;if(r){var t=r.length;r.forEach((function(e,r){0===r&&n.push((0,O.jsx)("span",{children:"<"},Math.random()));var a=e.kind,s=e.name;"type"===a?n.push((0,O.jsx)("span",{children:s},Math.random())):"const"===a&&n.push((0,O.jsxs)("span",{children:["const ",s,": ",e.type]},Math.random())),1===t||r===t-1?n.push((0,O.jsx)("span",{children:">"},Math.random())):n.push((0,O.jsx)("span",{children:", "},Math.random()))}))}return(0,O.jsx)("span",{children:n})})),ge=(0,m.memo)((function(e){var n=e.idl,r=e.record.type.kind;if("struct"===r){var t=e.record.type.fields,a=[];return t?(t.forEach((function(e,r){if(e.hasOwnProperty("name")){var t=e,s=t.name,i=K(t.type,n.types);a.push((0,O.jsxs)("div",{children:[s,": ",(0,O.jsx)(x.Z,{color:"success",children:i})]},r))}else{var c=K(e,n.types);a.push((0,O.jsx)("div",{children:(0,O.jsx)(x.Z,{color:"success",children:c})},r))}})),(0,O.jsx)("div",{className:"space-y-1",children:a})):(0,O.jsx)("div",{children:"__"})}if("enum"===r){var s=e.record.type.variants,i=[];return s.forEach((function(e,r){var t=[];if(t.push((0,O.jsx)("span",{children:e.name},Math.random())),e.hasOwnProperty("fields")){var a=e.fields,s=a.length;a.forEach((function(e,r){if(e.hasOwnProperty("name")){0===r&&t.push((0,O.jsx)("span",{children:" {"},Math.random()));var a=e,i=a.name,c=K(a.type,n.types);t.push((0,O.jsxs)("span",{children:[i,": ",c]},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:"}"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}else{0===r&&t.push((0,O.jsx)("span",{children:" ("},Math.random()));var o=K(e,n.types);t.push((0,O.jsx)("span",{children:o},Math.random())),1===s||r===s-1?t.push((0,O.jsx)("span",{children:")"},Math.random())):t.push((0,O.jsx)("span",{children:", "},Math.random()))}}))}i.push((0,O.jsxs)("div",{children:[(0,O.jsx)(x.Z,{color:"warning",children:t}),(0,O.jsx)(b.Z.Text,{type:"secondary",children:r})]},r))})),(0,O.jsx)("div",{className:"space-y-1",children:i})}if("type"===r){var c=e.record.type.alias;return(0,O.jsx)("div",{className:"space-y-1",children:(0,O.jsx)(x.Z,{color:"success",children:K(c,n.types)})})}})),xe=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlFields"}),u=i.formatMessage({id:"common.intlTypes"}),d=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)(ye,{record:n})}},{title:"".concat(u),dataIndex:"type",key:"type",sorter:function(e,n){return e.type.kind.localeCompare(n.type.kind)},render:function(e,n){return(0,O.jsx)("div",{children:n.type.kind})}},{title:"".concat(o),dataIndex:"type",key:"type",render:function(e,r){return(0,O.jsx)(ge,{record:r,idl:n})}}]}),[n]),f=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){f(n.types)}),[n,f]),(0,O.jsx)(g.Z,{className:"components-program-type",scroll:{x:!0},size:"small",columns:d,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},be=(0,m.memo)(xe),je=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlCode"}),u=i.formatMessage({id:"common.intlMessage"}),d=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(o),dataIndex:"code",key:"code",sorter:function(e,n){return e.code-n.code},render:function(e,n){return(0,O.jsx)("div",{children:n.code})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(u),dataIndex:"msg",key:"msg",render:function(e,n){return(0,O.jsx)("div",{children:n.msg?n.msg:"__"})}}]}),[]),f=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){f(n.errors)}),[n,f]),(0,O.jsx)(g.Z,{className:"components-program-error",scroll:{x:!0},size:"small",columns:d,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},ke=(0,m.memo)(je),we=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlCode"}),u=i.formatMessage({id:"common.intlMessage"}),d=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(o),dataIndex:"code",key:"code",sorter:function(e,n){return e.code-n.code},render:function(e,n){return(0,O.jsx)("div",{children:n.code})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(u),dataIndex:"msg",key:"msg",render:function(e,n){return(0,O.jsx)("div",{children:n.msg?n.msg:"__"})}}]}),[]),f=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){f(n.errors)}),[n,f]),(0,O.jsx)(g.Z,{className:"components-program-error",scroll:{x:!0},size:"small",columns:d,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},Ie=(0,m.memo)(we),Se=(0,m.memo)((function(e){var n=e.idl,r=F(e.record.type,n.types);return(0,O.jsx)("div",{children:(0,O.jsx)(x.Z,{color:"success",children:r})})})),_e=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlType"}),u=i.formatMessage({id:"common.intlValue"}),d=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(o),dataIndex:"type",key:"type",render:function(e,r){return(0,O.jsx)(Se,{record:r,idl:n})}},{title:"".concat(u),dataIndex:"value",key:"value",render:function(e,n){return(0,O.jsx)("div",{children:n.value})}}]}),[]),f=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){f(n.constants)}),[n,f]),(0,O.jsx)(g.Z,{className:"components-program-constant",scroll:{x:!0},size:"small",columns:d,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},Me=(0,m.memo)(_e),Pe=(0,m.memo)((function(e){var n=e.idl,r=K(e.record.type,n.types);return(0,O.jsx)("div",{children:(0,O.jsx)(x.Z,{color:"success",children:r})})})),Ne=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlType"}),u=i.formatMessage({id:"common.intlValue"}),d=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(o),dataIndex:"type",key:"type",render:function(e,r){return(0,O.jsx)(Pe,{record:r,idl:n})}},{title:"".concat(u),dataIndex:"value",key:"value",render:function(e,n){return(0,O.jsx)("div",{children:n.value})}}]}),[n]),f=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){f(n.constants)}),[n,f]),(0,O.jsx)(g.Z,{className:"components-program-constant",scroll:{x:!0},size:"small",columns:d,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},Ae=(0,m.memo)(Ne),Oe=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlFields"}),u=(0,m.useCallback)((function(e){var r=e.record.fields,t=[];return r.forEach((function(e,r){var a=e.name,s=F(e.type,n.types);t.push((0,O.jsxs)("div",{children:[a,": ",(0,O.jsx)(x.Z,{color:"success",children:s})]},r))})),(0,O.jsx)("div",{className:"space-y-1",children:t})}),[F]),d=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(o),dataIndex:"name",key:"name",render:function(e,n){return(0,O.jsx)(u,{record:n})}}]}),[u]),f=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){f(n.events)}),[n,f]),(0,O.jsx)(g.Z,{className:"components-program-event",scroll:{x:!0},size:"small",columns:d,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},Ze=(0,m.memo)(Oe),Ee=r(48764).Buffer,Ce=function(e){var n=e.idl,r=(0,m.useState)([]),t=l()(r,2),a=t[0],s=t[1],i=(0,p.useIntl)(),c=i.formatMessage({id:"common.intlName"}),o=i.formatMessage({id:"common.intlDiscriminator"}),u=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"name",key:"name",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(c),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)("div",{children:n.name})}},{title:"".concat(o),dataIndex:"discriminator",key:"discriminator",render:function(e,n){var r=n.discriminator,t=JSON.stringify(r),a=Ee.from(r).toString("hex"),s=X.Z.encode(r);return(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{children:t}),(0,O.jsx)("div",{children:a}),(0,O.jsx)("div",{children:s})]})}}]}),[]),d=(0,m.useCallback)((function(e){var n=[];e&&e.length&&e.forEach((function(e,r){n.push(y()({key:r},e))})),s(n)}),[]);return(0,m.useEffect)((function(){d(n.events)}),[n,d]),(0,O.jsx)(g.Z,{className:"components-program-event",scroll:{x:!0},size:"small",columns:u,dataSource:a,defaultData:[],search:!1,options:!1,pagination:!1})},ze=(0,m.memo)(Ce),Fe=r(19632),Ke=r.n(Fe),Re=r(5966),Be=r(97269),Le=r(38345),De=r(64317),Te=r(44718),Je=r(43651),Ve=r(2453),$e=r(16568),Ue=r(85418),qe=r(83622),Ye=r(80882),We=r(51941),He=r(49717),Xe=r(48764).Buffer,Ge=function(e){var n=e.idl,r=(0,p.useDispatch)(),t=Ve.ZP.useMessage(),s=l()(t,2),c=s[0],u=s[1],f=$e.ZP.useNotification(),v=l()(f,2),y=v[0],g=v[1],b=(0,m.useState)(),j=l()(b,2),k=j[0],w=j[1],I=(0,m.useState)(),_=l()(I,2),P=_[0],A=_[1],Z=(0,m.useState)(),E=l()(Z,2),z=E[0],K=E[1],B=(0,Te.R)().connection,L=(0,Je.z)(),D=(0,p.useSelector)((function(e){return e.program.fileActiveKey})),T=(0,p.useSelector)((function(e){return e.program.invokeMap})),J=(0,p.useSelector)((function(e){return e.program.instructionList})),$=(0,He.A)().chain,q=(0,m.useRef)(),Y=(0,m.useRef)(D),H=(0,p.useIntl)(),G=H.formatMessage({id:"common.intlInputException"}),Q=H.formatMessage({id:"common.intlSend"}),ee=H.formatMessage({id:"common.intlPleaseConnectWallet"}),ne=H.formatMessage({id:"common.intlAdd"}),re=H.formatMessage({id:"common.intlTxSuccess"}),te=(0,m.useCallback)((function(e,n){try{return new S.PublicKey(n)?Promise.resolve(""):Promise.reject("error")}catch(e){return Promise.reject(e.message)}}),[]),ae=(0,m.useCallback)((function(e,r,t,a){try{if(!z)return Promise.reject(G);if(!r)return Promise.reject(G);var s=z.coder.instruction.ixLayout.get(M()(t)).fields.find((function(e){return e.property===M()(a.name)})),i=Xe.alloc(200),c=C(r.trim(),a.type,n.types);return s.encode(U(c),i),Promise.resolve("")}catch(e){return Promise.reject(G)}}),[z,n]),se=(0,m.useCallback)((function(e,n,r){var t,a,s="".concat(e,":args:").concat(n.name),i=V(n.type,r);if(!i)return c.info("Not support generic type");null===(t=q.current)||void 0===t||t.setFieldValue(s,i),null===(a=q.current)||void 0===a||a.validateFields([s]),T[Y.current][e][s]=i}),[T]),ie=(0,m.useCallback)((0,m.memo)((function(e){var r="",t=[],a=[];if(e.instruction){var s=e.instruction;r=s.name,t=s.args}return t.forEach((function(e,t){var s=e.name,i=F(e.type,n.types);a.push((0,O.jsx)(Re.Z,{label:(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{className:"mr-2",children:s}),(0,O.jsx)(x.Z,{color:"success",children:i}),(0,O.jsx)(x.Z,{className:" cursor-pointer",onClick:function(){return se(r,e,n.types)},children:"random"})]}),name:"".concat(r,":args:").concat(s),placeholder:R(e.type,n.types),fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!0,whitespace:!0,message:G,validator:function(n,t){return ae(n,t,r,e)}}]},t))})),a.length?(0,O.jsx)(Be.A.Item,{style:{marginBottom:0},label:(0,O.jsx)("div",{className:" font-semibold",children:"Args"}),children:a}):(0,O.jsx)("div",{})})),[n,ae,se]),ce=(0,m.useCallback)((0,m.memo)((function(e){var n=e.instructionName,r="".concat(n,":accounts:")+e.account.name,t={items:[{key:"random",label:"Random"},{key:"currentWallet",label:"Current wallet"},{key:"systemProgram",label:"System Program"}],onClick:function(e){var t,a,s,i,o=e.key;if("random"===o){var u=new S.Keypair;t=u.publicKey.toString(),a=X.Z.encode(u.secretKey),We.db.keypairs.put({publicKey:t,secretKey:a,date:(new Date).toLocaleString()})}else"currentWallet"===o?L?t=null==L?void 0:L.publicKey.toString():c.error(ee):"systemProgram"===o&&(t="11111111111111111111111111111111");t&&(null===(s=q.current)||void 0===s||s.setFieldValue(r,t),null===(i=q.current)||void 0===i||i.validateFields([r]),T[Y.current][n][r]=t)}};return(0,O.jsx)(x.Z,{children:(0,O.jsx)(Ue.Z,{menu:t,trigger:["click"],children:(0,O.jsxs)("a",{onClick:function(e){return e.preventDefault()},children:["fill ",(0,O.jsx)(Ye.Z,{})]})})})})),[L,T]),oe=(0,m.useCallback)((0,m.memo)((function(e){var n=e.instruction?e.instruction.accounts:[],r=[],t=e.instruction?e.instruction.name:"";return n.forEach((function(e,n){var a,s=e.name,i=e.isSigner?(0,O.jsx)(x.Z,{color:"error",children:"signer"}):"",c=e.isMut?(0,O.jsx)(x.Z,{color:"processing",children:"mut"}):"",o=e.isOptional?(0,O.jsx)(x.Z,{color:"warning",children:"isOptional"}):"",u=(0,O.jsx)(x.Z,{color:"success",children:"publicKey"});"systemProgram"===s&&(a="11111111111111111111111111111111"),r.push((0,O.jsx)(Re.Z,{label:(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{className:"mr-2",children:s}),u,c,i,o,(0,O.jsx)(ce,{account:e,instructionName:t})]}),name:"".concat(t,":accounts:").concat(s),initialValue:a,placeholder:"",fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!0,whitespace:!0,message:G,validator:te}]},n))})),r.length?(0,O.jsx)(Be.A.Item,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Accounts"}),children:r}):(0,O.jsx)("div",{})})),[ce]),ue=(0,m.useCallback)((function(e,r){if(e.hasOwnProperty("__tabInvokeInstruction")){var t=e.__tabInvokeInstruction,s=n.instructions.find((function(e){return e.name===t}));A(s);var i=T[Y.current];if(i.hasOwnProperty("__tabInvokeInstruction")){i.__tabInvokeInstruction=s.name;var c=Object.keys(i[s.name]);c.length&&setTimeout((function(){var e,n=a()(c);try{for(n.s();!(e=n.n()).done;){var r,t,o=e.value;null===(r=q.current)||void 0===r||r.setFieldValue(o,i[s.name][o]),null===(t=q.current)||void 0===t||t.validateFields([o])}}catch(e){n.e(e)}finally{n.f()}}),100)}else i.__tabInvokeInstruction=s.name,n.instructions.forEach((function(e){i[e.name]={}}))}else{var o=r.__tabInvokeInstruction,u=Object.keys(e)[0];T[Y.current][o][u]=e[u]}}),[n,T]),le=(0,m.useCallback)(function(){var e=o()(i()().mark((function e(r){var t,a,s,o,u,l,f,m,p,h,v,g;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.__tabInvokeInstruction,a=r.__tabInvokeAddress,s={},o=[],u=[],(l=n.instructions.find((function(e){return e.name===t}))).accounts.forEach((function(e){var n=M()(e.name),t="".concat(l.name,":accounts:").concat(e.name),a=r[t];s[n]=a,e.isSigner&&u.push(a)})),l.args.forEach((function(e){var t="".concat(l.name,":args:").concat(e.name),a=C(r[t],e.type,n.types);o.push(U(a))})),f=M()(l.name),L){e.next=10;break}return e.abrupt("return",c.error(ee));case 10:return e.prev=10,p=W(n,new N.Y7(B,L,N.Y7.defaultOptions()),a),u=u.filter((function(e){return e!==L.publicKey.toString()})),e.next=15,We.db.keypairs.where("publicKey").anyOf(u).toArray();case 15:return h=e.sent,v=[],h.forEach((function(e){var n=X.Z.decode(e.secretKey),r=S.Keypair.fromSecretKey(n);v.push(r)})),e.next=20,null==p?void 0:(m=p.methods)[f].apply(m,o).accounts(s).signers(v).rpc();case 20:g=e.sent,y.success({message:re,description:(0,O.jsx)(d.VU,{type:"tx",content:g,chain:$}),placement:"top",showProgress:!0}),e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(10),e.abrupt("return",c.error(e.t0.message));case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,null,[[10,24]])})));return function(n){return e.apply(this,arguments)}}(),[n,L,B,$]),de=(0,m.useCallback)(o()(i()().mark((function e(){var t,a,s,o,u,l,d,f,m,p,v,y,g,x,b,j,k;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=q.current)||void 0===t?void 0:t.validateFields();case 2:if(s=null===(a=q.current)||void 0===a?void 0:a.getFieldsValue(),o=s.__tabInvokeInstruction,u=s.__tabInvokeAddress,l={},d=[],f=[],m=[],(p=n.instructions.find((function(e){return e.name===o}))).accounts.forEach((function(e){var n=M()(e.name),r="".concat(p.name,":accounts:").concat(e.name),t=s[r];l[n]=t,d.push({name:e.name,value:t,account:e})})),p.args.forEach((function(e){var r="".concat(p.name,":args:").concat(e.name),t=s[r],a=C(t,e.type,n.types);f.push(U(a)),m.push({name:e.name,value:t})})),v=M()(p.name),y=p.name,L){e.next=15;break}return e.abrupt("return",c.error(ee));case 15:return e.prev=15,x=W(n,{connection:B},u),e.next=19,null==x?void 0:(g=x.methods)[v].apply(g,f).accounts(l).instruction();case 19:b=e.sent,j=b.data.subarray(0,8),k={key:Math.random(),programId:u,name:y,discriminator:j,args:m,accounts:d,instructionInvoke:b},r(h.N.setInstructionList([].concat(Ke()(J),[k]))),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),c.error(e.t0.message);case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e,null,[[15,25]])}))),[n,L,B,J]),fe=(0,m.useCallback)((function(){var e;if(null===(e=q.current)||void 0===e||e.resetFields(),T[Y.current]){var r=T[Y.current];if(r.hasOwnProperty("__tabInvokeInstruction")){var t,a,s=n.instructions.find((function(e){return e.name===r.__tabInvokeInstruction}));A(s),null===(t=q.current)||void 0===t||t.setFieldValue("__tabInvokeInstruction",s.name),null===(a=q.current)||void 0===a||a.validateFields(["__tabInvokeInstruction"]),r[s.name]={}}}}),[T,n]);return(0,m.useEffect)((function(){var e={};n.instructions.forEach((function(n){e[n.name]=n.name})),w(e)}),[n]),(0,m.useEffect)((function(){if(T[Y.current]){var e=T[Y.current];if(e.hasOwnProperty("__tabInvokeInstruction")){var r,t,s=n.instructions.find((function(n){return n.name===e.__tabInvokeInstruction}));A(s),null===(r=q.current)||void 0===r||r.setFieldValue("__tabInvokeInstruction",s.name),null===(t=q.current)||void 0===t||t.validateFields(["__tabInvokeInstruction"]);var i=Object.keys(e[s.name]);i.length&&setTimeout((function(){var n,r=a()(i);try{for(r.s();!(n=r.n()).done;){var t,c,o=n.value,u=e[s.name][o];if(u)null===(t=q.current)||void 0===t||t.setFieldValue(o,u),null===(c=q.current)||void 0===c||c.validateFields([o])}}catch(e){r.e(e)}finally{r.f()}}),100)}}}),[T]),(0,m.useEffect)((function(){var e=W(n,{connection:B});K(e)}),[n,B]),(0,O.jsx)(Le.Z,{bordered:!0,children:(0,O.jsxs)(Be.A,{formRef:q,onFinish:le,onReset:fe,onValuesChange:ue,layout:"vertical",submitter:{searchConfig:{submitText:Q},render:function(e,n){return[n[1],(0,O.jsx)(qe.ZP,{onClick:de,children:ne},"add"),n[0]]}},children:[(0,O.jsx)(De.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Instruction"}),name:"__tabInvokeInstruction",valueEnum:k,placeholder:"",hasFeedback:!0,rules:[{required:!0,message:G}],fieldProps:{size:"large",autoFocus:!1,allowClear:!1}}),(0,O.jsx)(Re.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Program ID"}),name:"__tabInvokeAddress",placeholder:"LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo",disabled:!P,fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!0,whitespace:!0,message:G,validator:te}]}),(0,O.jsx)(ie,{instruction:P}),(0,O.jsx)(oe,{instruction:P}),u,g]})})},Qe=(0,m.memo)(Ge),en=r(48764).Buffer,nn=function(e){var n=e.idl,r=(0,p.useDispatch)(),t=Ve.ZP.useMessage(),s=l()(t,2),c=s[0],u=s[1],f=$e.ZP.useNotification(),v=l()(f,2),y=v[0],g=v[1],b=(0,m.useState)(),j=l()(b,2),k=j[0],w=j[1],I=(0,m.useState)(),_=l()(I,2),N=_[0],A=_[1],Z=(0,m.useState)(),E=l()(Z,2),C=E[0],F=E[1],R=(0,Te.R)().connection,L=(0,Je.z)(),D=(0,p.useSelector)((function(e){return e.program.fileActiveKey})),T=(0,p.useSelector)((function(e){return e.program.invokeMap})),J=(0,p.useSelector)((function(e){return e.program.instructionList})),V=(0,He.A)().chain,q=(0,m.useRef)(),Y=(0,m.useRef)(D),H=(0,p.useIntl)(),G=H.formatMessage({id:"common.intlInputException"}),Q=H.formatMessage({id:"common.intlSend"}),ee=H.formatMessage({id:"common.intlPleaseConnectWallet"}),ne=H.formatMessage({id:"common.intlAdd"}),re=H.formatMessage({id:"common.intlTxSuccess"}),te=(0,m.useCallback)((function(e,n){try{return new S.PublicKey(n)?Promise.resolve(""):Promise.reject("error")}catch(e){return Promise.reject(e.message)}}),[]),ae=(0,m.useCallback)((function(e,r,t,a){try{if(!C)return Promise.reject(G);if(!r)return Promise.reject(G);var s=C.coder.instruction.ixLayouts;if(s){var i=s.get(M()(t)).layout.fields.find((function(e){return e.property===M()(a.name)})),c=en.alloc(200),o=z(r.trim(),a.type,n.types);i.encode(U(o),c)}else{z(r.trim(),a.type,n.types)}return Promise.resolve("")}catch(e){return Promise.reject(G)}}),[C,n]),se=(0,m.useCallback)((function(e,n,r){var t,a,s="".concat(e,":args:").concat(n.name),i=$(n.type,r);if(!i)return c.info("Not support generic type");null===(t=q.current)||void 0===t||t.setFieldValue(s,i),null===(a=q.current)||void 0===a||a.validateFields([s]),T[Y.current][e][s]=i}),[T]),ie=(0,m.useCallback)((0,m.memo)((function(e){var r="",t=[],a=[];if(e.instruction){var s=e.instruction;r=s.name,t=s.args}return t.forEach((function(e,t){var s=e.name,i=K(e.type,n.types);a.push((0,O.jsx)(Re.Z,{label:(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{className:"mr-2",children:s}),(0,O.jsx)(x.Z,{color:"success",children:i}),(0,O.jsx)(x.Z,{className:" cursor-pointer",onClick:function(){return se(r,e,n.types)},children:"random"})]}),name:"".concat(r,":args:").concat(s),placeholder:B(e.type,n.types),fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!0,whitespace:!0,message:G,validator:function(n,t){return ae(n,t,r,e)}}]},t))})),a.length?(0,O.jsx)(Be.A.Item,{style:{marginBottom:0},label:(0,O.jsx)("div",{className:" font-semibold",children:"Args"}),children:a}):(0,O.jsx)("div",{})})),[n,ae,se]),ce=(0,m.useCallback)((0,m.memo)((function(e){var n=e.instructionName,r="".concat(n,":accounts:")+e.account.name,t={items:[{key:"random",label:"Random"},{key:"currentWallet",label:"Current wallet"},{key:"systemProgram",label:"System Program"}],onClick:function(e){var t,a,s,i,o=e.key;if("random"===o){var u=new S.Keypair;t=u.publicKey.toString(),a=X.Z.encode(u.secretKey),We.db.keypairs.put({publicKey:t,secretKey:a,date:(new Date).toLocaleString()})}else"currentWallet"===o?L?t=null==L?void 0:L.publicKey.toString():c.error(ee):"systemProgram"===o&&(t="11111111111111111111111111111111");t&&(null===(s=q.current)||void 0===s||s.setFieldValue(r,t),null===(i=q.current)||void 0===i||i.validateFields([r]),T[Y.current][n][r]=t)}};return(0,O.jsx)(x.Z,{children:(0,O.jsx)(Ue.Z,{menu:t,trigger:["click"],children:(0,O.jsxs)("a",{onClick:function(e){return e.preventDefault()},children:["fill ",(0,O.jsx)(Ye.Z,{})]})})})})),[L,T]),oe=(0,m.useCallback)((0,m.memo)((function(e){var n=e.instruction?e.instruction.accounts:[],r=[],t=e.instruction?e.instruction.name:"";return n.forEach((function(e,n){var a=e.name,s=e.signer?(0,O.jsx)(x.Z,{color:"error",children:"signer"}):"",i=e.writable?(0,O.jsx)(x.Z,{color:"processing",children:"writable"}):"",c=e.optional?(0,O.jsx)(x.Z,{color:"warning",children:"optional"}):"",o=(0,O.jsx)(x.Z,{color:"success",children:"publicKey"}),u=e.address;u||"system_program"!==a||(u="11111111111111111111111111111111"),r.push((0,O.jsx)(Re.Z,{label:(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{className:"mr-2",children:a}),o,i,s,c,(0,O.jsx)(ce,{account:e,instructionName:t})]}),name:"".concat(t,":accounts:").concat(a),initialValue:u,placeholder:"",fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!0,whitespace:!0,message:G,validator:te}]},n))})),r.length?(0,O.jsx)(Be.A.Item,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Accounts"}),children:r}):(0,O.jsx)("div",{})})),[ce,T]),ue=(0,m.useCallback)((function(e,r){if(e.hasOwnProperty("__tabInvokeInstruction")){var t=e.__tabInvokeInstruction,s=n.instructions.find((function(e){return e.name===t})),i=n.address;A(s);var c=T[Y.current];if(c.hasOwnProperty("__tabInvokeInstruction")){c.__tabInvokeInstruction=s.name;var o=Object.keys(c[s.name]);o.length&&setTimeout((function(){var e,n=a()(o);try{for(n.s();!(e=n.n()).done;){var r,t,i=e.value;null===(r=q.current)||void 0===r||r.setFieldValue(i,c[s.name][i]),null===(t=q.current)||void 0===t||t.validateFields([i])}}catch(e){n.e(e)}finally{n.f()}}),100)}else{var u,l;if(c.__tabInvokeInstruction=s.name,i)null===(u=q.current)||void 0===u||u.setFieldValue("__tabInvokeAddress",i),null===(l=q.current)||void 0===l||l.validateFields(["__tabInvokeAddress"]),n.instructions.forEach((function(e){c[e.name]={__tabInvokeAddress:i}}));else n.instructions.forEach((function(e){c[e.name]={}}))}}else{var d=r.__tabInvokeInstruction,f=Object.keys(e)[0];T[Y.current][d][f]=e[f]}}),[n,T]),le=(0,m.useCallback)(function(){var e=o()(i()().mark((function e(r){var t,a,s,o,u,l,f,m,p,h,v,g;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.__tabInvokeInstruction,a=r.__tabInvokeAddress,s={},o=[],u=[],(l=n.instructions.find((function(e){return e.name===t}))).accounts.forEach((function(e){var n=M()(e.name),t="".concat(l.name,":accounts:").concat(e.name),a=r[t];s[n]=a,e.signer&&u.push(a)})),l.args.forEach((function(e){var t="".concat(l.name,":args:").concat(e.name),a=z(r[t],e.type,n.types);o.push(U(a))})),f=M()(l.name),L){e.next=10;break}return e.abrupt("return",c.error(ee));case 10:return e.prev=10,p=W(n,new P.Y7(R,L,P.Y7.defaultOptions()),a),u=u.filter((function(e){return e!==L.publicKey.toString()})),e.next=15,We.db.keypairs.where("publicKey").anyOf(u).toArray();case 15:return h=e.sent,v=[],h.forEach((function(e){var n=X.Z.decode(e.secretKey),r=S.Keypair.fromSecretKey(n);v.push(r)})),e.next=20,null==p?void 0:(m=p.methods)[f].apply(m,o).accounts(s).signers(v).rpc();case 20:g=e.sent,y.success({message:re,description:(0,O.jsx)(d.VU,{type:"tx",content:g,chain:V}),placement:"top",showProgress:!0}),e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(10),e.abrupt("return",c.error(e.t0.message));case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,null,[[10,24]])})));return function(n){return e.apply(this,arguments)}}(),[n,L,R,V]),de=(0,m.useCallback)(o()(i()().mark((function e(){var t,a,s,o,u,l,d,f,m,p,v,y,g,x,b,j,k;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=q.current)||void 0===t?void 0:t.validateFields();case 2:if(s=null===(a=q.current)||void 0===a?void 0:a.getFieldsValue(),o=s.__tabInvokeInstruction,u=s.__tabInvokeAddress,l={},d=[],f=[],m=[],(p=n.instructions.find((function(e){return e.name===o}))).accounts.forEach((function(e){var n=M()(e.name),r="".concat(p.name,":accounts:").concat(e.name),t=s[r];l[n]=t,d.push({name:e.name,value:t,account:e})})),p.args.forEach((function(e){var r="".concat(p.name,":args:").concat(e.name),t=s[r],a=z(t,e.type,n.types);f.push(U(a)),m.push({name:e.name,value:t})})),v=M()(p.name),y=p.name,L){e.next=15;break}return e.abrupt("return",c.error(ee));case 15:return e.prev=15,x=W(n,{connection:R},u),e.next=19,null==x?void 0:(g=x.methods)[v].apply(g,f).accounts(l).instruction();case 19:b=e.sent,j=b.data.subarray(0,8),k={key:Math.random(),programId:u,name:y,discriminator:j,args:m,accounts:d,instructionInvoke:b},r(h.N.setInstructionList([].concat(Ke()(J),[k]))),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),c.error(e.t0.message);case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e,null,[[15,25]])}))),[n,L,R,J]),fe=(0,m.useCallback)((function(){var e;if(null===(e=q.current)||void 0===e||e.resetFields(),T[Y.current]){var r=T[Y.current];if(r.hasOwnProperty("__tabInvokeInstruction")){var t,a,s=n.instructions.find((function(e){return e.name===r.__tabInvokeInstruction}));A(s),null===(t=q.current)||void 0===t||t.setFieldValue("__tabInvokeInstruction",s.name),null===(a=q.current)||void 0===a||a.validateFields(["__tabInvokeInstruction"]),r[s.name]={}}}}),[T,n]);return(0,m.useEffect)((function(){var e={};n.instructions.forEach((function(n){e[n.name]=n.name})),w(e)}),[n]),(0,m.useEffect)((function(){if(T[Y.current]){var e=T[Y.current];if(e.hasOwnProperty("__tabInvokeInstruction")){var r,t,s=n.instructions.find((function(n){return n.name===e.__tabInvokeInstruction}));A(s),null===(r=q.current)||void 0===r||r.setFieldValue("__tabInvokeInstruction",s.name),null===(t=q.current)||void 0===t||t.validateFields(["__tabInvokeInstruction"]);var i=Object.keys(e[s.name]);i.length&&setTimeout((function(){var n,r=a()(i);try{for(r.s();!(n=r.n()).done;){var t,c,o=n.value,u=e[s.name][o];if(u)null===(t=q.current)||void 0===t||t.setFieldValue(o,u),null===(c=q.current)||void 0===c||c.validateFields([o])}}catch(e){r.e(e)}finally{r.f()}}),100)}}}),[T]),(0,m.useEffect)((function(){var e=W(n,{connection:R});F(e)}),[n,R]),(0,O.jsx)(Le.Z,{bordered:!0,children:(0,O.jsxs)(Be.A,{formRef:q,onFinish:le,onReset:fe,onValuesChange:ue,layout:"vertical",submitter:{searchConfig:{submitText:Q},render:function(e,n){return[n[1],(0,O.jsx)(qe.ZP,{onClick:de,children:ne},"add"),n[0]]}},children:[(0,O.jsx)(De.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Instruction"}),name:"__tabInvokeInstruction",valueEnum:k,placeholder:"",hasFeedback:!0,rules:[{required:!0,message:G}],fieldProps:{size:"large",autoFocus:!1,allowClear:!1}}),(0,O.jsx)(Re.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Program ID"}),name:"__tabInvokeAddress",placeholder:"LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo",disabled:!N,fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!0,whitespace:!0,message:G,validator:te}]}),(0,O.jsx)(ie,{instruction:N}),(0,O.jsx)(oe,{instruction:N}),u,g]})})},rn=(0,m.memo)(nn),tn=r(9783),an=r.n(tn),sn=r(90672),cn=r(52677),on=r.n(cn),un=r(39678),ln=function(e){var n=(0,He.A)().chain,r=e.accountList,t=(0,m.useMemo)((function(){var e=[{title:"#",dataIndex:"key",key:"key",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"PublicKey",dataIndex:"publicKey",key:"publicKey",render:function(e,n){return(0,O.jsx)(un.k,{address:n.publicKey,copyable:!0,ellipsis:!0})}}];return Object.keys(r[0]).filter((function(e){return"publicKey"!==e&&"key"!==e})).forEach((function(n){e.push({title:n,dataIndex:n,key:n,render:function(e,r){var t=r[n];return"object"===on()(t)?t instanceof I()?(0,O.jsx)("span",{children:t.toString()}):t instanceof S.PublicKey?(0,O.jsx)(un.k,{address:r.publicKey,copyable:!0,ellipsis:!0}):(0,O.jsx)("span",{children:JSON.stringify(t)}):(0,O.jsx)("span",{children:t})}})})),e}),[r,n]);return(0,O.jsx)(g.Z,{scroll:{x:!0},size:"small",columns:t,dataSource:r,defaultData:[],search:!1,options:!1,pagination:{pageSize:100}})},dn=(0,m.memo)(ln),fn=r(48764).Buffer,mn=function(e){var n=e.idl,r=(0,p.useDispatch)(),t=Ve.ZP.useMessage(),s=l()(t,2),c=s[0],u=s[1],d=(0,m.useState)(),f=l()(d,2),v=f[0],g=f[1],x=(0,m.useState)(),b=l()(x,2),j=b[0],k=b[1],w=(0,Te.R)().connection,I=(0,p.useSelector)((function(e){return e.program.fileActiveKey})),_=(0,p.useSelector)((function(e){return e.program.readMap})),P=(0,m.useState)((function(){var e,n=null===(e=_[I])||void 0===e?void 0:e.__tabReadAccount;return n?"".concat(I,":").concat(n):""})),N=l()(P,2),A=N[0],Z=N[1],C=(0,p.useSelector)((function(e){return e.program.accountListMap})),z=(0,m.useState)([]),F=l()(z,2),K=F[0],R=F[1],B=(0,m.useRef)(),L=(0,m.useRef)(I),D=(0,p.useIntl)(),T=D.formatMessage({id:"common.intlInputException"}),J=D.formatMessage({id:"common.intlRead"}),V=(0,m.useCallback)((function(e,n){try{return new S.PublicKey(n)?Promise.resolve(""):Promise.reject("error")}catch(e){return Promise.reject(e.message)}}),[]),$=(0,m.useCallback)((function(e,n){try{if(!n)return R([]),Promise.resolve("");for(var r=n.trim().replace(/[`~@,!#$^%&*()_\-=\+\t|{}',:;'\[\]<>\/?~#@&%*|{}'\s]/g,",").replace(/,+/g,",").split(","),t=0;t<r.length;t++){if(!new S.PublicKey(r[t]))return Promise.reject("error")}return R(Ke()(new Set(r))),Promise.resolve("")}catch(e){return Promise.reject(e.message)}}),[]),U=(0,m.useCallback)((function(e,r){if(e.hasOwnProperty("__tabReadAccount")){var t=e.__tabReadAccount,s=n.accounts.find((function(e){return e.name===t}));k(s);var i=_[L.current];if(i.hasOwnProperty("__tabReadAccount")){i.__tabReadAccount=s.name;var c=Object.keys(i[s.name]);c.length&&setTimeout((function(){var e,n=a()(c);try{for(n.s();!(e=n.n()).done;){var r,t,o=e.value;null===(r=B.current)||void 0===r||r.setFieldValue(o,i[s.name][o]),null===(t=B.current)||void 0===t||t.validateFields([o])}}catch(e){n.e(e)}finally{n.f()}}),100)}else i.__tabReadAccount=s.name,n.accounts.forEach((function(e){i[e.name]={}}))}else{var o=r.__tabReadAccount,u=Object.keys(e)[0];_[L.current][o][u]=e[u]}}),[n,_]),q=(0,m.useCallback)(function(){var e=o()(i()().mark((function e(t){var a,s,o,u,d,f,m,p,v,g,x,b,j,k;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.__tabReadAccount,s=t.__tabInvokeAddress,o=t.__tabPDASeed,u=n.accounts.find((function(e){return e.name===a})),d=M()(u.name),e.prev=3,f=W(n,{connection:w},s),m=[],!K.length&&!o){e.next=15;break}return p=[],o?K.length?K.forEach((function(e){var n=S.PublicKey.findProgramAddressSync([fn.from(o),new S.PublicKey(e).toBuffer()],new S.PublicKey(s)),r=l()(n,1)[0];p.push(r.toString())})):(v=S.PublicKey.findProgramAddressSync([fn.from(o)],new S.PublicKey(s)),g=l()(v,1),x=g[0],p.push(x.toString())):p=K,e.next=11,f.account[d].fetchMultiple(p);case 11:b=e.sent,p.forEach((function(e,n){m.push({publicKey:e,account:b[n]})})),e.next=18;break;case 15:return e.next=17,f.account[d].all();case 17:m=e.sent;case 18:j="".concat(L.current,":").concat(a),k=[],m.forEach((function(e,n){var r=e.publicKey,t=e.account;E(t)?k.push(y()({key:n,publicKey:r.toString()},t)):k.push({key:n,publicKey:r.toString(),account:t})})),Z(j),r(h.N.setAccountListMap(y()(y()({},C),{},an()({},j,k)))),e.next=28;break;case 25:return e.prev=25,e.t0=e.catch(3),e.abrupt("return",c.error(e.t0.message));case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e,null,[[3,25]])})));return function(n){return e.apply(this,arguments)}}(),[n,w,C,K]),Y=(0,m.useCallback)((function(){var e;if(null===(e=B.current)||void 0===e||e.resetFields(),_[L.current]){var t=_[L.current];if(t.hasOwnProperty("__tabReadAccount")){var a,s,i=n.accounts.find((function(e){return e.name===t.__tabReadAccount}));k(i),null===(a=B.current)||void 0===a||a.setFieldValue("__tabReadAccount",i.name),null===(s=B.current)||void 0===s||s.validateFields(["__tabReadAccount"]),t[i.name]={},A&&(delete C[A],r(h.N.setAccountListMap(y()({},C))))}}}),[_,n,C,A]);return(0,m.useMemo)((function(){var e={};(n.accounts?n.accounts:[]).forEach((function(n){e[n.name]=n.name})),g(e)}),[n]),(0,m.useEffect)((function(){if(_[L.current]){var e=_[L.current];if(e.hasOwnProperty("__tabReadAccount")){var r,t,s=n.accounts.find((function(n){return n.name===e.__tabReadAccount}));k(s),null===(r=B.current)||void 0===r||r.setFieldValue("__tabReadAccount",s.name),null===(t=B.current)||void 0===t||t.validateFields(["__tabReadAccount"]);var i=Object.keys(e[s.name]);i.length&&setTimeout((function(){var n,r=a()(i);try{for(r.s();!(n=r.n()).done;){var t,c,o=n.value,u=e[s.name][o];if(u)null===(t=B.current)||void 0===t||t.setFieldValue(o,u),null===(c=B.current)||void 0===c||c.validateFields([o])}}catch(e){r.e(e)}finally{r.f()}}),100)}}}),[_]),(0,O.jsxs)(Le.Z,{bordered:!0,children:[(0,O.jsxs)(Be.A,{formRef:B,onFinish:q,onReset:Y,onValuesChange:U,layout:"vertical",submitter:{searchConfig:{submitText:J},render:function(e,n){return[n[1],n[0]]}},children:[(0,O.jsx)(De.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Account"}),name:"__tabReadAccount",valueEnum:v,placeholder:"",hasFeedback:!0,rules:[{required:!0,message:T}],fieldProps:{size:"large",autoFocus:!1,allowClear:!1}}),(0,O.jsx)(Re.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Program ID"}),name:"__tabInvokeAddress",placeholder:"LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo",disabled:!j,fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!0,whitespace:!0,message:T,validator:V}]}),(0,O.jsx)(sn.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"PublicKeys"}),name:"__tabFetchMultiple",placeholder:"LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo\nHzmLLt88QvppHw9Jzoesf4Q7keKaaecFCiiL7zagq7RE\nAH3CyG25Rui5DUmJUYiJfWJpR21BL4HLLZLD2PfM4pLS",disabled:!j,fieldProps:{autoSize:{minRows:5},allowClear:!0,autoFocus:!1,readOnly:!1,size:"large"},hasFeedback:!0,rules:[{required:!1,whitespace:!0,message:T,validator:$}]}),(0,O.jsx)(Re.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"PDA Seed"}),name:"__tabPDASeed",placeholder:"tableName",disabled:!j,fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!1,whitespace:!0,message:T}]}),u]}),(0,O.jsx)("div",{style:{marginTop:"30px"},children:C[A]?(0,O.jsx)(dn,{accountList:C[A]}):null})]})},pn=(0,m.memo)(mn),hn=r(48764).Buffer,vn=function(e){var n=e.idl,r=(0,p.useDispatch)(),t=Ve.ZP.useMessage(),s=l()(t,2),c=s[0],u=s[1],d=(0,m.useState)(),f=l()(d,2),v=f[0],g=f[1],x=(0,m.useState)(),b=l()(x,2),j=b[0],k=b[1],w=(0,Te.R)().connection,I=(0,p.useSelector)((function(e){return e.program.fileActiveKey})),_=(0,p.useSelector)((function(e){return e.program.readMap})),P=(0,m.useState)((function(){var e,n=null===(e=_[I])||void 0===e?void 0:e.__tabReadAccount;return n?"".concat(I,":").concat(n):""})),N=l()(P,2),A=N[0],Z=N[1],C=(0,p.useSelector)((function(e){return e.program.accountListMap})),z=(0,m.useState)([]),F=l()(z,2),K=F[0],R=F[1],B=(0,m.useRef)(),L=(0,m.useRef)(I),D=(0,p.useIntl)(),T=D.formatMessage({id:"common.intlInputException"}),J=D.formatMessage({id:"common.intlRead"}),V=(0,m.useCallback)((function(e,n){try{return new S.PublicKey(n)?Promise.resolve(""):Promise.reject("error")}catch(e){return Promise.reject(e.message)}}),[]),$=(0,m.useCallback)((function(e,n){try{if(!n)return R([]),Promise.resolve("");for(var r=n.trim().replace(/[`~@,!#$^%&*()_\-=\+\t|{}',:;'\[\]<>\/?~#@&%*|{}'\s]/g,",").replace(/,+/g,",").split(","),t=0;t<r.length;t++){if(!new S.PublicKey(r[t]))return Promise.reject("error")}return R(Ke()(new Set(r))),Promise.resolve("")}catch(e){return Promise.reject(e.message)}}),[]),U=(0,m.useCallback)((function(e,r){if(e.hasOwnProperty("__tabReadAccount")){var t=e.__tabReadAccount,s=n.accounts.find((function(e){return e.name===t})),i=n.address;k(s);var c=_[L.current];if(c.hasOwnProperty("__tabReadAccount")){c.__tabReadAccount=s.name;var o=Object.keys(c[s.name]);o.length&&setTimeout((function(){var e,n=a()(o);try{for(n.s();!(e=n.n()).done;){var r,t,i=e.value;null===(r=B.current)||void 0===r||r.setFieldValue(i,c[s.name][i]),null===(t=B.current)||void 0===t||t.validateFields([i])}}catch(e){n.e(e)}finally{n.f()}}),100)}else{var u,l;if(c.__tabReadAccount=s.name,i)null===(u=B.current)||void 0===u||u.setFieldValue("__tabInvokeAddress",i),null===(l=B.current)||void 0===l||l.validateFields(["__tabInvokeAddress"]),n.accounts.forEach((function(e){c[e.name]={__tabInvokeAddress:i}}));else n.accounts.forEach((function(e){c[e.name]={}}))}}else{var d=r.__tabReadAccount,f=Object.keys(e)[0];_[L.current][d][f]=e[f]}}),[n,_]),q=(0,m.useCallback)(function(){var e=o()(i()().mark((function e(t){var a,s,o,u,d,f,m,p,v,g,x,b,j,k;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.__tabReadAccount,s=t.__tabInvokeAddress,o=t.__tabPDASeed,u=n.accounts.find((function(e){return e.name===a})),d=M()(u.name),e.prev=3,f=W(n,{connection:w},s),m=[],!K.length&&!o){e.next=15;break}return p=[],o?K.length?K.forEach((function(e){var n=S.PublicKey.findProgramAddressSync([hn.from(o),new S.PublicKey(e).toBuffer()],new S.PublicKey(s)),r=l()(n,1)[0];p.push(r.toString())})):(v=S.PublicKey.findProgramAddressSync([hn.from(o)],new S.PublicKey(s)),g=l()(v,1),x=g[0],p.push(x.toString())):p=K,e.next=11,f.account[d].fetchMultiple(p);case 11:b=e.sent,p.forEach((function(e,n){m.push({publicKey:e,account:b[n]})})),e.next=18;break;case 15:return e.next=17,f.account[d].all();case 17:m=e.sent;case 18:j="".concat(L.current,":").concat(a),k=[],m.forEach((function(e,n){var r=e.publicKey,t=e.account;E(t)?k.push(y()({key:n,publicKey:r.toString()},t)):k.push({key:n,publicKey:r.toString(),account:t})})),Z(j),r(h.N.setAccountListMap(y()(y()({},C),{},an()({},j,k)))),e.next=28;break;case 25:return e.prev=25,e.t0=e.catch(3),e.abrupt("return",c.error(e.t0.message));case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e,null,[[3,25]])})));return function(n){return e.apply(this,arguments)}}(),[n,w,C,K]),Y=(0,m.useCallback)((function(){var e;if(null===(e=B.current)||void 0===e||e.resetFields(),_[L.current]){var t=_[L.current];if(t.hasOwnProperty("__tabReadAccount")){var a,s,i=n.accounts.find((function(e){return e.name===t.__tabReadAccount}));k(i),null===(a=B.current)||void 0===a||a.setFieldValue("__tabReadAccount",i.name),null===(s=B.current)||void 0===s||s.validateFields(["__tabReadAccount"]),t[i.name]={},A&&(delete C[A],r(h.N.setAccountListMap(y()({},C))))}}}),[_,n,C,A]);return(0,m.useMemo)((function(){var e={};(n.accounts?n.accounts:[]).forEach((function(n){e[n.name]=n.name})),g(e)}),[n]),(0,m.useEffect)((function(){if(_[L.current]){var e=_[L.current];if(e.hasOwnProperty("__tabReadAccount")){var r,t,s=n.accounts.find((function(n){return n.name===e.__tabReadAccount}));k(s),null===(r=B.current)||void 0===r||r.setFieldValue("__tabReadAccount",s.name),null===(t=B.current)||void 0===t||t.validateFields(["__tabReadAccount"]);var i=Object.keys(e[s.name]);i.length&&setTimeout((function(){var n,r=a()(i);try{for(r.s();!(n=r.n()).done;){var t,c,o=n.value,u=e[s.name][o];if(u)null===(t=B.current)||void 0===t||t.setFieldValue(o,u),null===(c=B.current)||void 0===c||c.validateFields([o])}}catch(e){r.e(e)}finally{r.f()}}),100)}}}),[_]),(0,O.jsxs)(Le.Z,{bordered:!0,children:[(0,O.jsxs)(Be.A,{formRef:B,onFinish:q,onReset:Y,onValuesChange:U,layout:"vertical",submitter:{searchConfig:{submitText:J},render:function(e,n){return[n[1],n[0]]}},children:[(0,O.jsx)(De.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Account"}),name:"__tabReadAccount",valueEnum:v,placeholder:"",hasFeedback:!0,rules:[{required:!0,message:T}],fieldProps:{size:"large",autoFocus:!1,allowClear:!1}}),(0,O.jsx)(Re.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"Program ID"}),name:"__tabInvokeAddress",placeholder:"LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo",disabled:!j,fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!0,whitespace:!0,message:T,validator:V}]}),(0,O.jsx)(sn.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"PublicKeys"}),name:"__tabFetchMultiple",placeholder:"LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo\nHzmLLt88QvppHw9Jzoesf4Q7keKaaecFCiiL7zagq7RE\nAH3CyG25Rui5DUmJUYiJfWJpR21BL4HLLZLD2PfM4pLS",disabled:!j,fieldProps:{autoSize:{minRows:5},allowClear:!0,autoFocus:!1,readOnly:!1,size:"large"},hasFeedback:!0,rules:[{required:!1,whitespace:!0,message:T,validator:$}]}),(0,O.jsx)(Re.Z,{label:(0,O.jsx)("div",{className:" font-semibold",children:"PDA Seed"}),name:"__tabPDASeed",placeholder:"tableName",disabled:!j,fieldProps:{autoFocus:!1,readOnly:!1,allowClear:!0,size:"large"},hasFeedback:!0,rules:[{required:!1,whitespace:!0,message:T}]}),u]}),(0,O.jsx)("div",{style:{marginTop:"30px"},children:C[A]?(0,O.jsx)(dn,{accountList:C[A]}):null})]})},yn=(0,m.memo)(vn),gn=(0,m.memo)((function(e){var n=e.idl,r=q(n);return"old"===r?(0,O.jsx)(Qe,{idl:n}):(0,O.jsx)(rn,{idl:n})})),xn=(0,m.memo)((function(e){var n=e.idl,r=q(n);return"old"===r?(0,O.jsx)(pn,{idl:n}):(0,O.jsx)(yn,{idl:n})})),bn=(0,m.memo)((function(e){var n=e.idl,r=q(n);return"old"===r?(0,O.jsx)(re,{idl:n}):(0,O.jsx)(ce,{idl:n})})),jn=(0,m.memo)((function(e){var n=e.idl,r=q(n);return"old"===r?(0,O.jsx)(le,{idl:n}):(0,O.jsx)(me,{idl:n})})),kn=(0,m.memo)((function(e){var n=e.idl,r=q(n);return"old"===r?(0,O.jsx)(ve,{idl:n}):(0,O.jsx)(be,{idl:n})})),wn=(0,m.memo)((function(e){var n=e.idl,r=q(n);return"old"===r?(0,O.jsx)(ke,{idl:n}):(0,O.jsx)(Ie,{idl:n})})),In=(0,m.memo)((function(e){var n=e.idl,r=q(n);return"old"===r?(0,O.jsx)(Me,{idl:n}):(0,O.jsx)(Ae,{idl:n})})),Sn=(0,m.memo)((function(e){var n=e.idl,r=q(n);return"old"===r?(0,O.jsx)(Ze,{idl:n}):(0,O.jsx)(ze,{idl:n})})),_n=function(e){var n=(0,p.useDispatch)(),r=(0,p.useSelector)((function(e){return e.program.idlActiveKey})),t=(0,p.useSelector)((function(e){return e.program.idlMap}))[e.uid],a=[{key:"invoke",label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:"Invoke"}),children:(0,O.jsx)(gn,{idl:t})},{key:"read",label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:"Read"}),children:(0,O.jsx)(xn,{idl:t})},{key:"instructions",label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:"Instructions"}),children:(0,O.jsx)(bn,{idl:t})},{key:"accounts",label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:"Accounts"}),children:(0,O.jsx)(jn,{idl:t})},{key:"types",label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:"Types"}),children:(0,O.jsx)(kn,{idl:t})},{key:"errors",label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:"Errors"}),children:(0,O.jsx)(wn,{idl:t})},{key:"constants",label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:"Constants"}),children:(0,O.jsx)(In,{idl:t})},{key:"events",label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:"Events"}),children:(0,O.jsx)(Sn,{idl:t})}];return(0,O.jsx)(f.Z,{className:"px-2 mt-[-12px]",items:a,activeKey:r,onChange:function(e){n(h.N.setIDLActiveKey(e))}})},Mn=(0,m.memo)(_n),Pn=function(e){var n=e.fileList,r=(0,p.useDispatch)(),t=(0,p.useSelector)((function(e){return e.program.fileActiveKey})),a=(0,m.useCallback)((function(e){var n=[];return e.forEach((function(e){var r=e.uid;n.push({key:r,label:(0,O.jsx)("span",{className:"text-lg font-semibold",children:e.name}),children:(0,O.jsx)(Mn,{uid:r})})})),n}),[]);return(0,O.jsx)(f.Z,{type:"card",items:a(n),activeKey:t,onChange:function(e){r(h.N.setFileActiveKey(e))}})},Nn=(0,m.memo)(Pn),An=r(98596),On=r(48764).Buffer,Zn=(0,m.memo)((function(e){var n=e.record.args,r=[];return n.forEach((function(e,n){var t=e.name,a=e.value;r.push((0,O.jsxs)("div",{children:[(0,O.jsxs)("span",{className:"font-semibold",children:[t,":"]})," ",a]},n))})),n.length||r.push((0,O.jsx)("div",{children:"__"},0)),(0,O.jsx)("div",{className:"space-y-1",children:r})})),En=(0,m.memo)((function(e){var n=e.record.accounts,r=[];return n.forEach((function(e,n){var t=e.account.signer?(0,O.jsx)(x.Z,{color:"error",children:"signer"}):"",a=e.account.writable?(0,O.jsx)(x.Z,{color:"processing",children:"writable"}):"",s=e.account.optional?(0,O.jsx)(x.Z,{color:"warning",children:"optional"}):"",i=e.account.isSigner?(0,O.jsx)(x.Z,{color:"error",children:"isSigner"}):"",c=e.account.isMut?(0,O.jsx)(x.Z,{color:"processing",children:"isMut"}):"",o=e.account.isOptional?(0,O.jsx)(x.Z,{color:"warning",children:"isOptional"}):"";r.push((0,O.jsxs)("div",{children:[(0,O.jsxs)("span",{className:"font-semibold",children:[e.name,":"]})," ",(0,O.jsx)(un.k,{address:e.value,ellipsis:!0,className:"mr-2"}),t,i,a,c,s,o]},n))})),(0,O.jsx)("div",{className:"space-y-1",children:r})})),Cn=function(){var e=(0,p.useDispatch)(),n=(0,p.useSelector)((function(e){return e.program.instructionList})),r=(0,p.useIntl)(),t=r.formatMessage({id:"common.intlArguments"}),a=r.formatMessage({id:"common.intlAccounts"}),s=r.formatMessage({id:"common.intlDiscriminator"}),i=r.formatMessage({id:"common.intlOperation"}),c=r.formatMessage({id:"common.intlDrag"}),o=r.formatMessage({id:"common.intlDelete"}),u=r.formatMessage({id:"common.intlCopy"}),l=r.formatMessage({id:"common.intlInstruction"}),d=r.formatMessage({id:"common.intlProgramID"}),f=(0,m.useCallback)((function(n,r,t){e(h.N.setInstructionList(t))}),[]),v=(0,m.useCallback)((function(r){var t=[];n.forEach((function(e){e.key===r&&t.push(y()(y()({},e),{},{key:Math.random()})),t.push(e)})),e(h.N.setInstructionList(t))}),[n]),g=(0,m.useCallback)((function(r){var t=n.filter((function(e){return e.key!==r}));e(h.N.setInstructionList(t))}),[n]),x=(0,m.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",render:function(e,n,r){return(0,O.jsx)("span",{children:r+1})}},{title:"".concat(d),dataIndex:"programId",key:"programId",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){return(0,O.jsx)(un.k,{address:n.programId,ellipsis:!0})}},{title:"".concat(l),dataIndex:"name",key:"name",sorter:function(e,n){return e.name.localeCompare(n.name)},render:function(e,n){var r=n.discriminator,t=JSON.stringify(Array.from(r)),a=On.from(r).toString("hex"),i=X.Z.encode(r),c=(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{children:t}),(0,O.jsx)("div",{children:a}),(0,O.jsx)("div",{children:i})]});return(0,O.jsx)(j.Z,{content:c,title:s,children:n.name})}},{title:"".concat(t),dataIndex:"args",key:"args",render:function(e,n){return(0,O.jsx)(Zn,{record:n})}},{title:"".concat(a),dataIndex:"accounts",key:"accounts",render:function(e,n){return(0,O.jsx)(En,{record:n})}},{title:"".concat(i),dataIndex:"operation",key:"operation",render:function(e,n){return(0,O.jsxs)("div",{className:"space-x-3",children:[(0,O.jsx)(qe.ZP,{type:"primary",onClick:function(){return g(n.key)},children:o}),(0,O.jsx)(qe.ZP,{type:"primary",onClick:function(){return v(n.key)},children:u})]})}}]}),[g,v]);return(0,O.jsx)(An.Z,{className:"components-program-batch mb-8",scroll:{x:!0},size:"small",columns:x,dataSource:n,rowKey:"key",dragSortKey:"operation",onDragSortEnd:f,dragSortHandlerRender:function(){return(0,O.jsx)(qe.ZP,{type:"primary",className:"mr-3",children:c})},defaultData:[],search:!1,options:!1,pagination:!1})},zn=(0,m.memo)(Cn),Fn=r(39380),Kn=r(91604),Rn=r(54306),Bn=r(96074),Ln=r(29599),Dn=function(){var e=(0,p.useDispatch)(),n=Ve.ZP.useMessage(),r=l()(n,2),t=r[0],s=r[1],c=$e.ZP.useNotification(),u=l()(c,2),f=u[0],v=u[1],y=(0,Te.R)().connection,g=(0,Je.z)(),x=(0,Rn.O)(),j=x.publicKey,k=x.signTransaction,w=(0,p.useSelector)((function(e){return e.program.fileList})),I=(0,p.useSelector)((function(e){return e.program.idlMap})),_=(0,p.useSelector)((function(e){return e.program.invokeMap})),M=(0,p.useSelector)((function(e){return e.program.readMap})),P=(0,p.useSelector)((function(e){return e.program.instructionList})),N=(0,Ln.Ab)().chain,A=(0,m.useRef)(),Z=(0,p.useIntl)(),E=Z.formatMessage({id:"common.intlUploadFail"}),C=Z.formatMessage({id:"common.intlUploadSuccess"}),z=Z.formatMessage({id:"common.intlIDLParseFail"}),F=Z.formatMessage({id:"common.intlSend"}),K=Z.formatMessage({id:"common.intlBatchInvoke"}),R=Z.formatMessage({id:"common.intlPleaseConnectWallet"}),B=Z.formatMessage({id:"common.intlTxSuccess"}),L=(0,m.useCallback)(function(){var n=o()(i()().mark((function n(r){var a,s,c,o,u;return i()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("removed"!==r.file.status){n.next=7;break}return a=r.file.uid,delete I[a],delete _[a],delete M[a],e(h.N.setFileList(r.fileList)),n.abrupt("return");case 7:s=new FileReader,c=r.fileList[r.fileList.length-1],o=c.uid,u=void 0,s.readAsText(c.originFileObj),s.onload=function(){try{(u=JSON.parse(s.result))||t.error("".concat(E))}catch(e){return t.error(e.message)}try{W(u,{connection:y})?(I[o]=u,_[o]={},M[o]={},e(h.N.setFileList(r.fileList)),t.success("".concat(C))):t.error("".concat(z))}catch(e){console.log(e),t.error(z)}};case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[I,_,M]),D=(0,m.useCallback)(o()(i()().mark((function e(){var n,r,s,c,o,u,l,m,p,h,v,g,x,b,w,I;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j&&k){e.next=3;break}return e.abrupt("return",t.error(R));case 3:n=[],r=new Set,s=a()(P);try{for(s.s();!(c=s.n()).done;)o=c.value,u=o.instructionInvoke,n.push(u),u.keys.forEach((function(e){e.isSigner&&r.add(e.pubkey.toString())}))}catch(e){s.e(e)}finally{s.f()}return r.delete(j.toString()),e.next=10,We.db.keypairs.where("publicKey").anyOf(Array.from(r)).toArray();case 10:return l=e.sent,m=[],l.forEach((function(e){var n=X.Z.decode(e.secretKey),r=S.Keypair.fromSecretKey(n);m.push(r)})),e.next=15,y.getLatestBlockhash();case 15:return p=e.sent,h=p.blockhash,v=p.lastValidBlockHeight,g=new S.TransactionMessage({payerKey:j,recentBlockhash:h,instructions:n}).compileToLegacyMessage(),(x=new S.VersionedTransaction(g)).sign(m),e.next=23,k(x);case 23:return b=e.sent,e.next=26,y.sendTransaction(b);case 26:return w=e.sent,e.next=29,y.confirmTransaction({signature:w,blockhash:h,lastValidBlockHeight:v},"confirmed");case 29:(I=e.sent).value.err?(console.log(I.value.err),t.error("".concat(I.value.err))):f.success({message:B,description:(0,O.jsx)(d.VU,{type:"tx",content:w,chain:N}),placement:"top",showProgress:!0}),e.next=36;break;case 33:return e.prev=33,e.t0=e.catch(0),e.abrupt("return",t.error(e.t0.message));case 36:return e.abrupt("return",!0);case 37:case"end":return e.stop()}}),e,null,[[0,33]])}))),[P,y,g,j,k,N]);return(0,O.jsxs)(Fn._z,{ghost:!0,children:[(0,O.jsxs)(Le.Z,{children:[(0,O.jsx)(Be.A,{submitter:!1,children:(0,O.jsx)(Kn.Z,{label:"IDL File (JSON)",name:"idlUpload",action:"upload.do",value:w,fieldProps:{accept:".json",onChange:L,beforeUpload:function(){return!1},listType:"text",onPreview:function(e){return A.current.handleOpen(e)}}})}),(0,O.jsx)(Nn,{fileList:w}),!!P.length&&(0,O.jsxs)("div",{children:[(0,O.jsx)(Bn.Z,{}),(0,O.jsxs)(Be.A,{className:"mx-[8px]",onFinish:D,submitter:{searchConfig:{submitText:F},render:function(e,n){return[n[1],n[0]]}},children:[(0,O.jsx)(b.Z.Title,{level:4,children:K}),(0,O.jsx)(zn,{})]})]})]}),(0,O.jsx)(d.VY,{ref:A}),s,v]})}}}]);