(self.webpackChunk=self.webpackChunk||[]).push([[792],{98596:function(e,t,n){"use strict";n.d(t,{Z:function(){return rn}});var r=n(55850),i=n(15861),s=n(1413),a=n(97685),o=n(91),c=n(29751),u=n(21532),l=n(21770),d=n(67294),h=n(64435),f=n(36459),p=n(48171),m=n(73935);const g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function y(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function _(e){return"nodeType"in e}function v(e){var t,n;return e?y(e)?e:_(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function w(e){const{Document:t}=v(e);return e instanceof t}function b(e){return!y(e)&&e instanceof v(e).HTMLElement}function k(e){return e instanceof v(e).SVGElement}function A(e){return e?y(e)?e.document:_(e)?w(e)?e:b(e)||k(e)?e.ownerDocument:document:document:document}const E=g?d.useLayoutEffect:d.useEffect;function x(e){const t=(0,d.useRef)(e);return E((()=>{t.current=e})),(0,d.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function R(e,t){void 0===t&&(t=[e]);const n=(0,d.useRef)(e);return E((()=>{n.current!==e&&(n.current=e)}),t),n}function I(e,t){const n=(0,d.useRef)();return(0,d.useMemo)((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function S(e){const t=x(e),n=(0,d.useRef)(null),r=(0,d.useCallback)((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,r]}function O(e){const t=(0,d.useRef)();return(0,d.useEffect)((()=>{t.current=e}),[e]),t.current}let T={};function N(e,t){return(0,d.useMemo)((()=>{if(t)return t;const n=null==T[e]?0:T[e]+1;return T[e]=n,e+"-"+n}),[e,t])}function C(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=t[n];null!=r&&(t[n]=r+e*i)}return t}),{...t})}}const P=C(1),L=C(-1);function D(e){if(!e)return!1;const{KeyboardEvent:t}=v(e.target);return t&&e instanceof t}function z(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=v(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const M=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[M.Translate.toString(e),M.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),U="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function B(e){return e.matches(U)?e:e.querySelector(U)}const Z={display:"none"};function j(e){let{id:t,value:n}=e;return d.createElement("div",{id:t,style:Z},n)}function K(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return d.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const H=(0,d.createContext)(null);const F={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},W={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function V(e){let{announcements:t=W,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=F}=e;const{announce:s,announcement:a}=function(){const[e,t]=(0,d.useState)("");return{announce:(0,d.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),o=N("DndLiveRegion"),[c,u]=(0,d.useState)(!1);if((0,d.useEffect)((()=>{u(!0)}),[]),function(e){const t=(0,d.useContext)(H);(0,d.useEffect)((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}((0,d.useMemo)((()=>({onDragStart(e){let{active:n}=e;s(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&s(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;s(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;s(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;s(t.onDragCancel({active:n,over:r}))}})),[s,t])),!c)return null;const l=d.createElement(d.Fragment,null,d.createElement(j,{id:r,value:i.draggable}),d.createElement(K,{id:o,announcement:a}));return n?(0,m.createPortal)(l,n):l}var $;function q(){}function G(e,t){return(0,d.useMemo)((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}($||($={}));const J=Object.freeze({x:0,y:0});function Y(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function X(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Q(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ee(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const te=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=ee(t,t.left,t.top),s=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Y(ee(r),i);s.push({id:t,data:{droppableContainer:e,value:n}})}}return s.sort(X)};function ne(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=i-r,o=s-n;if(r<i&&n<s){const n=t.width*t.height,r=e.width*e.height,i=a*o;return Number((i/(n+r-i)).toFixed(4))}return 0}const re=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const e of r){const{id:r}=e,s=n.get(r);if(s){const n=ne(s,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(Q)};function ie(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:J}function se(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const ae=se(1);function oe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const ce={ignoreTransform:!1};function ue(e,t){void 0===t&&(t=ce);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=v(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=oe(t);if(!r)return e;const{scaleX:i,scaleY:s,x:a,y:o}=r,c=e.left-a-(1-i)*parseFloat(n),u=e.top-o-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),l=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:l,height:d,top:u,right:c+l,bottom:u+d,left:c}}(n,t,r))}const{top:r,left:i,width:s,height:a,bottom:o,right:c}=n;return{top:r,left:i,width:s,height:a,bottom:o,right:c}}function le(e){return ue(e,{ignoreTransform:!0})}function de(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if(w(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!b(i)||k(i))return n;if(n.includes(i))return n;const s=v(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=v(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(i,s)&&n.push(i),function(e,t){return void 0===t&&(t=v(e).getComputedStyle(e)),"fixed"===t.position}(i,s)?n:r(i.parentNode)}(e):n}function he(e){const[t]=de(e,1);return null!=t?t:null}function fe(e){return g&&e?y(e)?e:_(e)?w(e)||e===A(e).scrollingElement?window:b(e)?e:null:null:null}function pe(e){return y(e)?e.scrollX:e.scrollLeft}function me(e){return y(e)?e.scrollY:e.scrollTop}function ge(e){return{x:pe(e),y:me(e)}}var ye;function _e(e){return!(!g||!e)&&e===document.scrollingElement}function ve(e){const t={x:0,y:0},n=_e(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(ye||(ye={}));const we={x:.2,y:.2};function be(e,t,n,r,i){let{top:s,left:a,right:o,bottom:c}=n;void 0===r&&(r=10),void 0===i&&(i=we);const{isTop:u,isBottom:l,isLeft:d,isRight:h}=ve(e),f={x:0,y:0},p={x:0,y:0},m=t.height*i.y,g=t.width*i.x;return!u&&s<=t.top+m?(f.y=ye.Backward,p.y=r*Math.abs((t.top+m-s)/m)):!l&&c>=t.bottom-m&&(f.y=ye.Forward,p.y=r*Math.abs((t.bottom-m-c)/m)),!h&&o>=t.right-g?(f.x=ye.Forward,p.x=r*Math.abs((t.right-g-o)/g)):!d&&a<=t.left+g&&(f.x=ye.Backward,p.x=r*Math.abs((t.left+g-a)/g)),{direction:f,speed:p}}function ke(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Ae(e){return e.reduce(((e,t)=>P(e,ge(t))),J)}function Ee(e,t){if(void 0===t&&(t=ue),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);he(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const xe=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+pe(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+me(t)),0)}]];class Re{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=de(t),r=Ae(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of xe)for(const s of t)Object.defineProperty(this,s,{get:()=>{const t=i(n),a=r[e]-t;return this.rect[s]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ie{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Se(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Oe,Te;function Ne(e){e.preventDefault()}function Ce(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Oe||(Oe={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(Te||(Te={}));const Pe={start:[Te.Space,Te.Enter],cancel:[Te.Esc],end:[Te.Space,Te.Enter,Te.Tab]},Le=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Te.Right:return{...n,x:n.x+25};case Te.Left:return{...n,x:n.x-25};case Te.Down:return{...n,y:n.y+25};case Te.Up:return{...n,y:n.y-25}}};class De{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ie(A(t)),this.windowListeners=new Ie(v(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Oe.Resize,this.handleCancel),this.windowListeners.add(Oe.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Oe.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&Ee(n),t(J)}handleKeyDown(e){if(D(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=Pe,coordinateGetter:s=Le,scrollBehavior:a="smooth"}=r,{code:o}=e;if(i.end.includes(o))return void this.handleEnd(e);if(i.cancel.includes(o))return void this.handleCancel(e);const{collisionRect:c}=n.current,u=c?{x:c.left,y:c.top}:J;this.referenceCoordinates||(this.referenceCoordinates=u);const l=s(e,{active:t,context:n.current,currentCoordinates:u});if(l){const t=L(l,u),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:s,isRight:o,isLeft:c,isBottom:u,maxScroll:d,minScroll:h}=ve(n),f=ke(n),p={x:Math.min(i===Te.Right?f.right-f.width/2:f.right,Math.max(i===Te.Right?f.left:f.left+f.width/2,l.x)),y:Math.min(i===Te.Down?f.bottom-f.height/2:f.bottom,Math.max(i===Te.Down?f.top:f.top+f.height/2,l.y))},m=i===Te.Right&&!o||i===Te.Left&&!c,g=i===Te.Down&&!u||i===Te.Up&&!s;if(m&&p.x!==l.x){const e=n.scrollLeft+t.x,s=i===Te.Right&&e<=d.x||i===Te.Left&&e>=h.x;if(s&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=s?n.scrollLeft-e:i===Te.Right?n.scrollLeft-d.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(g&&p.y!==l.y){const e=n.scrollTop+t.y,s=i===Te.Down&&e<=d.y||i===Te.Up&&e>=h.y;if(s&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=s?n.scrollTop-e:i===Te.Down?n.scrollTop-d.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,P(L(l,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ze(e){return Boolean(e&&"distance"in e)}function Me(e){return Boolean(e&&"delay"in e)}De.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Pe,onActivation:i}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class Ue{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=v(e);return e instanceof t?e:A(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:s}=i;this.props=e,this.events=t,this.document=A(s),this.documentListeners=new Ie(this.document),this.listeners=new Ie(n),this.windowListeners=new Ie(v(s)),this.initialCoordinates=null!=(r=z(i))?r:J,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Oe.Resize,this.handleCancel),this.windowListeners.add(Oe.DragStart,Ne),this.windowListeners.add(Oe.VisibilityChange,this.handleCancel),this.windowListeners.add(Oe.ContextMenu,Ne),this.documentListeners.add(Oe.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Me(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(ze(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Oe.Click,Ce,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Oe.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!r)return;const o=null!=(t=z(e))?t:J,c=L(r,o);if(!n&&a){if(ze(a)){if(null!=a.tolerance&&Se(c,a.tolerance))return this.handleCancel();if(Se(c,a.distance))return this.handleStart()}return Me(a)&&Se(c,a.tolerance)?this.handleCancel():void this.handlePending(a,c)}e.cancelable&&e.preventDefault(),s(o)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Te.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Be={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ze extends Ue{constructor(e){const{event:t}=e,n=A(t.target);super(e,Be,n)}}Ze.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const je={move:{name:"mousemove"},end:{name:"mouseup"}};var Ke;!function(e){e[e.RightClick=2]="RightClick"}(Ke||(Ke={}));class He extends Ue{constructor(e){super(e,je,A(e.event.target))}}He.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ke.RightClick&&(null==r||r({event:n}),!0)}}];const Fe={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var We,Ve;function $e(e){let{acceleration:t,activator:n=We.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:o=Ve.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:l,delta:h,threshold:f}=e;const p=function(e){let{delta:t,disabled:n}=e;const r=O(t);return I((e=>{if(n||!r||!e)return qe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ye.Backward]:e.x[ye.Backward]||-1===i.x,[ye.Forward]:e.x[ye.Forward]||1===i.x},y:{[ye.Backward]:e.y[ye.Backward]||-1===i.y,[ye.Forward]:e.y[ye.Forward]||1===i.y}}}),[n,t,r])}({delta:h,disabled:!s}),[m,g]=function(){const e=(0,d.useRef)(null);return[(0,d.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,d.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),y=(0,d.useRef)({x:0,y:0}),_=(0,d.useRef)({x:0,y:0}),v=(0,d.useMemo)((()=>{switch(n){case We.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case We.DraggableRect:return i}}),[n,i,c]),w=(0,d.useRef)(null),b=(0,d.useCallback)((()=>{const e=w.current;if(!e)return;const t=y.current.x*_.current.x,n=y.current.y*_.current.y;e.scrollBy(t,n)}),[]),k=(0,d.useMemo)((()=>o===Ve.TreeOrder?[...u].reverse():u),[o,u]);(0,d.useEffect)((()=>{if(s&&u.length&&v){for(const e of k){if(!1===(null==r?void 0:r(e)))continue;const n=u.indexOf(e),i=l[n];if(!i)continue;const{direction:s,speed:o}=be(e,i,v,t,f);for(const e of["x","y"])p[e][s[e]]||(o[e]=0,s[e]=0);if(o.x>0||o.y>0)return g(),w.current=e,m(b,a),y.current=o,void(_.current=s)}y.current={x:0,y:0},_.current={x:0,y:0},g()}else g()}),[t,b,r,g,s,a,JSON.stringify(v),JSON.stringify(p),m,u,k,l,JSON.stringify(f)])}(class extends Ue{constructor(e){super(e,Fe)}static setup(){return window.addEventListener(Fe.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Fe.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(We||(We={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Ve||(Ve={}));const qe={x:{[ye.Backward]:!1,[ye.Forward]:!1},y:{[ye.Backward]:!1,[ye.Forward]:!1}};var Ge,Je;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Ge||(Ge={})),function(e){e.Optimized="optimized"}(Je||(Je={}));const Ye=new Map;function Xe(e,t){return I((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function Qe(e){let{callback:t,disabled:n}=e;const r=x(t),i=(0,d.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)}),[n]);return(0,d.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function et(e){return new Re(ue(e),e)}function tt(e,t,n){void 0===t&&(t=et);const[r,i]=(0,d.useState)(null);function s(){i((r=>{if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=r?r:n)?i:null;const s=t(e);return JSON.stringify(r)===JSON.stringify(s)?r:s}))}const a=function(e){let{callback:t,disabled:n}=e;const r=x(t),i=(0,d.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)}),[r,n]);return(0,d.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){s();break}}}}),o=Qe({callback:s});return E((()=>{s(),e?(null==o||o.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==a||a.disconnect())}),[e]),r}const nt=[];function rt(e,t){void 0===t&&(t=[]);const n=(0,d.useRef)(null);return(0,d.useEffect)((()=>{n.current=null}),t),(0,d.useEffect)((()=>{const t=e!==J;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?L(e,n.current):J}function it(e){return(0,d.useMemo)((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const st=[];function at(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return b(t)?t:e}const ot=[{sensor:Ze,options:{}},{sensor:De,options:{}}],ct={current:{}},ut={draggable:{measure:le},droppable:{measure:le,strategy:Ge.WhileDragging,frequency:Je.Optimized},dragOverlay:{measure:ue}};class lt extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const dt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new lt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:q},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ut,measureDroppableContainers:q,windowRect:null,measuringScheduled:!1},ht={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:q,draggableNodes:new Map,over:null,measureDroppableContainers:q},ft=(0,d.createContext)(ht),pt=(0,d.createContext)(dt);function mt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new lt}}}function gt(e,t){switch(t.type){case $.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case $.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case $.DragEnd:case $.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new lt(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case $.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new lt(e.droppable.containers);return a.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case $.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new lt(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function yt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=(0,d.useContext)(ft),s=O(r),a=O(null==n?void 0:n.id);return(0,d.useEffect)((()=>{if(!t&&!r&&s&&null!=a){if(!D(s))return;if(document.activeElement===s.target)return;const e=i.get(a);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=B(e);if(t){t.focus();break}}}))}}),[r,t,i,a,s]),null}function _t(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}const vt=(0,d.createContext)({...J,scaleX:1,scaleY:1});var wt;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(wt||(wt={}));const bt=(0,d.memo)((function(e){var t,n,r,i;let{id:s,accessibility:a,autoScroll:o=!0,children:c,sensors:u=ot,collisionDetection:l=re,measuring:h,modifiers:f,...p}=e;const y=(0,d.useReducer)(gt,void 0,mt),[_,w]=y,[k,A]=function(){const[e]=(0,d.useState)((()=>new Set)),t=(0,d.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]);return[(0,d.useCallback)((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[x,O]=(0,d.useState)(wt.Uninitialized),T=x===wt.Initialized,{draggable:{active:C,nodes:L,translate:D},droppable:{containers:M}}=_,U=null!=C?L.get(C):null,B=(0,d.useRef)({initial:null,translated:null}),Z=(0,d.useMemo)((()=>{var e;return null!=C?{id:C,data:null!=(e=null==U?void 0:U.data)?e:ct,rect:B}:null}),[C,U]),j=(0,d.useRef)(null),[K,F]=(0,d.useState)(null),[W,q]=(0,d.useState)(null),G=R(p,Object.values(p)),Y=N("DndDescribedBy",s),X=(0,d.useMemo)((()=>M.getEnabled()),[M]),Q=(ee=h,(0,d.useMemo)((()=>({draggable:{...ut.draggable,...null==ee?void 0:ee.draggable},droppable:{...ut.droppable,...null==ee?void 0:ee.droppable},dragOverlay:{...ut.dragOverlay,...null==ee?void 0:ee.dragOverlay}})),[null==ee?void 0:ee.draggable,null==ee?void 0:ee.droppable,null==ee?void 0:ee.dragOverlay]));var ee;const{droppableRects:te,measureDroppableContainers:ne,measuringScheduled:se}=function(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,a]=(0,d.useState)(null),{frequency:o,measure:c,strategy:u}=i,l=(0,d.useRef)(e),h=function(){switch(u){case Ge.Always:return!1;case Ge.BeforeDragging:return n;default:return!n}}(),f=R(h),p=(0,d.useCallback)((function(e){void 0===e&&(e=[]),f.current||a((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[f]),m=(0,d.useRef)(null),g=I((t=>{if(h&&!n)return Ye;if(!t||t===Ye||l.current!==e||null!=s){const t=new Map;for(let n of e){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Re(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,s,n,h,c]);return(0,d.useEffect)((()=>{l.current=e}),[e]),(0,d.useEffect)((()=>{h||p()}),[n,h]),(0,d.useEffect)((()=>{s&&s.length>0&&a(null)}),[JSON.stringify(s)]),(0,d.useEffect)((()=>{h||"number"!=typeof o||null!==m.current||(m.current=setTimeout((()=>{p(),m.current=null}),o))}),[o,h,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:null!=s}}(X,{dragging:T,dependencies:[D.x,D.y],config:Q.droppable}),oe=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return I((e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(L,C),ce=(0,d.useMemo)((()=>W?z(W):null),[W]),le=function(){const e=!1===(null==K?void 0:K.autoScrollEnabled),t="object"==typeof o?!1===o.enabled:!1===o,n=T&&!e&&!t;if("object"==typeof o)return{...o,enabled:n};return{enabled:n}}(),pe=function(e,t){return Xe(e,t)}(oe,Q.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=(0,d.useRef)(!1),{x:a,y:o}="boolean"==typeof i?{x:i,y:i}:i;E((()=>{if(!a&&!o||!t)return void(s.current=!1);if(s.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const i=ie(n(e),r);if(a||(i.x=0),o||(i.y=0),s.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const t=he(e);t&&t.scrollBy({top:i.y,left:i.x})}}),[t,a,o,r,n])}({activeNode:null!=C?L.get(C):null,config:le.layoutShiftCompensation,initialRect:pe,measure:Q.draggable.measure});const me=tt(oe,Q.draggable.measure,pe),ye=tt(oe?oe.parentElement:null),ve=(0,d.useRef)({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),we=M.getNodeFor(null==(t=ve.current.over)?void 0:t.id),be=function(e){let{measure:t}=e;const[n,r]=(0,d.useState)(null),i=Qe({callback:(0,d.useCallback)((e=>{for(const{target:n}of e)if(b(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t])}),s=(0,d.useCallback)((e=>{const n=at(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),r(n?t(n):null)}),[t,i]),[a,o]=S(s);return(0,d.useMemo)((()=>({nodeRef:a,rect:n,setRef:o})),[n,a,o])}({measure:Q.dragOverlay.measure}),ke=null!=(n=be.nodeRef.current)?n:oe,Ee=T?null!=(r=be.rect)?r:me:null,xe=Boolean(be.nodeRef.current&&be.rect),Ie=ie(Se=xe?null:me,Xe(Se));var Se;const Oe=it(ke?v(ke):null),Te=function(e){const t=(0,d.useRef)(e),n=I((n=>e?n&&n!==nt&&e&&t.current&&e.parentNode===t.current.parentNode?n:de(e):nt),[e]);return(0,d.useEffect)((()=>{t.current=e}),[e]),n}(T?null!=we?we:oe:null),Ne=function(e,t){void 0===t&&(t=ue);const[n]=e,r=it(n?v(n):null),[i,s]=(0,d.useState)(st);function a(){s((()=>e.length?e.map((e=>_e(e)?r:new Re(t(e),e))):st))}const o=Qe({callback:a});return E((()=>{null==o||o.disconnect(),a(),e.forEach((e=>null==o?void 0:o.observe(e)))}),[e]),i}(Te),Ce=_t(f,{transform:{x:D.x-Ie.x,y:D.y-Ie.y,scaleX:1,scaleY:1},activatorEvent:W,active:Z,activeNodeRect:me,containerNodeRect:ye,draggingNodeRect:Ee,over:ve.current.over,overlayNodeRect:be.rect,scrollableAncestors:Te,scrollableAncestorRects:Ne,windowRect:Oe}),Pe=ce?P(ce,D):null,Le=function(e){const[t,n]=(0,d.useState)(null),r=(0,d.useRef)(e),i=(0,d.useCallback)((e=>{const t=fe(e.target);t&&n((e=>e?(e.set(t,ge(t)),new Map(e)):null))}),[]);return(0,d.useEffect)((()=>{const t=r.current;if(e!==t){s(t);const a=e.map((e=>{const t=fe(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,ge(t)]):null})).filter((e=>null!=e));n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(t)};function s(e){e.forEach((e=>{const t=fe(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,e]),(0,d.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>P(e,t)),J):Ae(e):J),[e,t])}(Te),De=rt(Le),ze=rt(Le,[me]),Me=P(Ce,De),Ue=Ee?ae(Ee,Ce):null,Be=Z&&Ue?l({active:Z,collisionRect:Ue,droppableRects:te,droppableContainers:X,pointerCoordinates:Pe}):null,Ze=function(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}(Be,"id"),[je,Ke]=(0,d.useState)(null),He=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(xe?Ce:P(Ce,ze),null!=(i=null==je?void 0:je.rect)?i:null,me),Fe=(0,d.useRef)(null),We=(0,d.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(null==j.current)return;const i=L.get(j.current);if(!i)return;const s=e.nativeEvent,a=new n({active:j.current,activeNode:i,event:s,options:r,context:ve,onAbort(e){if(!L.get(e))return;const{onDragAbort:t}=G.current,n={id:e};null==t||t(n),k({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!L.get(e))return;const{onDragPending:i}=G.current,s={id:e,constraint:t,initialCoordinates:n,offset:r};null==i||i(s),k({type:"onDragPending",event:s})},onStart(e){const t=j.current;if(null==t)return;const n=L.get(t);if(!n)return;const{onDragStart:r}=G.current,i={activatorEvent:s,active:{id:t,data:n.data,rect:B}};(0,m.unstable_batchedUpdates)((()=>{null==r||r(i),O(wt.Initializing),w({type:$.DragStart,initialCoordinates:e,active:t}),k({type:"onDragStart",event:i}),F(Fe.current),q(s)}))},onMove(e){w({type:$.DragMove,coordinates:e})},onEnd:o($.DragEnd),onCancel:o($.DragCancel)});function o(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=ve.current;let a=null;if(t&&i){const{cancelDrop:o}=G.current;if(a={activatorEvent:s,active:t,collisions:n,delta:i,over:r},e===$.DragEnd&&"function"==typeof o){await Promise.resolve(o(a))&&(e=$.DragCancel)}}j.current=null,(0,m.unstable_batchedUpdates)((()=>{w({type:e}),O(wt.Uninitialized),Ke(null),F(null),q(null),Fe.current=null;const t=e===$.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=G.current[t];null==e||e(a),k({type:t,event:a})}}))}}Fe.current=a}),[L]),Ve=(0,d.useCallback)(((e,t)=>(n,r)=>{const i=n.nativeEvent,s=L.get(r);if(null!==j.current||!s||i.dndKit||i.defaultPrevented)return;const a={active:s};!0===e(n,t.options,a)&&(i.dndKit={capturedBy:t.sensor},j.current=r,We(n,t))}),[L,We]),qe=function(e,t){return(0,d.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(u,Ve);!function(e){(0,d.useEffect)((()=>{if(!g)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(u),E((()=>{me&&x===wt.Initializing&&O(wt.Initialized)}),[me,x]),(0,d.useEffect)((()=>{const{onDragMove:e}=G.current,{active:t,activatorEvent:n,collisions:r,over:i}=ve.current;if(!t||!n)return;const s={active:t,activatorEvent:n,collisions:r,delta:{x:Me.x,y:Me.y},over:i};(0,m.unstable_batchedUpdates)((()=>{null==e||e(s),k({type:"onDragMove",event:s})}))}),[Me.x,Me.y]),(0,d.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=ve.current;if(!e||null==j.current||!t||!i)return;const{onDragOver:s}=G.current,a=r.get(Ze),o=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:o};(0,m.unstable_batchedUpdates)((()=>{Ke(o),null==s||s(c),k({type:"onDragOver",event:c})}))}),[Ze]),E((()=>{ve.current={activatorEvent:W,active:Z,activeNode:oe,collisionRect:Ue,collisions:Be,droppableRects:te,draggableNodes:L,draggingNode:ke,draggingNodeRect:Ee,droppableContainers:M,over:je,scrollableAncestors:Te,scrollAdjustedTranslate:Me},B.current={initial:Ee,translated:Ue}}),[Z,oe,Be,Ue,L,ke,Ee,te,M,je,Te,Me]),$e({...le,delta:D,draggingRect:Ue,pointerCoordinates:Pe,scrollableAncestors:Te,scrollableAncestorRects:Ne});const Je=(0,d.useMemo)((()=>({active:Z,activeNode:oe,activeNodeRect:me,activatorEvent:W,collisions:Be,containerNodeRect:ye,dragOverlay:be,draggableNodes:L,droppableContainers:M,droppableRects:te,over:je,measureDroppableContainers:ne,scrollableAncestors:Te,scrollableAncestorRects:Ne,measuringConfiguration:Q,measuringScheduled:se,windowRect:Oe})),[Z,oe,me,W,Be,ye,be,L,M,te,je,ne,Te,Ne,Q,se,Oe]),et=(0,d.useMemo)((()=>({activatorEvent:W,activators:qe,active:Z,activeNodeRect:me,ariaDescribedById:{draggable:Y},dispatch:w,draggableNodes:L,over:je,measureDroppableContainers:ne})),[W,qe,Z,me,w,Y,L,je,ne]);return d.createElement(H.Provider,{value:A},d.createElement(ft.Provider,{value:et},d.createElement(pt.Provider,{value:Je},d.createElement(vt.Provider,{value:He},c)),d.createElement(yt,{disabled:!1===(null==a?void 0:a.restoreFocus)})),d.createElement(V,{...a,hiddenTextDescribedById:Y}))})),kt=(0,d.createContext)(null),At="button";function Et(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=N("Draggable"),{activators:a,activatorEvent:o,active:c,activeNodeRect:u,ariaDescribedById:l,draggableNodes:h,over:f}=(0,d.useContext)(ft),{role:p=At,roleDescription:m="draggable",tabIndex:g=0}=null!=i?i:{},y=(null==c?void 0:c.id)===t,_=(0,d.useContext)(y?vt:kt),[v,w]=S(),[b,k]=S(),A=function(e,t){return(0,d.useMemo)((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}(a,t),x=R(n);E((()=>(h.set(t,{id:t,key:s,node:v,activatorNode:b,data:x}),()=>{const e=h.get(t);e&&e.key===s&&h.delete(t)})),[h,t]);return{active:c,activatorEvent:o,activeNodeRect:u,attributes:(0,d.useMemo)((()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":!(!y||p!==At)||void 0,"aria-roledescription":m,"aria-describedby":l.draggable})),[r,p,g,y,m,l.draggable]),isDragging:y,listeners:r?void 0:A,node:v,over:f,setNodeRef:w,setActivatorNodeRef:k,transform:_}}function xt(){return(0,d.useContext)(pt)}const Rt={timeout:25};const It=e=>{let{transform:t}=e;return{...t,x:0}};function St(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ot(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function Tt(e){return null!==e&&e>=0}const Nt=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=St(t,r,n),a=t[i],o=s[i];return o&&a?{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}:null},Ct={scaleX:1,scaleY:1},Pt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=e;const o=null!=(t=s[n])?t:r;if(!o)return null;if(i===n){const e=s[a];return e?{x:0,y:n<a?e.top+e.height-(o.top+o.height):e.top-o.top,...Ct}:null}const c=function(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0;return s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(s,i,n);return i>n&&i<=a?{x:0,y:-o.height-c,...Ct}:i<n&&i>=a?{x:0,y:o.height+c,...Ct}:{x:0,y:0,...Ct}};const Lt="Sortable",Dt=d.createContext({activeIndex:-1,containerId:Lt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Nt,disabled:{draggable:!1,droppable:!1}});function zt(e){let{children:t,id:n,items:r,strategy:i=Nt,disabled:s=!1}=e;const{active:a,dragOverlay:o,droppableRects:c,over:u,measureDroppableContainers:l}=xt(),h=N(Lt,n),f=Boolean(null!==o.rect),p=(0,d.useMemo)((()=>r.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[r]),m=null!=a,g=a?p.indexOf(a.id):-1,y=u?p.indexOf(u.id):-1,_=(0,d.useRef)(p),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(p,_.current),w=-1!==y&&-1===g||v,b=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(s);E((()=>{v&&m&&l(p)}),[v,p,m,l]),(0,d.useEffect)((()=>{_.current=p}),[p]);const k=(0,d.useMemo)((()=>({activeIndex:g,containerId:h,disabled:b,disableTransforms:w,items:p,overIndex:y,useDragOverlay:f,sortedRects:Ot(p,c),strategy:i})),[g,h,b.draggable,b.droppable,w,p,y,c,f,i]);return d.createElement(Dt.Provider,{value:k},t)}const Mt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return St(n,r,i).indexOf(t)},Ut=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:o,previousContainerId:c,transition:u}=e;return!(!u||!r)&&((o===s||i!==a)&&(!!n||a!==i&&t===c))},Bt={duration:200,easing:"ease"},Zt="transform",jt=M.Transition.toString({property:Zt,duration:0,easing:"linear"}),Kt={roleDescription:"sortable"};function Ht(e){let{animateLayoutChanges:t=Ut,attributes:n,disabled:r,data:i,getNewIndex:s=Mt,id:a,strategy:o,resizeObserverConfig:c,transition:u=Bt}=e;const{items:l,containerId:h,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:g,overIndex:y,useDragOverlay:_,strategy:v}=(0,d.useContext)(Dt),w=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,p),b=l.indexOf(a),k=(0,d.useMemo)((()=>({sortable:{containerId:h,index:b,items:l},...i})),[h,i,b,l]),A=(0,d.useMemo)((()=>l.slice(l.indexOf(a))),[l,a]),{rect:x,node:I,isOver:O,setNodeRef:T}=function(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=N("Droppable"),{active:a,dispatch:o,over:c,measureDroppableContainers:u}=(0,d.useContext)(ft),l=(0,d.useRef)({disabled:n}),h=(0,d.useRef)(!1),f=(0,d.useRef)(null),p=(0,d.useRef)(null),{disabled:m,updateMeasurementsFor:g,timeout:y}={...Rt,...i},_=R(null!=g?g:r),v=Qe({callback:(0,d.useCallback)((()=>{h.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{u(Array.isArray(_.current)?_.current:[_.current]),p.current=null}),y)):h.current=!0}),[y]),disabled:m||!a}),w=(0,d.useCallback)(((e,t)=>{v&&(t&&(v.unobserve(t),h.current=!1),e&&v.observe(e))}),[v]),[b,k]=S(w),A=R(t);return(0,d.useEffect)((()=>{v&&b.current&&(v.disconnect(),h.current=!1,v.observe(b.current))}),[b,v]),(0,d.useEffect)((()=>(o({type:$.RegisterDroppable,element:{id:r,key:s,disabled:n,node:b,rect:f,data:A}}),()=>o({type:$.UnregisterDroppable,key:s,id:r}))),[r]),(0,d.useEffect)((()=>{n!==l.current.disabled&&(o({type:$.SetDroppableDisabled,id:r,key:s,disabled:n}),l.current.disabled=n)}),[r,s,n,o]),{active:a,rect:f,isOver:(null==c?void 0:c.id)===r,node:b,over:c,setNodeRef:k}}({id:a,data:k,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:C,activatorEvent:P,activeNodeRect:L,attributes:z,setNodeRef:U,listeners:B,isDragging:Z,over:j,setActivatorNodeRef:K,transform:H}=Et({id:a,data:k,attributes:{...Kt,...n},disabled:w.draggable}),F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,d.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}(T,U),W=Boolean(C),V=W&&!m&&Tt(f)&&Tt(y),q=!_&&Z,G=q&&V?H:null,J=V?null!=G?G:(null!=o?o:v)({rects:g,activeNodeRect:L,activeIndex:f,overIndex:y,index:b}):null,Y=Tt(f)&&Tt(y)?s({id:a,items:l,activeIndex:f,overIndex:y}):b,X=null==C?void 0:C.id,Q=(0,d.useRef)({activeId:X,items:l,newIndex:Y,containerId:h}),ee=l!==Q.current.items,te=t({active:C,containerId:h,isDragging:Z,isSorting:W,id:a,index:b,items:l,newIndex:Q.current.newIndex,previousItems:Q.current.items,previousContainerId:Q.current.containerId,transition:u,wasDragging:null!=Q.current.activeId}),ne=function(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,a]=(0,d.useState)(null),o=(0,d.useRef)(n);return E((()=>{if(!t&&n!==o.current&&r.current){const e=i.current;if(e){const t=ue(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&a(n)}}n!==o.current&&(o.current=n)}),[t,n,r,i]),(0,d.useEffect)((()=>{s&&a(null)}),[s]),s}({disabled:!te,index:b,node:I,rect:x});return(0,d.useEffect)((()=>{W&&Q.current.newIndex!==Y&&(Q.current.newIndex=Y),h!==Q.current.containerId&&(Q.current.containerId=h),l!==Q.current.items&&(Q.current.items=l)}),[W,Y,h,l]),(0,d.useEffect)((()=>{if(X===Q.current.activeId)return;if(X&&!Q.current.activeId)return void(Q.current.activeId=X);const e=setTimeout((()=>{Q.current.activeId=X}),50);return()=>clearTimeout(e)}),[X]),{active:C,activeIndex:f,attributes:z,data:k,rect:x,index:b,newIndex:Y,items:l,isOver:O,isSorting:W,isDragging:Z,listeners:B,node:I,overIndex:y,over:j,setNodeRef:F,setActivatorNodeRef:K,setDroppableNodeRef:T,setDraggableNodeRef:U,transform:null!=ne?ne:J,transition:function(){if(ne||ee&&Q.current.newIndex===b)return jt;if(q&&!D(P)||!u)return;if(W||te)return M.Transition.toString({...u,property:Zt});return}()}}Te.Down,Te.Right,Te.Up,Te.Left;var Ft=n(85893),Wt=["DragHandle","dragSortKey"],Vt=["dragSortKey"],$t=(0,d.createContext)({handle:null}),qt=function(e){var t=Ht({id:e.id}),n=t.attributes,r=t.listeners,i=t.setNodeRef,a=t.transform,c=t.transition,u=(0,s.Z)({transform:M.Transform.toString(a),transition:c},null==e?void 0:e.style),l=e.DragHandle,h=e.dragSortKey,f=(0,o.Z)(e,Wt);if(h){var p=[];return d.Children.forEach(f.children,(function(e,t){var i,a;e.key!==h?p.push(e):p.push((0,Ft.jsx)($t.Provider,{value:{handle:(0,Ft.jsx)(l,(0,s.Z)((0,s.Z)({rowData:null==e||null===(i=e.props)||void 0===i?void 0:i.record,index:null==e||null===(a=e.props)||void 0===a?void 0:a.index},r),n))},children:e},e.key||t))})),(0,Ft.jsx)("tr",(0,s.Z)((0,s.Z)({},f),{},{ref:i,style:u,children:p}))}return(0,Ft.jsx)("tr",(0,s.Z)((0,s.Z)((0,s.Z)({},f),{},{ref:i,style:u},n),r))},Gt=d.memo((function(e){e.dragSortKey;var t=(0,o.Z)(e,Vt),n=(0,d.useContext)($t).handle;return n?(0,Ft.jsx)("td",(0,s.Z)((0,s.Z)({},t),{},{children:(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[n," ",t.children]})})):(0,Ft.jsx)("td",(0,s.Z)({},t))})),Jt=function(e){return(0,Ft.jsx)("tbody",(0,s.Z)({},e))};function Yt(e){var t,n=e.dataSource,r=void 0===n?[]:n,i=e.onDragSortEnd,a=e.DragHandle,o=e.dragSortKey,c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,d.useMemo)((()=>[...t].filter((e=>null!=e))),[...t])}(G(Ze),G(He)),u=(0,d.useCallback)((function(e){var t,n=e.active,s=e.over;if(null!=s&&null!==(t=s.id)&&void 0!==t&&t.toString()&&n.id!==(null==s?void 0:s.id)){var a=St(r||[],parseInt(n.id),parseInt(s.id));null==i||i(parseInt(n.id),parseInt(s.id),a||[])}}),[r,i]),l=(0,p.J)((function(e){return(0,Ft.jsx)(zt,{items:r.map((function(e,t){return null==t?void 0:t.toString()})),strategy:Pt,children:(0,Ft.jsx)(Jt,(0,s.Z)({},e))})})),h=(0,p.J)((function(t){var n,i=Object.assign({},((0,f.Z)(t),t)),c=null===(n=r.findIndex((function(t){var n;return t[null!==(n=e.rowKey)&&void 0!==n?n:"index"]===i["data-row-key"]})))||void 0===n?void 0:n.toString();return(0,Ft.jsx)(qt,(0,s.Z)({id:c,dragSortKey:o,DragHandle:a},i),c)})),m=e.components||{};o&&(m.body=(0,s.Z)({wrapper:l,row:h,cell:Gt},(null===(t=e.components)||void 0===t?void 0:t.body)||{}));return{DndContext:(0,d.useMemo)((function(){return function(e){return(0,Ft.jsx)(bt,{modifiers:[It],sensors:c,collisionDetection:te,onDragEnd:u,children:e.children})}}),[u,c]),components:m}}var Xt=n(4942),Qt=n(64847),en=function(e){return(0,Xt.Z)({},e.componentCls,{"&-icon":{marginInlineEnd:8,color:e.colorTextSecondary,cursor:"grab !important",padding:4,fontSize:12,borderRadius:e.borderRadius,"&:hover":{color:e.colorText,backgroundColor:e.colorInfoBg}}})};var tn=["rowKey","dragSortKey","dragSortHandlerRender","onDragSortEnd","onDataSourceChange","defaultData","dataSource","onLoad"],nn=["rowData","index","className"];var rn=function(e){var t,n,f=e.rowKey,p=e.dragSortKey,m=e.dragSortHandlerRender,g=e.onDragSortEnd,y=e.onDataSourceChange,_=e.defaultData,v=e.dataSource,w=e.onLoad,b=(0,o.Z)(e,tn),k=(0,d.useContext)(u.ZP.ConfigContext).getPrefixCls,A=(0,l.Z)((function(){return _||[]}),{value:v,onChange:y}),E=(0,a.Z)(A,2),x=E[0],R=E[1],I=(n=k("pro-table-drag"),(0,Qt.Xj)("DragSortTable",(function(e){var t=(0,s.Z)((0,s.Z)({},e),{},{componentCls:".".concat(n)});return[en(t)]}))),S=I.wrapSSR,O=I.hashId,T=(0,d.useMemo)((function(){return function(e){e.rowData,e.index;var t=e.className,n=(0,o.Z)(e,nn),r=(0,Ft.jsx)(c.Z,(0,s.Z)((0,s.Z)({},n),{},{className:"".concat(k("pro-table-drag-icon")," ").concat(t||""," ").concat(O||"").trim()})),i=m?m(null==e?void 0:e.rowData,null==e?void 0:e.index):r;return(0,Ft.jsx)("div",(0,s.Z)((0,s.Z)({},n),{},{children:i}))}}),[k]),N=Yt({dataSource:null==x?void 0:x.slice(),dragSortKey:p,onDragSortEnd:g,components:e.components,rowKey:f,DragHandle:T}),C=N.components,P=N.DndContext,L=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(t),e.abrupt("return",null==w?void 0:w(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return S((0,Ft.jsx)(h.Z,(0,s.Z)((0,s.Z)({},b),{},{columns:null===(t=b.columns)||void 0===t?void 0:t.map((function(e){return e.dataIndex!=p&&e.key!==p||e.render||(e.render=function(){return null}),e})),onLoad:L,rowKey:f,tableViewRender:function(e,t){return(0,Ft.jsx)(P,{children:t})},dataSource:x,components:C,onDataSourceChange:y})))}},78953:function(e,t,n){"use strict";n.d(t,{c:function(){return Fo}});var r=n(29363),i=n(13550),s=n.n(i),a=n(48764),o=n(22230),c=n.n(o),u=n(82142),l=n.n(u),d=n(79816);function h(e){let t=e.length;for(;--t>=0;)e[t]=0}const f=256,p=286,m=30,g=15,y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),v=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=new Array(576);h(b);const k=new Array(60);h(k);const A=new Array(512);h(A);const E=new Array(256);h(E);const x=new Array(29);h(x);const R=new Array(m);function I(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let S,O,T;function N(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}h(R);const C=e=>e<256?A[e]:A[256+(e>>>7)],P=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},L=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,P(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},D=(e,t,n)=>{L(e,n[2*t],n[2*t+1])},z=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},M=(e,t,n)=>{const r=new Array(16);let i,s,a=0;for(i=1;i<=g;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=z(r[t]++,t))}},U=e=>{let t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},B=e=>{e.bi_valid>8?P(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Z=(e,t,n,r)=>{const i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},j=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Z(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Z(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},K=(e,t,n)=>{let r,i,s,a,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,i=e.pending_buf[e.sym_buf+o++],0===r?D(e,i,t):(s=E[i],D(e,s+f+1,t),a=y[s],0!==a&&(i-=x[s],L(e,i,a)),r--,s=C(r),D(e,s,n),a=_[s],0!==a&&(r-=R[s],L(e,r,a)))}while(o<e.sym_next);D(e,256,t)},H=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,c,u=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<s;a++)0!==n[2*a]?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[2*c+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)j(e,n,a);c=s;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],j(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,n[2*c]=n[2*a]+n[2*o],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,n[2*a+1]=n[2*o+1]=c,e.heap[1]=c++,j(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,l,d,h,f,p,m=0;for(h=0;h<=g;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)l=e.heap[u],h=n[2*n[2*l+1]+1]+1,h>c&&(h=c,m++),n[2*l+1]=h,l>r||(e.bl_count[h]++,f=0,l>=o&&(f=a[l-o]),p=n[2*l],e.opt_len+=p*(h+f),s&&(e.static_len+=p*(i[2*l+1]+f)));if(0!==m){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;0!==h;h--)for(l=e.bl_count[h];0!==l;)d=e.heap[--u],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),l--)}})(e,t),M(n,u,e.bl_count)},F=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++o<c&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))},W=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++o<c&&i===a)){if(o<u)do{D(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==s&&(D(e,i,e.bl_tree),o--),D(e,16,e.bl_tree),L(e,o-3,2)):o<=10?(D(e,17,e.bl_tree),L(e,o-3,3)):(D(e,18,e.bl_tree),L(e,o-11,7));o=0,s=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}};let V=!1;const $=(e,t,n,r)=>{L(e,0+(r?1:0),3),B(e),P(e,n),P(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var q=e=>{V||((()=>{let e,t,n,r,i;const s=new Array(16);for(n=0,r=0;r<28;r++)for(x[r]=n,e=0;e<1<<y[r];e++)E[n++]=r;for(E[n-1]=r,i=0,r=0;r<16;r++)for(R[r]=i,e=0;e<1<<_[r];e++)A[i++]=r;for(i>>=7;r<m;r++)for(R[r]=i<<7,e=0;e<1<<_[r]-7;e++)A[256+i++]=r;for(t=0;t<=g;t++)s[t]=0;for(e=0;e<=143;)b[2*e+1]=8,e++,s[8]++;for(;e<=255;)b[2*e+1]=9,e++,s[9]++;for(;e<=279;)b[2*e+1]=7,e++,s[7]++;for(;e<=287;)b[2*e+1]=8,e++,s[8]++;for(M(b,287,s),e=0;e<m;e++)k[2*e+1]=5,k[2*e]=z(e,5);S=new I(b,y,257,p,g),O=new I(k,_,0,m,g),T=new I(new Array(0),v,0,19,7)})(),V=!0),e.l_desc=new N(e.dyn_ltree,S),e.d_desc=new N(e.dyn_dtree,O),e.bl_desc=new N(e.bl_tree,T),e.bi_buf=0,e.bi_valid=0,U(e)},G=(e,t,n,r)=>{let i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),H(e,e.l_desc),H(e,e.d_desc),a=(e=>{let t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),H(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*w[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?$(e,t,n,r):4===e.strategy||s===i?(L(e,2+(r?1:0),3),K(e,b,k)):(L(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(L(e,t-257,5),L(e,n-1,5),L(e,r-4,4),i=0;i<r;i++)L(e,e.bl_tree[2*w[i]+1],3);W(e,e.dyn_ltree,t-1),W(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),U(e),r&&B(e)},J=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+f+1)]++,e.dyn_dtree[2*C(t)]++),e.sym_next===e.sym_end),Y={_tr_init:q,_tr_stored_block:$,_tr_flush_block:G,_tr_tally:J,_tr_align:e=>{L(e,2,3),D(e,256,b),(e=>{16===e.bi_valid?(P(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var X=(e,t,n,r)=>{let i=65535&e|0,s=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,s=s+i|0}while(--a);i%=65521,s%=65521}return i|s<<16|0};const Q=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var ee=(e,t,n,r)=>{const i=Q,s=r+n;e^=-1;for(let n=r;n<s;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},te={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ne={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:re,_tr_stored_block:ie,_tr_flush_block:se,_tr_tally:ae,_tr_align:oe}=Y,{Z_NO_FLUSH:ce,Z_PARTIAL_FLUSH:ue,Z_FULL_FLUSH:le,Z_FINISH:de,Z_BLOCK:he,Z_OK:fe,Z_STREAM_END:pe,Z_STREAM_ERROR:me,Z_DATA_ERROR:ge,Z_BUF_ERROR:ye,Z_DEFAULT_COMPRESSION:_e,Z_FILTERED:ve,Z_HUFFMAN_ONLY:we,Z_RLE:be,Z_FIXED:ke,Z_DEFAULT_STRATEGY:Ae,Z_UNKNOWN:Ee,Z_DEFLATED:xe}=ne,Re=258,Ie=262,Se=42,Oe=113,Te=666,Ne=(e,t)=>(e.msg=te[t],t),Ce=e=>2*e-(e>4?9:0),Pe=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Le=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let De=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const ze=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Me=(e,t)=>{se(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ze(e.strm)},Ue=(e,t)=>{e.pending_buf[e.pending++]=t},Be=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ze=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=X(e.adler,t,i,n):2===e.state.wrap&&(e.adler=ee(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},je=(e,t)=>{let n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-Ie?e.strstart-(e.w_size-Ie):0,u=e.window,l=e.w_mask,d=e.prev,h=e.strstart+Re;let f=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,u[n+a]===p&&u[n+a-1]===f&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do{}while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<h);if(r=Re-(h-s),s=h-Re,r>a){if(e.match_start=t,a=r,r>=o)break;f=u[s+a-1],p=u[s+a]}}}while((t=d[t&l])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead},Ke=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ie)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Le(e),r+=t),0===e.strm.avail_in)break;if(n=Ze(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=De(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=De(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ie&&0!==e.strm.avail_in)},He=(e,t)=>{let n,r,i,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<s&&(0===n&&t!==de||t===ce||n!==r+e.strm.avail_in))break;a=t===de&&n===r+e.strm.avail_in?1:0,ie(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,ze(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Ze(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==ce&&t!==de&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Ze(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,s=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=s||(r||t===de)&&t!==ce&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===de&&0===e.strm.avail_in&&n===r?1:0,ie(e,e.block_start,n,a),e.block_start+=n,ze(e.strm)),a?3:1)},Fe=(e,t)=>{let n,r;for(;;){if(e.lookahead<Ie){if(Ke(e),e.lookahead<Ie&&t===ce)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=De(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ie&&(e.match_length=je(e,n)),e.match_length>=3)if(r=ae(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=De(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=De(e,e.ins_h,e.window[e.strstart+1]);else r=ae(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Me(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===de?(Me(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Me(e,!1),0===e.strm.avail_out)?1:2},We=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Ie){if(Ke(e),e.lookahead<Ie&&t===ce)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=De(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ie&&(e.match_length=je(e,n),e.match_length<=5&&(e.strategy===ve||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=ae(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=De(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Me(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=ae(e,0,e.window[e.strstart-1]),r&&Me(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=ae(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===de?(Me(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Me(e,!1),0===e.strm.avail_out)?1:2};function Ve(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const $e=[new Ve(0,0,0,0,He),new Ve(4,4,8,4,Fe),new Ve(4,5,16,8,Fe),new Ve(4,6,32,32,Fe),new Ve(4,4,16,16,We),new Ve(8,16,32,32,We),new Ve(8,16,128,128,We),new Ve(8,32,128,256,We),new Ve(32,128,258,1024,We),new Ve(32,258,258,4096,We)];function qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Pe(this.dyn_ltree),Pe(this.dyn_dtree),Pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Pe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ge=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Se&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Oe&&t.status!==Te?1:0},Je=e=>{if(Ge(e))return Ne(e,me);e.total_in=e.total_out=0,e.data_type=Ee;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Se:Oe,e.adler=2===t.wrap?0:1,t.last_flush=-2,re(t),fe},Ye=e=>{const t=Je(e);var n;return t===fe&&((n=e.state).window_size=2*n.w_size,Pe(n.head),n.max_lazy_match=$e[n.level].max_lazy,n.good_match=$e[n.level].good_length,n.nice_match=$e[n.level].nice_length,n.max_chain_length=$e[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Xe=(e,t,n,r,i,s)=>{if(!e)return me;let a=1;if(t===_e&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==xe||r<8||r>15||t<0||t>9||s<0||s>ke||8===r&&1!==a)return Ne(e,me);8===r&&(r=9);const o=new qe;return e.state=o,o.strm=e,o.status=Se,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=s,o.method=n,Ye(e)};var Qe={deflateInit:(e,t)=>Xe(e,t,xe,15,8,Ae),deflateInit2:Xe,deflateReset:Ye,deflateResetKeep:Je,deflateSetHeader:(e,t)=>Ge(e)||2!==e.state.wrap?me:(e.state.gzhead=t,fe),deflate:(e,t)=>{if(Ge(e)||t>he||t<0)return e?Ne(e,me):me;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Te&&t!==de)return Ne(e,0===e.avail_out?ye:me);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(ze(e),0===e.avail_out)return n.last_flush=-1,fe}else if(0===e.avail_in&&Ce(t)<=Ce(r)&&t!==de)return Ne(e,ye);if(n.status===Te&&0!==e.avail_in)return Ne(e,ye);if(n.status===Se&&0===n.wrap&&(n.status=Oe),n.status===Se){let t=xe+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=we||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Be(n,t),0!==n.strstart&&(Be(n,e.adler>>>16),Be(n,65535&e.adler)),e.adler=1,n.status=Oe,ze(e),0!==n.pending)return n.last_flush=-1,fe}if(57===n.status)if(e.adler=0,Ue(n,31),Ue(n,139),Ue(n,8),n.gzhead)Ue(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ue(n,255&n.gzhead.time),Ue(n,n.gzhead.time>>8&255),Ue(n,n.gzhead.time>>16&255),Ue(n,n.gzhead.time>>24&255),Ue(n,9===n.level?2:n.strategy>=we||n.level<2?4:0),Ue(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ue(n,255&n.gzhead.extra.length),Ue(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=ee(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Ue(n,0),Ue(n,0),Ue(n,0),Ue(n,0),Ue(n,0),Ue(n,9===n.level?2:n.strategy>=we||n.level<2?4:0),Ue(n,3),n.status=Oe,ze(e),0!==n.pending)return n.last_flush=-1,fe;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=ee(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,ze(e),0!==n.pending)return n.last_flush=-1,fe;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=ee(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=ee(e.adler,n.pending_buf,n.pending-r,r)),ze(e),0!==n.pending)return n.last_flush=-1,fe;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ue(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=ee(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=ee(e.adler,n.pending_buf,n.pending-r,r)),ze(e),0!==n.pending)return n.last_flush=-1,fe;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ue(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=ee(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ze(e),0!==n.pending))return n.last_flush=-1,fe;Ue(n,255&e.adler),Ue(n,e.adler>>8&255),e.adler=0}if(n.status=Oe,ze(e),0!==n.pending)return n.last_flush=-1,fe}if(0!==e.avail_in||0!==n.lookahead||t!==ce&&n.status!==Te){let r=0===n.level?He(n,t):n.strategy===we?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Ke(e),0===e.lookahead)){if(t===ce)return 1;break}if(e.match_length=0,n=ae(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Me(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===de?(Me(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Me(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===be?((e,t)=>{let n,r,i,s;const a=e.window;for(;;){if(e.lookahead<=Re){if(Ke(e),e.lookahead<=Re&&t===ce)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){s=e.strstart+Re;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=Re-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ae(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ae(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Me(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===de?(Me(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Me(e,!1),0===e.strm.avail_out)?1:2})(n,t):$e[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Te),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),fe;if(2===r&&(t===ue?oe(n):t!==he&&(ie(n,0,0,!1),t===le&&(Pe(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),ze(e),0===e.avail_out))return n.last_flush=-1,fe}return t!==de?fe:n.wrap<=0?pe:(2===n.wrap?(Ue(n,255&e.adler),Ue(n,e.adler>>8&255),Ue(n,e.adler>>16&255),Ue(n,e.adler>>24&255),Ue(n,255&e.total_in),Ue(n,e.total_in>>8&255),Ue(n,e.total_in>>16&255),Ue(n,e.total_in>>24&255)):(Be(n,e.adler>>>16),Be(n,65535&e.adler)),ze(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?fe:pe)},deflateEnd:e=>{if(Ge(e))return me;const t=e.state.status;return e.state=null,t===Oe?Ne(e,ge):fe},deflateSetDictionary:(e,t)=>{let n=t.length;if(Ge(e))return me;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==Se||r.lookahead)return me;if(1===i&&(e.adler=X(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Pe(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ke(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=De(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Ke(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,r.wrap=i,fe},deflateInfo:"pako deflate (from Nodeca project)"};const et=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var tt=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)et(n,t)&&(e[t]=n[t])}}return e},nt=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let rt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){rt=!1}const it=new Uint8Array(256);for(let e=0;e<256;e++)it[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;it[254]=it[254]=1;var st=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,s,a=e.length,o=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},at=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){s[i++]=t;continue}let a=it[t];if(a>4)s[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?s[i++]=65533:t<65536?s[i++]=t:(t-=65536,s[i++]=55296|t>>10&1023,s[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&rt)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(s,i)},ot=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+it[e[n]]>t?n:t};var ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ut=Object.prototype.toString,{Z_NO_FLUSH:lt,Z_SYNC_FLUSH:dt,Z_FULL_FLUSH:ht,Z_FINISH:ft,Z_OK:pt,Z_STREAM_END:mt,Z_DEFAULT_COMPRESSION:gt,Z_DEFAULT_STRATEGY:yt,Z_DEFLATED:_t}=ne;function vt(e){this.options=tt({level:gt,method:_t,chunkSize:16384,windowBits:15,memLevel:8,strategy:yt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ct,this.strm.avail_out=0;let n=Qe.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==pt)throw new Error(te[n]);if(t.header&&Qe.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?st(t.dictionary):"[object ArrayBuffer]"===ut.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Qe.deflateSetDictionary(this.strm,e),n!==pt)throw new Error(te[n]);this._dict_set=!0}}function wt(e,t){const n=new vt(t);if(n.push(e,!0),n.err)throw n.msg||te[n.err];return n.result}vt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?ft:lt,"string"==typeof e?n.input=st(e):"[object ArrayBuffer]"===ut.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===dt||s===ht)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Qe.deflate(n,s),i===mt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Qe.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===pt;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},vt.prototype.onData=function(e){this.chunks.push(e)},vt.prototype.onEnd=function(e){e===pt&&(this.result=nt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var bt={Deflate:vt,deflate:wt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,wt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,wt(e,t)},constants:ne};const kt=16209;var At=function(e,t){let n,r,i,s,a,o,c,u,l,d,h,f,p,m,g,y,_,v,w,b,k,A,E,x;const R=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),i=e.next_out,x=e.output,s=i-(t-e.avail_out),a=i+(e.avail_out-257),o=R.dmax,c=R.wsize,u=R.whave,l=R.wnext,d=R.window,h=R.hold,f=R.bits,p=R.lencode,m=R.distcode,g=(1<<R.lenbits)-1,y=(1<<R.distbits)-1;e:do{f<15&&(h+=E[n++]<<f,f+=8,h+=E[n++]<<f,f+=8),_=p[h&g];t:for(;;){if(v=_>>>24,h>>>=v,f-=v,v=_>>>16&255,0===v)x[i++]=65535&_;else{if(!(16&v)){if(0==(64&v)){_=p[(65535&_)+(h&(1<<v)-1)];continue t}if(32&v){R.mode=16191;break e}e.msg="invalid literal/length code",R.mode=kt;break e}w=65535&_,v&=15,v&&(f<v&&(h+=E[n++]<<f,f+=8),w+=h&(1<<v)-1,h>>>=v,f-=v),f<15&&(h+=E[n++]<<f,f+=8,h+=E[n++]<<f,f+=8),_=m[h&y];n:for(;;){if(v=_>>>24,h>>>=v,f-=v,v=_>>>16&255,!(16&v)){if(0==(64&v)){_=m[(65535&_)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",R.mode=kt;break e}if(b=65535&_,v&=15,f<v&&(h+=E[n++]<<f,f+=8,f<v&&(h+=E[n++]<<f,f+=8)),b+=h&(1<<v)-1,b>o){e.msg="invalid distance too far back",R.mode=kt;break e}if(h>>>=v,f-=v,v=i-s,b>v){if(v=b-v,v>u&&R.sane){e.msg="invalid distance too far back",R.mode=kt;break e}if(k=0,A=d,0===l){if(k+=c-v,v<w){w-=v;do{x[i++]=d[k++]}while(--v);k=i-b,A=x}}else if(l<v){if(k+=c+l-v,v-=l,v<w){w-=v;do{x[i++]=d[k++]}while(--v);if(k=0,l<w){v=l,w-=v;do{x[i++]=d[k++]}while(--v);k=i-b,A=x}}}else if(k+=l-v,v<w){w-=v;do{x[i++]=d[k++]}while(--v);k=i-b,A=x}for(;w>2;)x[i++]=A[k++],x[i++]=A[k++],x[i++]=A[k++],w-=3;w&&(x[i++]=A[k++],w>1&&(x[i++]=A[k++]))}else{k=i-b;do{x[i++]=x[k++],x[i++]=x[k++],x[i++]=x[k++],w-=3}while(w>2);w&&(x[i++]=x[k++],w>1&&(x[i++]=x[k++]))}break}}break}}while(n<r&&i<a);w=f>>3,n-=w,f-=w<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),R.hold=h,R.bits=f};const Et=15,xt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),It=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),St=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ot=(e,t,n,r,i,s,a,o)=>{const c=o.bits;let u,l,d,h,f,p,m=0,g=0,y=0,_=0,v=0,w=0,b=0,k=0,A=0,E=0,x=null;const R=new Uint16Array(16),I=new Uint16Array(16);let S,O,T,N=null;for(m=0;m<=Et;m++)R[m]=0;for(g=0;g<r;g++)R[t[n+g]]++;for(v=c,_=Et;_>=1&&0===R[_];_--);if(v>_&&(v=_),0===_)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<_&&0===R[y];y++);for(v<y&&(v=y),k=1,m=1;m<=Et;m++)if(k<<=1,k-=R[m],k<0)return-1;if(k>0&&(0===e||1!==_))return-1;for(I[1]=0,m=1;m<Et;m++)I[m+1]=I[m]+R[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[I[t[n+g]]++]=g);if(0===e?(x=N=a,p=20):1===e?(x=xt,N=Rt,p=257):(x=It,N=St,p=0),E=0,g=0,m=y,f=s,w=v,b=0,d=-1,A=1<<v,h=A-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){S=m-b,a[g]+1<p?(O=0,T=a[g]):a[g]>=p?(O=N[a[g]-p],T=x[a[g]-p]):(O=96,T=0),u=1<<m-b,l=1<<w,y=l;do{l-=u,i[f+(E>>b)+l]=S<<24|O<<16|T|0}while(0!==l);for(u=1<<m-1;E&u;)u>>=1;if(0!==u?(E&=u-1,E+=u):E=0,g++,0==--R[m]){if(m===_)break;m=t[n+a[g]]}if(m>v&&(E&h)!==d){for(0===b&&(b=v),f+=y,w=m-b,k=1<<w;w+b<_&&(k-=R[w+b],!(k<=0));)w++,k<<=1;if(A+=1<<w,1===e&&A>852||2===e&&A>592)return 1;d=E&h,i[d]=v<<24|w<<16|f-s|0}}return 0!==E&&(i[f+E]=m-b<<24|64<<16|0),o.bits=v,0};const{Z_FINISH:Tt,Z_BLOCK:Nt,Z_TREES:Ct,Z_OK:Pt,Z_STREAM_END:Lt,Z_NEED_DICT:Dt,Z_STREAM_ERROR:zt,Z_DATA_ERROR:Mt,Z_MEM_ERROR:Ut,Z_BUF_ERROR:Bt,Z_DEFLATED:Zt}=ne,jt=16180,Kt=16190,Ht=16191,Ft=16192,Wt=16194,Vt=16199,$t=16200,qt=16206,Gt=16209,Jt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Yt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Xt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<jt||t.mode>16211?1:0},Qt=e=>{if(Xt(e))return zt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=jt,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Pt},en=e=>{if(Xt(e))return zt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Qt(e)},tn=(e,t)=>{let n;if(Xt(e))return zt;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?zt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,en(e))},nn=(e,t)=>{if(!e)return zt;const n=new Yt;e.state=n,n.strm=e,n.window=null,n.mode=jt;const r=tn(e,t);return r!==Pt&&(e.state=null),r};let rn,sn,an=!0;const on=e=>{if(an){rn=new Int32Array(512),sn=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ot(1,e.lens,0,288,rn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ot(2,e.lens,0,32,sn,0,e.work,{bits:5}),an=!1}e.lencode=rn,e.lenbits=9,e.distcode=sn,e.distbits=5},cn=(e,t,n,r)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var un={inflateReset:en,inflateReset2:tn,inflateResetKeep:Qt,inflateInit:e=>nn(e,15),inflateInit2:nn,inflate:(e,t)=>{let n,r,i,s,a,o,c,u,l,d,h,f,p,m,g,y,_,v,w,b,k,A,E=0;const x=new Uint8Array(4);let R,I;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xt(e)||!e.output||!e.input&&0!==e.avail_in)return zt;n=e.state,n.mode===Ht&&(n.mode=Ft),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,u=n.hold,l=n.bits,d=o,h=c,A=Pt;e:for(;;)switch(n.mode){case jt:if(0===n.wrap){n.mode=Ft;break}for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,x[0]=255&u,x[1]=u>>>8&255,n.check=ee(n.check,x,2,0),u=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Gt;break}if((15&u)!==Zt){e.msg="unknown compression method",n.mode=Gt;break}if(u>>>=4,l-=4,k=8+(15&u),0===n.wbits&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=Gt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&u?16189:Ht,u=0,l=0;break;case 16181:for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==Zt){e.msg="unknown compression method",n.mode=Gt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Gt;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(x[0]=255&u,x[1]=u>>>8&255,n.check=ee(n.check,x,2,0)),u=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(x[0]=255&u,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,n.check=ee(n.check,x,4,0)),u=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(x[0]=255&u,x[1]=u>>>8&255,n.check=ee(n.check,x,2,0)),u=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(x[0]=255&u,x[1]=u>>>8&255,n.check=ee(n.check,x,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>o&&(f=o),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),k)),512&n.flags&&4&n.wrap&&(n.check=ee(n.check,r,f,s)),o-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;f=0;do{k=r[s+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=ee(n.check,r,f,s)),o-=f,s+=f,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;f=0;do{k=r[s+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=ee(n.check,r,f,s)),o-=f,s+=f,k)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(4&n.wrap&&u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Gt;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ht;break;case 16189:for(;l<32;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}e.adler=n.check=Jt(u),u=0,l=0,n.mode=Kt;case Kt:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=l,Dt;e.adler=n.check=1,n.mode=Ht;case Ht:if(t===Nt||t===Ct)break e;case Ft:if(n.last){u>>>=7&l,l-=7&l,n.mode=qt;break}for(;l<3;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=16193;break;case 1:if(on(n),n.mode=Vt,t===Ct){u>>>=2,l-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Gt}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Gt;break}if(n.length=65535&u,u=0,l=0,n.mode=Wt,t===Ct)break e;case Wt:n.mode=16195;case 16195:if(f=n.length,f){if(f>o&&(f=o),f>c&&(f=c),0===f)break e;i.set(r.subarray(s,s+f),a),o-=f,s+=f,c-=f,a+=f,n.length-=f;break}n.mode=Ht;break;case 16196:for(;l<14;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Gt;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.lens[S[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},A=Ot(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,A){e.msg="invalid code lengths set",n.mode=Gt;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[u&(1<<n.lenbits)-1],g=E>>>24,y=E>>>16&255,_=65535&E,!(g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(_<16)u>>>=g,l-=g,n.lens[n.have++]=_;else{if(16===_){for(I=g+2;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(u>>>=g,l-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Gt;break}k=n.lens[n.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===_){for(I=g+3;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}u>>>=g,l-=g,k=0,f=3+(7&u),u>>>=3,l-=3}else{for(I=g+7;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}u>>>=g,l-=g,k=0,f=11+(127&u),u>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Gt;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===Gt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Gt;break}if(n.lenbits=9,R={bits:n.lenbits},A=Ot(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,A){e.msg="invalid literal/lengths set",n.mode=Gt;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},A=Ot(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,A){e.msg="invalid distances set",n.mode=Gt;break}if(n.mode=Vt,t===Ct)break e;case Vt:n.mode=$t;case $t:if(o>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=l,At(e,h),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,u=n.hold,l=n.bits,n.mode===Ht&&(n.back=-1);break}for(n.back=0;E=n.lencode[u&(1<<n.lenbits)-1],g=E>>>24,y=E>>>16&255,_=65535&E,!(g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(y&&0==(240&y)){for(v=g,w=y,b=_;E=n.lencode[b+((u&(1<<v+w)-1)>>v)],g=E>>>24,y=E>>>16&255,_=65535&E,!(v+g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}u>>>=v,l-=v,n.back+=v}if(u>>>=g,l-=g,n.back+=g,n.length=_,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=Ht;break}if(64&y){e.msg="invalid literal/length code",n.mode=Gt;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(I=n.extra;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;E=n.distcode[u&(1<<n.distbits)-1],g=E>>>24,y=E>>>16&255,_=65535&E,!(g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(0==(240&y)){for(v=g,w=y,b=_;E=n.distcode[b+((u&(1<<v+w)-1)>>v)],g=E>>>24,y=E>>>16&255,_=65535&E,!(v+g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}u>>>=v,l-=v,n.back+=v}if(u>>>=g,l-=g,n.back+=g,64&y){e.msg="invalid distance code",n.mode=Gt;break}n.offset=_,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(I=n.extra;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Gt;break}n.mode=16204;case 16204:if(0===c)break e;if(f=h-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Gt;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=a-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do{i[a++]=m[p++]}while(--f);0===n.length&&(n.mode=$t);break;case 16205:if(0===c)break e;i[a++]=n.length,c--,n.mode=$t;break;case qt:if(n.wrap){for(;l<32;){if(0===o)break e;o--,u|=r[s++]<<l,l+=8}if(h-=c,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?ee(n.check,i,h,a-h):X(n.check,i,h,a-h)),h=c,4&n.wrap&&(n.flags?u:Jt(u))!==n.check){e.msg="incorrect data check",n.mode=Gt;break}u=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(4&n.wrap&&u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Gt;break}u=0,l=0}n.mode=16208;case 16208:A=Lt;break e;case Gt:A=Mt;break e;case 16210:return Ut;default:return zt}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<Gt&&(n.mode<qt||t!==Tt))&&cn(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?ee(n.check,i,h,e.next_out-h):X(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ht?128:0)+(n.mode===Vt||n.mode===Wt?256:0),(0===d&&0===h||t===Tt)&&A===Pt&&(A=Bt),A},inflateEnd:e=>{if(Xt(e))return zt;let t=e.state;return t.window&&(t.window=null),e.state=null,Pt},inflateGetHeader:(e,t)=>{if(Xt(e))return zt;const n=e.state;return 0==(2&n.wrap)?zt:(n.head=t,t.done=!1,Pt)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,s;return Xt(e)?zt:(r=e.state,0!==r.wrap&&r.mode!==Kt?zt:r.mode===Kt&&(i=1,i=X(i,t,n,0),i!==r.check)?Mt:(s=cn(e,t,n,n),s?(r.mode=16210,Ut):(r.havedict=1,Pt)))},inflateInfo:"pako inflate (from Nodeca project)"};var ln=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const dn=Object.prototype.toString,{Z_NO_FLUSH:hn,Z_FINISH:fn,Z_OK:pn,Z_STREAM_END:mn,Z_NEED_DICT:gn,Z_STREAM_ERROR:yn,Z_DATA_ERROR:_n,Z_MEM_ERROR:vn}=ne;function wn(e){this.options=tt({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ct,this.strm.avail_out=0;let n=un.inflateInit2(this.strm,t.windowBits);if(n!==pn)throw new Error(te[n]);if(this.header=new ln,un.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=st(t.dictionary):"[object ArrayBuffer]"===dn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=un.inflateSetDictionary(this.strm,t.dictionary),n!==pn)))throw new Error(te[n])}function bn(e,t){const n=new wn(t);if(n.push(e),n.err)throw n.msg||te[n.err];return n.result}wn.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(a=t===~~t?t:!0===t?fn:hn,"[object ArrayBuffer]"===dn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=un.inflate(n,a),s===gn&&i&&(s=un.inflateSetDictionary(n,i),s===pn?s=un.inflate(n,a):s===_n&&(s=gn));n.avail_in>0&&s===mn&&n.state.wrap>0&&0!==e[n.next_in];)un.inflateReset(n),s=un.inflate(n,a);switch(s){case yn:case _n:case gn:case vn:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||s===mn))if("string"===this.options.to){let e=ot(n.output,n.next_out),t=n.next_out-e,i=at(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==pn||0!==o){if(s===mn)return s=un.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},wn.prototype.onData=function(e){this.chunks.push(e)},wn.prototype.onEnd=function(e){e===pn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=nt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var kn={Inflate:wn,inflate:bn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,bn(e,t)},ungzip:bn,constants:ne};const{Deflate:An,deflate:En,deflateRaw:xn,gzip:Rn}=bt,{Inflate:In,inflate:Sn,inflateRaw:On,ungzip:Tn}=kn;var Nn=Sn,Cn=n(87398),Pn=n.n(Cn),Ln=n(48764).Buffer;const Dn=e=>"version"in e;function zn(e){return c().encode(e)}function Mn(e){return a.Buffer.from(e,"base64")}function Un(e){return"accounts"in e}const Bn=d.struct([d.publicKey("authority"),d.vecU8("data")]);function Zn(e,t,n,r){return(null==e?void 0:e.length)?e[0].name?n(e):r(e):t()}function jn(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1})),n}function Kn(e,t={}){e.forEach((e=>{if(Un(e))Kn(e.accounts,t[e.name]);else if(!t[e.name])throw new Error(`Account \`${e.name}\` not provided.`)}))}function Hn(e){return e instanceof r.PublicKey?e:new r.PublicKey(e)}class Fn extends TypeError{constructor(e,t){let n;const{message:r,...i}=e,{path:s}=e;super(0===s.length?r:"At path: "+s.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]}}}function Wn(e){return"object"==typeof e&&null!=e}function Vn(e){return"string"==typeof e?JSON.stringify(e):""+e}function $n(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:s}=t,{type:a}=n,{refinement:o,message:c="Expected a value of type `"+a+"`"+(o?" with refinement `"+o+"`":"")+", but received: `"+Vn(r)+"`"}=e;return{value:r,type:a,refinement:o,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*qn(e,t,n,r){(function(e){return Wn(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=$n(i,t,n,r);e&&(yield e)}}function*Gn(e,t,n){void 0===n&&(n={});const{path:r=[],branch:i=[e],coerce:s=!1,mask:a=!1}=n,o={path:r,branch:i};if(s&&(e=t.coercer(e,o),a&&"type"!==t.type&&Wn(t.schema)&&Wn(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=!0;for(const n of t.validator(e,o))c=!1,yield[n,void 0];for(let[n,u,l]of t.entries(e,o)){const t=Gn(u,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,u],coerce:s,mask:a});for(const r of t)r[0]?(c=!1,yield[r[0],void 0]):s&&(u=r[1],void 0===n?e=u:e instanceof Map?e.set(n,u):e instanceof Set?e.add(u):Wn(e)&&(e[n]=u))}if(c)for(const n of t.refiner(e,o))c=!1,yield[n,void 0];c&&(yield[void 0,e])}class Jn{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:r,refiner:i,coercer:s=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=s,this.validator=r?(e,t)=>qn(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>qn(i(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const n=Qn(e,t);if(n[0])throw n[0]}(e,this)}create(e){return Yn(e,this)}is(e){return Xn(e,this)}mask(e){return function(e,t){const n=Qn(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),Qn(e,this,t)}}function Yn(e,t){const n=Qn(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function Xn(e,t){return!Qn(e,t)[0]}function Qn(e,t,n){void 0===n&&(n={});const r=Gn(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return[new Fn(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,i[1]]}function er(e,t){return new Jn({type:e,schema:null,validator:t})}function tr(e){return new Jn({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+Vn(e)})}function nr(e){const t=Vn(e),n=typeof e;return new Jn({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `"+t+"`, but received: "+Vn(n)})}function rr(e){return new Jn({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function ir(){return er("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+Vn(e)))}function sr(e){return new Jn({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function ar(){return er("string",(e=>"string"==typeof e||"Expected a string, but received: "+Vn(e)))}function or(e){const t=Object.keys(e);return new Jn({type:"type",schema:e,*entries(n){if(Wn(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Wn(e)||"Expected an object, but received: "+Vn(e)})}function cr(e){const t=e.map((e=>e.type)).join(" | ");return new Jn({type:"union",schema:null,coercer(t,n){const r=e.find((e=>{const[n]=e.validate(t,{coerce:!0});return!n}))||ur();return r.coercer(t,n)},validator(n,r){const i=[];for(const t of e){const[...e]=Gn(n,t,r),[s]=e;if(!s[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+Vn(n),...i]}})}function ur(){return er("unknown",(()=>!0))}async function lr(e,t,n){const r=null!=n?n:e.commitment,{value:i,context:s}=await e.getMultipleAccountsInfoAndContext(t,r);return i.map(((e,n)=>null===e?null:{publicKey:t[n],account:e,context:s}))}const dr=hr(ur());function hr(e){return cr([or({jsonrpc:nr("2.0"),id:ar(),result:e}),or({jsonrpc:nr("2.0"),id:ar(),error:or({code:ur(),message:ar(),data:sr(er("any",(()=>!0)))})})])}const fr=(mr=or({err:rr(cr([or({}),ar()])),logs:rr(tr(ar())),accounts:sr(rr(tr(rr(or({executable:er("boolean",(e=>"boolean"==typeof e)),owner:ar(),lamports:ir(),data:tr(ar()),rentEpoch:sr(ir())}))))),unitsConsumed:sr(ir())}),function(e,t,n){return new Jn({...e,coercer:(r,i)=>Xn(r,t)?e.coercer(n(r),i):e.coercer(r,i)})}(hr(pr=or({context:or({slot:ir()}),value:mr})),dr,(e=>"error"in e?e:{...e,result:Yn(e.result,pr)})));var pr,mr;class gr{constructor(e,t,n=gr.defaultOptions()){this.connection=e,this.wallet=t,this.opts=n,this.publicKey=null==t?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=gr.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var i,s,a,o;if(void 0===n&&(n=this.opts),Dn(e))t&&e.sign(t);else if(e.feePayer=null!==(i=e.feePayer)&&void 0!==i?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,t)for(const n of t)e.partialSign(n);const c=(e=await this.wallet.signTransaction(e)).serialize();try{return await _r(this.connection,c,n)}catch(t){if(t instanceof vr){const n=zn(Dn(e)?(null===(s=e.signatures)||void 0===s?void 0:s[0])||new Uint8Array:null!==(a=e.signature)&&void 0!==a?a:new Uint8Array),i=Dn(e)?0:void 0,c=await this.connection.getTransaction(n,{commitment:"confirmed",maxSupportedTransactionVersion:i});if(c){const e=null===(o=c.meta)||void 0===o?void 0:o.logMessages;throw e?new r.SendTransactionError(t.message,e):t}throw t}throw t}}async sendAll(e,t){var n,i,s;void 0===t&&(t=this.opts);const a=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let o=e.map((e=>{var t,n;if(Dn(e.tx)){let t=e.tx;return e.signers&&t.sign(e.signers),t}{let r=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=a,i.forEach((e=>{r.partialSign(e)})),r}}));const c=await this.wallet.signAllTransactions(o),u=[];for(let a=0;a<o.length;a+=1){const o=c[a],l=o.serialize();try{u.push(await _r(this.connection,l,t))}catch(e){if(e instanceof vr){const t=zn(Dn(o)?(null===(n=o.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(i=o.signature)&&void 0!==i?i:new Uint8Array),a=Dn(o)?0:void 0,c=await this.connection.getTransaction(t,{commitment:"confirmed",maxSupportedTransactionVersion:a});if(c){const t=null===(s=c.meta)||void 0===s?void 0:s.logMessages;throw t?new r.SendTransactionError(e.message,t):e}throw e}throw e}}return u}async simulate(e,t,n,i){let s,a=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(Dn(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),s=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=a,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),s=await async function(e,t,n,i,s){var a;n&&n.length>0&&t.sign(...n);const o=t._compile(),c=o.serialize(),u=t._serialize(c).toString("base64"),l={encoding:"base64",commitment:null!=i?i:e.commitment};if(s){const e=(Array.isArray(s)?s:o.nonProgramIds()).map((e=>e.toBase58()));l.accounts={encoding:"base64",addresses:e}}n&&n.length>0&&(l.sigVerify=!0);const d=[u,l],h=Yn(await e._rpcRequest("simulateTransaction",d),fr);if("error"in h){let e;if("data"in h.error&&(e=null===(a=h.error.data)||void 0===a?void 0:a.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(h.error.message,n)}throw new r.SendTransactionError("failed to simulate transaction: "+h.error.message,e)}return h.result}(this.connection,e,t,n,i)),s.value.err)throw new yr(s.value);return s.value}}class yr extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function _r(e,t,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let i;const s=Date.now();for(;Date.now()-s<6e4;)try{const s=await e.sendRawTransaction(t,r);if(null==n?void 0:n.blockhash)if(0===r.maxRetries){const t=AbortSignal.timeout(15e3);i=(await e.confirmTransaction({abortSignal:t,signature:s,...n.blockhash},n&&n.commitment)).value}else i=(await e.confirmTransaction({signature:s,...n.blockhash},n&&n.commitment)).value;else i=(await e.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new vr(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(e){if("TimeoutError"===e.name)continue;throw e}throw Error("Transaction failed to confirm in 60s")}class vr extends Error{constructor(e){super(e)}}function wr(){return gr.local()}var br="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},kr={};Object.defineProperty(kr,"__esModule",{value:!0});var Ar=kr.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=kr.ANCHOR_ERROR__REQUIRE_VIOLATED=kr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=kr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=kr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=kr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=kr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=kr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=kr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=kr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=kr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=kr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=kr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=kr.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=kr.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=kr.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=kr.ANCHOR_ERROR__CONSTRAINT_SPACE=kr.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=kr.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=kr.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=kr.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=kr.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=kr.ANCHOR_ERROR__CONSTRAINT_ZERO=kr.ANCHOR_ERROR__CONSTRAINT_ADDRESS=kr.ANCHOR_ERROR__CONSTRAINT_CLOSE=kr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=kr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=kr.ANCHOR_ERROR__CONSTRAINT_STATE=kr.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=kr.ANCHOR_ERROR__CONSTRAINT_SEEDS=kr.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=kr.ANCHOR_ERROR__CONSTRAINT_OWNER=kr.ANCHOR_ERROR__CONSTRAINT_RAW=kr.ANCHOR_ERROR__CONSTRAINT_SIGNER=kr.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=kr.ANCHOR_ERROR__CONSTRAINT_MUT=kr.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=kr.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=kr.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=kr.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=kr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=kr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=kr.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=kr.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Er=kr.ANCHOR_ERROR__DEPRECATED=kr.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=kr.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=kr.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=kr.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=kr.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=kr.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=kr.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=kr.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=kr.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=kr.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=kr.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=kr.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=kr.ANCHOR_ERROR__INVALID_PROGRAM_ID=kr.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=kr.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=kr.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=kr.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=kr.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=kr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=kr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=kr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=kr.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=kr.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=kr.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=kr.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=kr.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,xr=kr.ANCHOR_ERROR__INSTRUCTION_MISSING=100,Rr=kr.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,Ir=kr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,Sr=kr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,Or=kr.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,Tr=kr.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,Nr=kr.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,Cr=kr.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,Pr=kr.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,Lr=kr.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,Dr=kr.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,zr=kr.ANCHOR_ERROR__CONSTRAINT_RAW=2003,Mr=kr.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,Ur=kr.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Br=kr.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Zr=kr.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,jr=kr.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Kr=kr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Hr=kr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Fr=kr.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Wr=kr.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Vr=kr.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,$r=kr.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,qr=kr.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Gr=kr.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Jr=kr.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Yr=kr.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Xr=kr.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Qr=kr.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,ei=kr.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,ti=kr.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,ni=kr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,ri=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,ii=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,si=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,ai=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,oi=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,ci=kr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,ui=kr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,li=kr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,di=kr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,hi=kr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,fi=kr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,pi=kr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,mi=kr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,gi=kr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,yi=kr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,_i=kr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,vi=kr.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;Ar=kr.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var wi=kr.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,bi=kr.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,ki=kr.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,Ai=kr.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,Ei=kr.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,xi=kr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,Ri=kr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,Ii=kr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,Si=kr.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,Oi=kr.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,Ti=kr.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,Ni=kr.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,Ci=kr.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,Pi=kr.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,Li=kr.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,Di=kr.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,zi=kr.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Mi=kr.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,Ui=kr.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,Bi=kr.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Zi=kr.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,ji=kr.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,Ki=kr.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,Hi=kr.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,Fi=kr.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,Wi=kr.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Er=kr.ANCHOR_ERROR__DEPRECATED=5e3;const Vi=new Map;function $i(e){return void 0!==Vi.get(e)}class qi extends Error{constructor(e){super(e),this.name="IdlError"}}class Gi{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,i=/^Program \w* success/,s=[];for(let a=0;a<e.length;a++){if(i.exec(e[a])){s.pop();continue}const o=null===(t=n.exec(e[a]))||void 0===t?void 0:t[1];o&&s.push(new r.PublicKey(o))}return new Gi(s)}}class Ji extends Error{constructor(e,t,n,r,i,s){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:s,origin:i},this._programErrorStack=Gi.parse(r)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const n=e[t],i=[n];let s;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,a=n.exec(e[t+2])[1],o=n.exec(e[t+4])[1];s=[new r.PublicKey(a),new r.PublicKey(o)],i.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,r=n.exec(e[t+1])[2],a=n.exec(e[t+2])[2];i.push(...e.slice(t+1,t+3)),s=[r,a]}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),o=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[t,n,r]=a.slice(1,4),o={code:t,number:parseInt(n)};return new Ji(o,r,i,e,void 0,s)}if(o){const[t,n,r,a,c]=o.slice(1,6),u={code:r,number:parseInt(a)},l={file:t,line:parseInt(n)};return new Ji(u,c,i,e,l,s)}if(c){const[t,n,r,a]=c.slice(1,5),o=t,u={code:n,number:parseInt(r)};return new Ji(u,a,i,e,o,s)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Yi extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=Gi.parse(n))}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(e){return null}let s=t.get(i);return void 0!==s?new Yi(i,s,e.logs):(s=es.get(i),void 0!==s?new Yi(i,s,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function Xi(e,t){$i("debug-logs")&&console.log("Translating error:",e);const n=Ji.parse(e.logs);if(n)return n;const r=Yi.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return"programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=Gi.parse(e.logs),new Proxy(e,t)}return e}const Qi={InstructionMissing:xr,InstructionFallbackNotFound:Rr,InstructionDidNotDeserialize:Ir,InstructionDidNotSerialize:Sr,IdlInstructionStub:Or,IdlInstructionInvalidProgram:Tr,IdlAccountNotEmpty:Nr,EventInstructionStub:Cr,ConstraintMut:Pr,ConstraintHasOne:Lr,ConstraintSigner:Dr,ConstraintRaw:zr,ConstraintOwner:Mr,ConstraintRentExempt:Ur,ConstraintSeeds:Br,ConstraintExecutable:Zr,ConstraintState:jr,ConstraintAssociated:Kr,ConstraintAssociatedInit:Hr,ConstraintClose:Fr,ConstraintAddress:Wr,ConstraintZero:Vr,ConstraintTokenMint:$r,ConstraintTokenOwner:qr,ConstraintMintMintAuthority:Gr,ConstraintMintFreezeAuthority:Jr,ConstraintMintDecimals:Yr,ConstraintSpace:Xr,ConstraintAccountIsNone:Qr,ConstraintTokenTokenProgram:ei,ConstraintMintTokenProgram:ti,ConstraintAssociatedTokenTokenProgram:ni,ConstraintMintGroupPointerExtension:ri,ConstraintMintGroupPointerExtensionAuthority:ii,ConstraintMintGroupPointerExtensionGroupAddress:si,ConstraintMintGroupMemberPointerExtension:ai,ConstraintMintGroupMemberPointerExtensionAuthority:oi,ConstraintMintGroupMemberPointerExtensionMemberAddress:ci,ConstraintMintMetadataPointerExtension:ui,ConstraintMintMetadataPointerExtensionAuthority:li,ConstraintMintMetadataPointerExtensionMetadataAddress:di,ConstraintMintCloseAuthorityExtension:hi,ConstraintMintCloseAuthorityExtensionAuthority:fi,ConstraintMintPermanentDelegateExtension:pi,ConstraintMintPermanentDelegateExtensionDelegate:mi,ConstraintMintTransferHookExtension:gi,ConstraintMintTransferHookExtensionAuthority:yi,ConstraintMintTransferHookExtensionProgramId:_i,RequireViolated:vi,RequireEqViolated:Ar,RequireKeysEqViolated:wi,RequireNeqViolated:bi,RequireKeysNeqViolated:ki,RequireGtViolated:Ai,RequireGteViolated:Ei,AccountDiscriminatorAlreadySet:xi,AccountDiscriminatorNotFound:Ri,AccountDiscriminatorMismatch:Ii,AccountDidNotDeserialize:Si,AccountDidNotSerialize:Oi,AccountNotEnoughKeys:Ti,AccountNotMutable:Ni,AccountOwnedByWrongProgram:Ci,InvalidProgramId:Pi,InvalidProgramExecutable:Li,AccountNotSigner:Di,AccountNotSystemOwned:zi,AccountNotInitialized:Mi,AccountNotProgramData:Ui,AccountNotAssociatedTokenAccount:Bi,AccountSysvarMismatch:Zi,AccountReallocExceedsLimit:ji,AccountDuplicateReallocs:Ki,DeclaredProgramIdMismatch:Hi,TryingToInitPayerAsProgramAccount:Fi,InvalidNumericConversion:Wi,Deprecated:Er},es=new Map([[Qi.InstructionMissing,"Instruction discriminator not provided"],[Qi.InstructionFallbackNotFound,"Fallback functions are not supported"],[Qi.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Qi.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Qi.IdlInstructionStub,"The program was compiled without idl instructions"],[Qi.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Qi.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Qi.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Qi.ConstraintMut,"A mut constraint was violated"],[Qi.ConstraintHasOne,"A has one constraint was violated"],[Qi.ConstraintSigner,"A signer constraint was violated"],[Qi.ConstraintRaw,"A raw constraint was violated"],[Qi.ConstraintOwner,"An owner constraint was violated"],[Qi.ConstraintRentExempt,"A rent exemption constraint was violated"],[Qi.ConstraintSeeds,"A seeds constraint was violated"],[Qi.ConstraintExecutable,"An executable constraint was violated"],[Qi.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Qi.ConstraintAssociated,"An associated constraint was violated"],[Qi.ConstraintAssociatedInit,"An associated init constraint was violated"],[Qi.ConstraintClose,"A close constraint was violated"],[Qi.ConstraintAddress,"An address constraint was violated"],[Qi.ConstraintZero,"Expected zero account discriminant"],[Qi.ConstraintTokenMint,"A token mint constraint was violated"],[Qi.ConstraintTokenOwner,"A token owner constraint was violated"],[Qi.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Qi.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Qi.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Qi.ConstraintSpace,"A space constraint was violated"],[Qi.ConstraintAccountIsNone,"A required account for the constraint is None"],[Qi.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Qi.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Qi.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Qi.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Qi.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Qi.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Qi.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Qi.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Qi.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Qi.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Qi.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Qi.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Qi.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Qi.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Qi.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Qi.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Qi.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Qi.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Qi.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Qi.RequireViolated,"A require expression was violated"],[Qi.RequireEqViolated,"A require_eq expression was violated"],[Qi.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Qi.RequireNeqViolated,"A require_neq expression was violated"],[Qi.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Qi.RequireGtViolated,"A require_gt expression was violated"],[Qi.RequireGteViolated,"A require_gte expression was violated"],[Qi.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Qi.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Qi.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Qi.AccountDidNotDeserialize,"Failed to deserialize the account"],[Qi.AccountDidNotSerialize,"Failed to serialize the account"],[Qi.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Qi.AccountNotMutable,"The given account is not mutable"],[Qi.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Qi.InvalidProgramId,"Program ID was not as expected"],[Qi.InvalidProgramExecutable,"Program account is not executable"],[Qi.AccountNotSigner,"The given account did not sign"],[Qi.AccountNotSystemOwned,"The given account is not owned by the system program"],[Qi.AccountNotInitialized,"The program expected this account to be already initialized"],[Qi.AccountNotProgramData,"The given account is not a program data account"],[Qi.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Qi.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Qi.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Qi.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Qi.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Qi.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Qi.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Qi.Deprecated,"The API being used is deprecated and should no longer be used"]]);class ts{static fieldLayout(e,t=[],n){const r=e.name;switch(e.type){case"bool":return d.bool(r);case"u8":return d.u8(r);case"i8":return d.i8(r);case"u16":return d.u16(r);case"i16":return d.i16(r);case"u32":return d.u32(r);case"i32":return d.i32(r);case"f32":return d.f32(r);case"u64":return d.u64(r);case"i64":return d.i64(r);case"f64":return d.f64(r);case"u128":return d.u128(r);case"i128":return d.i128(r);case"u256":return d.u256(r);case"i256":return d.i256(r);case"bytes":return d.vecU8(r);case"string":return d.str(r);case"pubkey":return d.publicKey(r);default:if("option"in e.type)return d.option(ts.fieldLayout({type:e.type.option},t,n),r);if("vec"in e.type)return d.vec(ts.fieldLayout({type:e.type.vec},t,n),r);if("array"in e.type){let[i,s]=e.type.array;return s=ts.resolveArrayLen(s,n),d.array(ts.fieldLayout({type:i},t,n),s,r)}if("defined"in e.type){if(!t)throw new qi("User defined types not provided");const i=e.type.defined.name,s=t.find((e=>e.name===i));if(!s)throw new qi(`Type not found: ${e.name}`);return ts.typeDefLayout({typeDef:s,types:t,genericArgs:null!=n?n:e.type.defined.generics,name:r})}if("generic"in e.type){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new qi(`Invalid generic field: ${e.name}`);return ts.fieldLayout({...e,type:r.type},t)}throw new qi(`Not yet implemented: ${JSON.stringify(e.type)}`)}}static typeDefLayout({typeDef:e,types:t,name:n,genericArgs:r}){switch(e.type.kind){case"struct":{const i=Zn(e.type.fields,(()=>[]),(n=>n.map((n=>{const i=r?ts.resolveGenericArgs({type:n.type,typeDef:e,genericArgs:r}):r;return ts.fieldLayout(n,t,i)}))),(n=>n.map(((n,i)=>{const s=r?ts.resolveGenericArgs({type:n,typeDef:e,genericArgs:r}):r;return ts.fieldLayout({name:i.toString(),type:n},t,s)}))));return d.struct(i,n)}case"enum":{const i=e.type.variants.map((n=>{const i=Zn(n.fields,(()=>[]),(n=>n.map((n=>{const i=r?ts.resolveGenericArgs({type:n.type,typeDef:e,genericArgs:r}):r;return ts.fieldLayout(n,t,i)}))),(n=>n.map(((n,i)=>{const s=r?ts.resolveGenericArgs({type:n,typeDef:e,genericArgs:r}):r;return ts.fieldLayout({name:i.toString(),type:n},t,s)}))));return d.struct(i,n.name)}));return void 0!==n?d.rustEnum(i).replicate(n):d.rustEnum(i,n)}case"type":return ts.fieldLayout({type:e.type.alias,name:n},t)}}static typeSize(e,t,n){var r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in e)return 1+ts.typeSize(e.option,t,n);if("coption"in e)return 4+ts.typeSize(e.coption,t,n);if("vec"in e)return 1;if("array"in e){let[r,i]=e.array;return i=ts.resolveArrayLen(i,n),ts.typeSize(r,t,n)*i}if("defined"in e){const i=null===(r=t.types)||void 0===r?void 0:r.find((t=>t.name===e.defined.name));if(!i)throw new qi(`Type not found: ${JSON.stringify(e)}`);const s=r=>{const s=null!=n?n:e.defined.generics,a=s?ts.resolveGenericArgs({type:r,typeDef:i,genericArgs:s}):s;return ts.typeSize(r,t,a)};switch(i.type.kind){case"struct":return Zn(i.type.fields,(()=>[0]),(e=>e.map((e=>s(e.type)))),(e=>e.map((e=>s(e))))).reduce(((e,t)=>e+t),0);case"enum":{const e=i.type.variants.map((e=>Zn(e.fields,(()=>[0]),(e=>e.map((e=>s(e.type)))),(e=>e.map((e=>s(e))))).reduce(((e,t)=>e+t),0)));return Math.max(...e)+1}case"type":return ts.typeSize(i.type.alias,t,n)}}if("generic"in e){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new qi(`Invalid generic: ${e.generic}`);return ts.typeSize(r.type,t,n)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if("number"==typeof e)return e;if(t){const n=t.find((e=>"const"===e.kind));"const"===(null==n?void 0:n.kind)&&(e=+n.value)}if("number"!=typeof e)throw new qi("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:n,isDefined:r}){if("object"!=typeof e)return null;for(const i in t.generics){const s=t.generics[i];if("generic"in e&&s.name===e.generic)return[n[i]];if("option"in e){const i=ts.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:n,isDefined:r});if(!i||!r)return i;if("type"===i[0].kind)return[{kind:"type",type:{option:i[0].type}}]}if("vec"in e){const i=ts.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:n,isDefined:r});if(!i||!r)return i;if("type"===i[0].kind)return[{kind:"type",type:{vec:i[0].type}}]}if("array"in e){const[a,o]=e.array,c="object"==typeof o,u=ts.resolveGenericArgs({type:a,typeDef:t,genericArgs:n,isDefined:r});if(u){for(const e in t.generics.slice(+i)){const r=+i+ +e;c&&t.generics[r].name===o.generic&&u.push(n[r])}if(!r)return u;if("type"===u[0].kind&&"const"===u[1].kind)return[{kind:"type",type:{array:[u[0].type,+u[1].value]}}]}if(c&&s.name===o.generic){const e=n[i];return r?[{kind:"type",type:{array:[a,+e.value]}}]:[e]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap((e=>{switch(e.kind){case"type":return ts.resolveGenericArgs({type:e.type,typeDef:t,genericArgs:n,isDefined:!0});case"const":return[e]}})).filter((e=>null!==e)):null}return null}}class ns{constructor(e){this.idl=e;const t=e.instructions.map((t=>{const n=t.name,r=t.args.map((t=>ts.fieldLayout(t,e.types))),i=d.struct(r,n);return[n,{discriminator:t.discriminator,layout:i}]}));this.ixLayouts=new Map(t)}encode(e,t){const n=a.Buffer.alloc(1e3),r=this.ixLayouts.get(e);if(!r)throw new Error(`Unknown method: ${e}`);const i=r.layout.encode(t,n),s=n.slice(0,i);return a.Buffer.concat([a.Buffer.from(r.discriminator),s])}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?a.Buffer.from(e,"hex"):c().decode(e));for(const[t,n]of this.ixLayouts){const r=e.subarray(0,n.discriminator.length);if(r.equals(a.Buffer.from(n.discriminator)))return{name:t,data:n.layout.decode(e.subarray(r.length))}}return null}format(e,t){return rs.format(e,t,this.idl)}}class rs{static format(e,t,n){const r=n.instructions.find((t=>e.name===t.name));if(!r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:rs.formatIdlType(t.type),data:rs.formatIdlData(t,e.data[t.name],n.types)}))),s=rs.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<s.length?{name:s[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){return`${t}<${e.defined.generics.map((e=>{switch(e.kind){case"type":return rs.formatIdlType(e.type);case"const":return e.value}})).join(", ")}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if("vec"in e.type)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t,n))).join(", ")+"]";if("option"in e.type)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if("defined"in e.type){if(!n)throw new Error("User defined types not provided");const r=e.type.defined.name,i=n.find((e=>e.name===r));if(!i)throw new Error(`Type not found: ${r}`);return rs.formatIdlDataDefined(i,t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){switch(e.type.kind){case"struct":return"{ "+Zn(e.type.fields,(()=>""),(e=>Object.entries(t).map((([t,r])=>{const i=e.find((e=>e.name===t));if(!i)throw new Error(`Field not found: ${t}`);return t+": "+rs.formatIdlData(i,r,n)})).join(", ")),(e=>Object.entries(t).map((([t,r])=>t+": "+rs.formatIdlData({name:"",type:e[t]},r,n))).join(", ")))+" }";case"enum":{const r=Object.keys(t)[0],i=e.type.variants.find((e=>e.name===r));if(!i)throw new Error(`Unable to find variant: ${r}`);const s=t[r];return Zn(i.fields,(()=>r),(e=>{const t=Object.keys(s).map((t=>{const r=s[t],i=e.find((e=>e.name===t));if(!i)throw new Error(`Field not found: ${t}`);return t+": "+rs.formatIdlData(i,r,n)})).join(", ");return`${r} { ${t} }`}),(e=>{const t=Object.entries(s).map((([t,r])=>t+": "+rs.formatIdlData({name:"",type:e[t]},r,n))).join(", ");return`${r} { ${t} }`}))}case"type":return rs.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return rs.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}class is{constructor(e){if(this.idl=e,!e.accounts)return void(this.accountLayouts=new Map);const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const n=e.accounts.map((e=>{const n=t.find((t=>t.name===e.name));if(!n)throw new Error(`Account not found: ${e.name}`);return[e.name,{discriminator:e.discriminator,layout:ts.typeDefLayout({typeDef:n,types:t})}]}));this.accountLayouts=new Map(n)}async encode(e,t){const n=a.Buffer.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const i=r.layout.encode(t,n),s=n.slice(0,i),o=this.accountDiscriminator(e);return a.Buffer.concat([o,s])}decode(e,t){const n=this.accountDiscriminator(e);if(n.compare(t.slice(0,n.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){for(const[t,n]of this.accountLayouts)if(e.subarray(0,n.discriminator.length).equals(a.Buffer.from(n.discriminator)))return this.decodeUnchecked(t,e);throw new Error("Account not found")}decodeUnchecked(e,t){const n=this.accountDiscriminator(e),r=t.subarray(n.length),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.layout.decode(r)}memcmp(e,t){const n=this.accountDiscriminator(e);return{offset:0,bytes:c().encode(t?a.Buffer.concat([n,t]):n)}}size(e){return this.accountDiscriminator(e).length+ts.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const n=null===(t=this.idl.accounts)||void 0===t?void 0:t.find((t=>t.name===e));if(!n)throw new Error(`Account not found: ${e}`);return a.Buffer.from(n.discriminator)}}class ss{constructor(e){if(!e.events)return void(this.layouts=new Map);const t=e.types;if(!t)throw new Error("Events require `idl.types`");const n=e.events.map((e=>{const n=t.find((t=>t.name===e.name));if(!n)throw new Error(`Event not found: ${e.name}`);return[e.name,{discriminator:e.discriminator,layout:ts.typeDefLayout({typeDef:n,types:t})}]}));this.layouts=new Map(n)}decode(e){let t;try{t=Mn(e)}catch(e){return null}for(const[e,n]of this.layouts){const r=t.subarray(0,n.discriminator.length);if(r.equals(a.Buffer.from(n.discriminator)))return{name:e,data:n.layout.decode(t.subarray(r.length))}}return null}}class as{constructor(e){const t=e.types;if(!t)return void(this.typeLayouts=new Map);const n=t.filter((e=>!e.generics)).map((e=>[e.name,ts.typeDefLayout({typeDef:e,types:t})]));this.typeLayouts=new Map(n)}encode(e,t){const n=a.Buffer.alloc(1e3),r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);const i=r.encode(t,n);return n.slice(0,i)}decode(e,t){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(t)}}class os{constructor(e){this.instruction=new ns(e),this.accounts=new is(e),this.events=new ss(e),this.types=new as(e)}}class cs{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var us=cs;class ls extends cs{isCount(){throw new Error("ExternalLayout is abstract")}}class ds extends ls{constructor(e,t,n){if(!(e instanceof cs))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof hs||this.layout instanceof fs}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class hs extends cs{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class fs extends cs{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const ps=Math.pow(2,32);function ms(e){const t=Math.floor(e/ps);return{hi32:t,lo32:e-t*ps}}function gs(e,t){return e*ps+t}class ys extends cs{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return gs(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ms(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class _s extends cs{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof cs),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,s=0;for(const r of this.fields){let a=r.span;if(s=0<a?a:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(s=r.encode(i,t,n),0>a&&(a=r.getSpan(t,n)))}i=n,n+=a}return i+s-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class vs{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ws extends vs{constructor(e,t){if(!(e instanceof ls&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class bs extends cs{constructor(e,t,n){const r=e instanceof hs||e instanceof fs;if(r)e=new ws(new ds(e));else if(e instanceof ls&&e.isCount())e=new ws(e);else if(!(e instanceof vs))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof cs))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let s=this.registry[i];if(void 0===s){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=this.defaultLayout.decode(e,t+a)}else n=s.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(e[r.property],t,n),s+i.encode(e[i.property],t,n+s)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new ks(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Ln.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class ks extends cs{constructor(e,t,n,r){if(!(e instanceof bs))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof cs))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class As extends cs{constructor(e,t){if(!(e instanceof ls&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ls||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof ls&&(r=e.length),!Ln.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof ls&&this.length.encode(r,t,n),r}}var Es=(e,t,n)=>new ds(e,t,n),xs=e=>new hs(4,e),Rs=e=>new ys(e),Is=(e,t,n)=>new _s(e,t,n),Ss=(e,t,n)=>new bs(e,t,n),Os=(e,t)=>new As(e,t);class Ts extends us{constructor(e){super(-1,e),this.property=e,this.layout=Is([xs("length"),xs("lengthPadding"),Os(Es(xs(),-8),"chars")],this.property)}encode(e,t,n=0){if(null==e)return this.layout.span;const r={chars:Ln.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return xs().span+xs().span+new(s())(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Ns(e){return new Ts(e)}function Cs(e){return Os(32,e)}const Ps=Ss(xs("instruction"));Ps.addVariant(0,Is([Rs("lamports"),Rs("space"),Cs("owner")]),"createAccount"),Ps.addVariant(1,Is([Cs("owner")]),"assign"),Ps.addVariant(2,Is([Rs("lamports")]),"transfer"),Ps.addVariant(3,Is([Cs("base"),Ns("seed"),Rs("lamports"),Rs("space"),Cs("owner")]),"createAccountWithSeed"),Ps.addVariant(4,Is([Cs("authorized")]),"advanceNonceAccount"),Ps.addVariant(5,Is([Rs("lamports")]),"withdrawNonceAccount"),Ps.addVariant(6,Is([Cs("authorized")]),"initializeNonceAccount"),Ps.addVariant(7,Is([Cs("authorized")]),"authorizeNonceAccount"),Ps.addVariant(8,Is([Rs("space")]),"allocate"),Ps.addVariant(9,Is([Cs("base"),Ns("seed"),Rs("space"),Cs("owner")]),"allocateWithSeed"),Ps.addVariant(10,Is([Cs("base"),Ns("seed"),Cs("owner")]),"assignWithSeed"),Ps.addVariant(11,Is([Rs("lamports"),Ns("seed"),Cs("owner")]),"transferWithSeed"),Math.max(...Object.values(Ps.registry).map((e=>e.span)));class Ls extends us{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Ds(e){return new Ls(Os(32),(e=>new r.PublicKey(e)),(e=>e.toBuffer()),e)}Is([xs("version"),xs("state"),Ds("authorizedPubkey"),Ds("nonce"),Is([("lamportsPerSignature",new class extends cs{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return gs(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ms(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}("lamportsPerSignature"))],"feeCalculator")]),new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var zs={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:br,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,a="ArrayBuffer"in e;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,r,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),_.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];b.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(r,s){var a=new v(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function c(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;r(new b(i,n))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&i&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",c)}),o.send(void 0===a._bodyInit?null:a._bodyInit)}))}A.polyfill=!0,e.fetch||(e.fetch=A,e.Headers=h,e.Request=v,e.Response=b),t.Headers=h,t.Request=v,t.Response=b,t.fetch=A,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(zs,zs.exports),d.rustEnum([d.struct([],"uninitialized"),d.struct([d.option(d.publicKey(),"authorityAddress")],"buffer"),d.struct([d.publicKey("programdataAddress")],"program"),d.struct([d.u64("slot"),d.option(d.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,d.u32());const Ms="Program log: ",Us="Program data: ",Bs=Ms.length,Zs=Us.length;class js{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new Ks(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t,n){var r;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(r=this._eventListeners.get(e))&&void 0!==r?r:[]).concat(i)),this._eventCallbacks.set(i,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{if(!e.err)for(const n of this._eventParser.parseLogs(e.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,t.slot,e.signature)}}))}}),n)),i}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Ks{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const n=new Fs(e),r=new Hs;let i=n.next();for(;null!==i;){let[e,s,a]=this.handleLog(r,i,t);e&&(yield e),s&&r.push(s),a&&r.pop(),i=n.next()}}handleLog(e,t,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,n):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(Ms)||e.startsWith(Us)){const n=e.startsWith(Ms)?e.slice(Bs):e.slice(Zs),r=this.coder.events.decode(n);if(t&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Hs{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class Fs{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function Ws(e,t){var n,r;let i={};const s=e.args?e.args.length:0;if(t.length>s){if(t.length!==s+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class Vs{static build(e,t,n){if("_inner"===e.name)throw new qi("the _inner name is reserved");const i=(...s)=>{const[a,o]=Ws(e,[...s]);Kn(e.accounts,o.accounts);const c=i.accounts(o.accounts);return void 0!==o.remainingAccounts&&c.push(...o.remainingAccounts),$i("debug-logs")&&console.log("Outgoing account metas:",c),new r.TransactionInstruction({keys:c,programId:n,data:t(e.name,jn(e,...a))})};return i.accounts=t=>Vs.accountsArray(t,e.accounts,n,e.name),i}static accountsArray(e,t,n,r){return e?t.map((t=>{if(Un(t)){const i=e[t.name];return Vs.accountsArray(i,t.accounts,n,r).flat()}let i;try{i=Hn(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const s=t.optional&&i.equals(n);return{pubkey:i,isWritable:Boolean(t.writable&&!s),isSigner:Boolean(t.signer&&!s)}})).flat():[]}}class $s{static build(e,t){return(...n)=>{var i,s,a;const[,o]=Ws(e,[...n]),c=new r.Transaction;if(o.preInstructions&&o.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(i=o.preInstructions)||void 0===i||i.forEach((e=>c.add(e))),null===(s=o.instructions)||void 0===s||s.forEach((e=>c.add(e))),c.add(t(...n)),null===(a=o.postInstructions)||void 0===a||a.forEach((e=>c.add(e))),c}}}class qs{static build(e,t,n,r){return async(...i)=>{var s;const a=t(...i),[,o]=Ws(e,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(a,null!==(s=o.signers)&&void 0!==s?s:[],o.options)}catch(e){throw Xi(e,n)}}}}class Gs{static build(e,t,n,r){var i;return(null!==(i=e.accounts)&&void 0!==i?i:[]).reduce(((i,s)=>(i[s.name]=new Js(e,s,n,r,t),i)),{})}}class Js{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:wr(),this._coder=null!=i?i:new os(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);return n}async fetchNullableAndContext(e,t){const n=await this.getAccountInfoAndContext(e,t),{value:r,context:i}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,t){const{data:n,context:r}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:r}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map((e=>e?e.data:null))}async fetchMultipleAndContext(e,t){return(await async function(e,t,n){if(t.length<=99)return await lr(e,t,n);{const r=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/99))).map(((t,n)=>e.slice(99*n,99*(n+1))))}(t);return(await Promise.all(r.map((t=>lr(e,t,n))))).flat()}}(this._provider.connection,e.map((e=>Hn(e))),t)).map((e=>{if(null==e)return null;const{account:t,context:n}=e;return{data:this._coder.accounts.decode(this._idlAccount.name,t.data),context:n}}))}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Ln?e:void 0),n=[];return null!=(null==t?void 0:t.offset)&&null!=(null==t?void 0:t.bytes)&&n.push({memcmp:{offset:t.offset,bytes:t.bytes}}),null!=(null==t?void 0:t.dataSize)&&n.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){const n=Ys.get(e.toString());if(n)return n.ee;const r=new(Pn());e=Hn(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return Ys.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=Ys.get(e.toString());t?Ys&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Ys.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return r.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Hn(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(Hn(e),t)}}const Ys=new Map;class Xs{static build(e,t,n,r,i,s,a){return async(...o)=>{var c;const u=t(...o),[,l]=Ws(e,[...o]);let d;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{d=await r.simulate(u,l.signers,null===(c=l.options)||void 0===c?void 0:c.commitment)}catch(e){throw Xi(e,n)}if(void 0===d)throw new Error("Unable to simulate transaction");const h=d.logs;if(!h)throw new Error("Simulated logs not found");const f=[];if(a.events){let e=new Ks(s,i);for(const t of e.parseLogs(h))f.push(t)}return{events:f,raw:h}}}}function Qs(e){return new na(Os(8),(e=>ia.fromBuffer(e)),(e=>e.toBuffer()),e)}function ea(e){return new na(Os(32),(e=>new r.PublicKey(e)),(e=>e.toBuffer()),e)}function ta(e,t){return new ra(e,t)}class na extends us{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class ra extends us{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=xs()}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class ia extends(s()){toBuffer(){const e=super.toArray().reverse(),t=Ln.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Ln.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new ia([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}const sa=Is([ea("mint"),ea("owner"),Qs("amount"),ta(ea(),"delegate"),(e=>{const t=Ss(new hs(1,"discriminator"),null,"state");return t.addVariant(0,Is([]),"uninitialized"),t.addVariant(1,Is([]),"initialized"),t.addVariant(2,Is([]),"frozen"),t})(),ta(Qs(),"isNative"),Qs("delegatedAmount"),ta(ea(),"closeAuthority")]);class aa{constructor(e,t,n,r,i,s,a,o){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=a,this._customResolver=o,this._accountStore=new oa(n,s,r)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,16===e){const e=t=>Un(t)?t.accounts.some(e):!!(t.address||t.pda||t.relations),t=(e,n=[],r=[])=>{for(const i of e)Un(i)?r.push(...t(i.accounts,[...n,i.name])):r.push([...n,i.name]);return r},n=this._idlIx.accounts.filter(e),r=t(n).filter((e=>!this.get(e))).map((e=>e.reduce(((e,t)=>e+"."+t)))).map((e=>`\`${e}\``)).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${r}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce(((e,t)=>e&&e[t]),this._accounts);if(t&&t.toBase58)return t}set(e,t){let n=this._accounts;e.forEach(((r,i)=>{var s;i===e.length-1&&(n[r]=t),n[r]=null!==(s=n[r])&&void 0!==s?s:{},n=n[r]}))}resolveOptionalsHelper(e,t){const n={};for(const r of t){const t=r.name,i=e[t];void 0!==i&&(ua(i)?Un(r)?n[t]=this.resolveOptionalsHelper(i,r.accounts):n[t]=la(i,!0):null!==i?n[t]=Hn(i):r.optional&&(n[t]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const n in e){const i=e[n];Un(i)&&this.resolveEventCpi(i.accounts,[...t,i.name]);const s=+n+1;if(s===e.length)return;const a=e[n].name,o=e[s].name;if("eventAuthority"===a&&"program"===o){const e=[...t,a],n=[...t,o];return this.get(e)||this.set(e,r.PublicKey.findProgramAddressSync([Ln.from("__event_authority")],this._programId)[0]),void(this.get(n)||this.set(n,this._programId))}}}resolveConst(e,t=[]){for(const n of e){const e=n.name;if(Un(n))this.resolveConst(n.accounts,[...t,e]);else{const r=n;if((r.signer||r.address)&&!this.get([...t,e])){if(r.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...t,e],this._provider.wallet.publicKey)}r.address&&this.set([...t,e],Hn(r.address))}}}}async resolvePdasAndRelations(e,t=[]){let n=0;for(const i of e){const e=i.name;if(Un(i))n+=await this.resolvePdasAndRelations(i.accounts,[...t,e]);else{const s=i;if((s.pda||s.relations)&&!this.get([...t,e])){n++;try{if(s.pda){const n=await Promise.all(s.pda.seeds.map((e=>this.toBuffer(e,t))));if(n.some((e=>!e)))continue;const i=await this.parseProgramId(s,t),[a]=r.PublicKey.findProgramAddressSync(n,i);this.set([...t,e],a)}}catch{}try{if(s.relations){const n=this.get([...t,s.relations[0]]);if(n){const r=await this._accountStore.fetchAccount({publicKey:n});this.set([...t,e],r[e])}}}catch{}}}}return n}async parseProgramId(e,t=[]){var n;if(!(null===(n=e.pda)||void 0===n?void 0:n.program))return this._programId;const i=await this.toBuffer(e.pda.program,t);if(!i)throw new Error(`Program seed not resolved: ${e.name}`);return new r.PublicKey(i)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...n]=e.path.split("."),r=this._idlIx.args.findIndex((e=>e.name===t));if(-1===r)throw new Error(`Unable to find argument for seed: ${t}`);const i=n.reduce(((e,t)=>(null!=e?e:{})[t]),this._args[r]);if(void 0===i)return;const s=this.getType(this._idlIx.args[r].type,n);return this.toBufferValue(s,i)}async toBufferAccount(e,t=[]){const[n,...r]=e.path.split("."),i=this.get([...t,n]);if(!i)return;if(!r.length)return this.toBufferValue("pubkey",i);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let s=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),a=r;for(;a.length>0;)s=s[a[0]],a=a.slice(1);if(void 0===s)return;const o=this.getType({defined:{name:e.account}},r);return this.toBufferValue(o,s)}toBufferValue(e,t){switch(e){case"u8":case"i8":return Ln.from([t]);case"u16":case"i16":return new(s())(t).toArrayLike(Ln,"le",2);case"u32":case"i32":return new(s())(t).toArrayLike(Ln,"le",4);case"u64":case"i64":return new(s())(t).toArrayLike(Ln,"le",8);case"u128":case"i128":return new(s())(t).toArrayLike(Ln,"le",16);case"u256":case"i256":return new(s())(t).toArrayLike(Ln,"le",32);case"string":case"bytes":return Ln.from(t);case"pubkey":return t.toBuffer();default:if(null==e?void 0:e.array)return Ln.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var n;const r=null===(n=null==e?void 0:e.defined)||void 0===n?void 0:n.name;if(r){if("tokenAccount"===r)switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const e=this._idlTypes.find((e=>e.name===r));if(!e)throw new Error(`Type not found: ${r}`);const[n,...i]=t,s=e.type.fields.find((e=>e.name===n));if(!s)throw new Error(`Field not found: ${n}`);return this.getType(s.type,i)}return e}}class oa{constructor(e,t,n){this._provider=e,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const n=e.toBase58();if(!this._cache.has(n)){const r=await this._provider.connection.getAccountInfo(e);if(null===r)throw new Error(`Account not found: ${n}`);if("tokenAccount"===t){const e=function(e){return sa.decode(e)}(r.data);this._cache.set(n,e)}else{const e=await this.getAccountsNs(r.owner);if(e){const t=Object.values(e)[0];if(t){const e=t.coder.accounts.decodeAny(r.data);this._cache.set(n,e)}}}}return this._cache.get(n)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const n=await pa.fetchIdl(e,this._provider);if(n){const e=new pa(n,this._provider);this._idls[t]=e.account}}return this._idls[t]}}class ca{static build(e,t,n,r,i,s,a,o,c,u,l){return(...d)=>new da(d,r,i,s,a,o,e,t,n,c,u,l)}}function ua(e){return"object"==typeof e&&null!==e&&!("_bn"in e)}function la(e,t){const n={};for(const r in e){const i=e[r];if(null!==i)n[r]=ua(i)?la(i,!0):Hn(i);else if(t)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class da{constructor(e,t,n,r,i,s,a,o,c,u,l,d){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new aa(e,this._accounts,a,o,c,u,l,d)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return this._preInstructions=t?e.concat(this._preInstructions):this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class ha{static build(e,t,n,r){const i=t.accounts.find((e=>e.writable)),s=!!t.returns;if(!i&&s)return async(...i)=>{let s=await n(...i);const a=`Program return: ${e} `;let o=s.raw.find((e=>e.startsWith(a)));if(!o)throw new Error("View expected return log");let c=Mn(o.slice(a.length)),u=t.returns;if(!u)throw new Error("View expected return type");return ts.fieldLayout({type:u},r.types).decode(c)}}}class fa{static build(e,t,n,r,i){const s={},a={},o={},c={},u={},l={},d=function(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}(e),h=e.accounts?Gs.build(e,t,n,r):{};return e.instructions.forEach((f=>{const p=Vs.build(f,((e,n)=>t.instruction.encode(e,n)),n),m=$s.build(f,p),g=qs.build(f,m,d,r),y=Xs.build(f,m,d,r,t,n,e),_=ha.build(n,f,y,e),v=ca.build(r,n,f,p,m,g,y,_,h,e.types||[],null==i?void 0:i(f)),w=f.name;a[w]=p,o[w]=m,s[w]=g,c[w]=y,u[w]=v,_&&(l[w]=_)})),[s,a,o,h,c,u,l]}}class pa{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=wr(),n,r){this._idl=function(e){const t=["name","path","account","relations","generic"],n=e=>e.split(".").map(l()).join("."),r=e=>{for(const i in e){const s=e[i];t.includes(i)?e[i]=Array.isArray(s)?s.map(n):n(s):"object"==typeof s&&r(s)}},i=structuredClone(e);return r(i),i}(e),this._rawIdl=e,this._provider=t,this._programId=Hn(e.address),this._coder=null!=n?n:new os(this._idl),this._events=new js(this._programId,t,this._coder);const[i,s,a,o,c,u,d]=fa.build(this._idl,this._coder,this._programId,t,r);this.rpc=i,this.instruction=s,this.transaction=a,this.account=o,this.simulate=c,this.methods=u,this.views=d}static async at(e,t){const n=Hn(e),r=await pa.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new pa(r,t)}static async fetchIdl(e,t){t=null!=t?t:wr();const n=Hn(e),i=await async function(e){const t=(await r.PublicKey.findProgramAddress([],e))[0];return await r.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),s=await t.connection.getAccountInfo(i);if(!s)return null;let a=(o=s.data.slice(8),Bn.decode(o));var o;const c=Nn(a.data);return JSON.parse(function(e){return new TextDecoder("utf-8").decode(e)}(c))}addEventListener(e,t,n){return this._events.addEventListener(e,t,n)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new r.PublicKey("11111111111111111111111111111111");var ma={};Object.defineProperty(ma,"__esModule",{value:!0}),ma.s16=ma.s8=ma.nu64be=ma.u48be=ma.u40be=ma.u32be=ma.u24be=ma.u16be=ma.nu64=ma.u48=ma.u40=no=ma.u32=ma.u24=ma.u16=to=ma.u8=eo=ma.offset=ma.greedy=ma.Constant=ma.UTF8=ma.CString=ma.Blob=ma.Boolean=ma.BitField=ma.BitStructure=ma.VariantLayout=ma.Union=ma.UnionLayoutDiscriminator=ma.UnionDiscriminator=ma.Structure=ma.Sequence=ma.DoubleBE=ma.Double=ma.FloatBE=ma.Float=ma.NearInt64BE=ma.NearInt64=ma.NearUInt64BE=ma.NearUInt64=ma.IntBE=ma.Int=ma.UIntBE=ma.UInt=ma.OffsetLayout=ma.GreedyCount=ma.ExternalLayout=ma.bindConstructorLayout=ma.nameWithProperty=ma.Layout=ma.uint8ArrayToBuffer=ma.checkUint8Array=void 0,ma.constant=ma.utf8=ma.cstr=ao=ma.blob=ma.unionLayoutDiscriminator=ma.union=io=ma.seq=ma.bits=ro=ma.struct=ma.f64be=ma.f64=ma.f32be=ma.f32=ma.ns64be=ma.s48be=ma.s40be=ma.s32be=ma.s24be=ma.s16be=ma.ns64=ma.s48=ma.s40=ma.s32=ma.s24=void 0;const ga=a;function ya(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function _a(e){return ya(e),ga.Buffer.from(e.buffer,e.byteOffset,e.length)}ma.checkUint8Array=ya,ma.uint8ArrayToBuffer=_a;class va{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var wa=ma.Layout=va;function ba(e,t){return t.property?e+"["+t.property+"]":e}ma.nameWithProperty=ba,ma.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof va))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};class ka extends va{isCount(){throw new Error("ExternalLayout is abstract")}}ma.ExternalLayout=ka;class Aa extends ka{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){ya(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}ma.GreedyCount=Aa;class Ea extends ka{constructor(e,t=0,n){if(!(e instanceof va))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof xa||this.layout instanceof Ra}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}ma.OffsetLayout=Ea;class xa extends va{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return _a(e).readUIntLE(t,this.span)}encode(e,t,n=0){return _a(t).writeUIntLE(e,n,this.span),this.span}}ma.UInt=xa;class Ra extends va{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return _a(e).readUIntBE(t,this.span)}encode(e,t,n=0){return _a(t).writeUIntBE(e,n,this.span),this.span}}ma.UIntBE=Ra;class Ia extends va{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return _a(e).readIntLE(t,this.span)}encode(e,t,n=0){return _a(t).writeIntLE(e,n,this.span),this.span}}ma.Int=Ia;class Sa extends va{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return _a(e).readIntBE(t,this.span)}encode(e,t,n=0){return _a(t).writeIntBE(e,n,this.span),this.span}}ma.IntBE=Sa;const Oa=Math.pow(2,32);function Ta(e){const t=Math.floor(e/Oa);return{hi32:t,lo32:e-t*Oa}}function Na(e,t){return e*Oa+t}class Ca extends va{constructor(e){super(8,e)}decode(e,t=0){const n=_a(e),r=n.readUInt32LE(t);return Na(n.readUInt32LE(t+4),r)}encode(e,t,n=0){const r=Ta(e),i=_a(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}ma.NearUInt64=Ca;class Pa extends va{constructor(e){super(8,e)}decode(e,t=0){const n=_a(e);return Na(n.readUInt32BE(t),n.readUInt32BE(t+4))}encode(e,t,n=0){const r=Ta(e),i=_a(t);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}ma.NearUInt64BE=Pa;class La extends va{constructor(e){super(8,e)}decode(e,t=0){const n=_a(e),r=n.readUInt32LE(t);return Na(n.readInt32LE(t+4),r)}encode(e,t,n=0){const r=Ta(e),i=_a(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}ma.NearInt64=La;class Da extends va{constructor(e){super(8,e)}decode(e,t=0){const n=_a(e);return Na(n.readInt32BE(t),n.readUInt32BE(t+4))}encode(e,t,n=0){const r=Ta(e),i=_a(t);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}ma.NearInt64BE=Da;class za extends va{constructor(e){super(4,e)}decode(e,t=0){return _a(e).readFloatLE(t)}encode(e,t,n=0){return _a(t).writeFloatLE(e,n),4}}ma.Float=za;class Ma extends va{constructor(e){super(4,e)}decode(e,t=0){return _a(e).readFloatBE(t)}encode(e,t,n=0){return _a(t).writeFloatBE(e,n),4}}ma.FloatBE=Ma;class Ua extends va{constructor(e){super(8,e)}decode(e,t=0){return _a(e).readDoubleLE(t)}encode(e,t,n=0){return _a(t).writeDoubleLE(e,n),8}}ma.Double=Ua;class Ba extends va{constructor(e){super(8,e)}decode(e,t=0){return _a(e).readDoubleBE(t)}encode(e,t,n=0){return _a(t).writeDoubleBE(e,n),8}}ma.DoubleBE=Ba;class Za extends va{constructor(e,t,n){if(!(e instanceof va))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof ka&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof ka)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof ka&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let r=0,i=this.count;for(i instanceof ka&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof ka&&this.count.encode(e.length,t,n),i}}ma.Sequence=Za;class ja extends va{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof va),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t=0){ya(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const r=n;let i=0,s=0;for(const r of this.fields){let a=r.span;if(s=0<a?a:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(s=r.encode(i,t,n),0>a&&(a=r.getSpan(t,n)))}i=n,n+=a}return i+s-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}ma.Structure=ja;class Ka{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}ma.UnionDiscriminator=Ka;class Ha extends Ka{constructor(e,t){if(!(e instanceof ka&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}ma.UnionLayoutDiscriminator=Ha;class Fa extends va{constructor(e,t,n){let r;if(e instanceof xa||e instanceof Ra)r=new Ha(new Ea(e));else if(e instanceof ka&&e.isCount())r=new Ha(e);else{if(!(e instanceof Ka))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=e}if(void 0===t&&(t=null),!(null===t||t instanceof va))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof xa||e instanceof Ra)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=e instanceof xa||e instanceof Ra,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const r=this.discriminator,i=r.decode(e,t),s=this.registry[i];if(void 0===s){const s=this.defaultLayout;let a=0;this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=s.decode(e,t+a)}else n=s.decode(e,t);return n}encode(e,t,n=0){const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(e[r.property],t,n),s+i.encode(e[i.property],t,n+s)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Wa(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t=0){let n;return n=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[n]}}ma.Union=Fa;class Wa extends va{constructor(e,t,n,r){if(!(e instanceof Fa))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof va))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function Va(e){return 0>e&&(e+=4294967296),e}ma.VariantLayout=Wa;class $a extends va{constructor(e,t,n){if(!(e instanceof xa||e instanceof Ra))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=Va(e),this},this._packedGetValue=function(){return r}}decode(e,t=0){const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(e));return n}encode(e,t,n=0){const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new qa(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new Ga(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}ma.BitStructure=$a;class qa{constructor(e,t,n){if(!(e instanceof $a))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=Va(this.valueMask<<this.start),this.property=n}decode(e,t){return Va(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==Va(e&this.valueMask))throw new TypeError(ba("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=Va(e<<this.start);this.container._packedSetValue(Va(t&~this.wordMask)|n)}}ma.BitField=qa;class Ga extends qa{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}ma.Boolean=Ga;class Ja extends va{constructor(e,t){if(!(e instanceof ka&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ka||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),_a(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof ka&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(ba("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=_a(e);return _a(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof ka&&this.length.encode(r,t,n),r}}ma.Blob=Ja;class Ya extends va{constructor(e){super(-1,e)}getSpan(e,t=0){ya(e);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return _a(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){"string"!=typeof e&&(e=String(e));const r=ga.Buffer.from(e,"utf8"),i=r.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");const s=_a(t);return r.copy(s,n),s[n+i]=0,i+1}}ma.CString=Ya;class Xa extends va{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return ya(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return _a(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){"string"!=typeof e&&(e=String(e));const r=ga.Buffer.from(e,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(_a(t),n),i}}ma.UTF8=Xa;class Qa extends va{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}ma.Constant=Qa,ma.greedy=(e,t)=>new Aa(e,t);var eo=ma.offset=(e,t,n)=>new Ea(e,t,n),to=ma.u8=e=>new xa(1,e);ma.u16=e=>new xa(2,e),ma.u24=e=>new xa(3,e);var no=ma.u32=e=>new xa(4,e);ma.u40=e=>new xa(5,e),ma.u48=e=>new xa(6,e),ma.nu64=e=>new Ca(e),ma.u16be=e=>new Ra(2,e),ma.u24be=e=>new Ra(3,e),ma.u32be=e=>new Ra(4,e),ma.u40be=e=>new Ra(5,e),ma.u48be=e=>new Ra(6,e),ma.nu64be=e=>new Pa(e),ma.s8=e=>new Ia(1,e),ma.s16=e=>new Ia(2,e),ma.s24=e=>new Ia(3,e),ma.s32=e=>new Ia(4,e),ma.s40=e=>new Ia(5,e),ma.s48=e=>new Ia(6,e),ma.ns64=e=>new La(e),ma.s16be=e=>new Sa(2,e),ma.s24be=e=>new Sa(3,e),ma.s32be=e=>new Sa(4,e),ma.s40be=e=>new Sa(5,e),ma.s48be=e=>new Sa(6,e),ma.ns64be=e=>new Da(e),ma.f32=e=>new za(e),ma.f32be=e=>new Ma(e),ma.f64=e=>new Ua(e),ma.f64be=e=>new Ba(e);var ro=ma.struct=(e,t,n)=>new ja(e,t,n);ma.bits=(e,t,n)=>new $a(e,t,n);var io=ma.seq=(e,t,n)=>new Za(e,t,n),so=ma.union=(e,t,n)=>new Fa(e,t,n);ma.unionLayoutDiscriminator=(e,t)=>new Ha(e,t);var ao=ma.blob=(e,t)=>new Ja(e,t);ma.cstr=e=>new Ya(e),ma.utf8=(e,t)=>new Xa(e,t),ma.constant=(e,t)=>new Qa(e,t);const oo=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var co={};Object.defineProperty(co,"__esModule",{value:!0}),co.toBigIntLE=function(e){{const t=Ln.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},co.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},co.toBufferLE=function(e,t){{const n=e.toString(16),r=Ln.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}},co.toBufferBE=function(e,t){{const n=e.toString(16);return Ln.from(n.padStart(2*t,"0").slice(0,2*t),"hex")}};var uo=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,lo=Math.ceil,ho=Math.floor,fo="[BigNumber Error] ",po=fo+"Number primitive has more than 15 significant digits: ",mo=1e14,go=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],yo=1e9;function _o(e){var t=0|e;return e>0||e===t?t:t-1}function vo(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(n=14-(t=e[r++]+"").length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function wo(e,t){var n,r,i=e.c,s=t.c,a=e.s,o=t.s,c=e.e,u=t.e;if(!a||!o)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-o:a;if(a!=o)return a;if(n=a<0,r=c==u,!i||!s)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(o=(c=i.length)<(u=s.length)?c:u,a=0;a<o;a++)if(i[a]!=s[a])return i[a]>s[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function bo(e,t,n,r){if(e<t||e>n||e!==ho(e))throw Error(fo+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function ko(e){var t=e.c.length-1;return _o(e.e/14)==t&&e.c[t]%2!=0}function Ao(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Eo(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var xo=function e(t){var n,r,i,s,a,o,c,u,l,d,h=R.prototype={constructor:R,toString:null,valueOf:null},f=new R(1),p=20,m=4,g=-7,y=21,_=-1e7,v=1e7,w=!1,b=1,k=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},E="0123456789abcdefghijklmnopqrstuvwxyz",x=!0;function R(e,t){var n,s,a,o,c,u,l,d,h=this;if(!(h instanceof R))return new R(e,t);if(null==t){if(e&&!0===e._isBigNumber)return h.s=e.s,void(!e.c||e.e>v?h.c=h.e=null:e.e<_?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice()));if((u="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,c=e;c>=10;c/=10,o++);return void(o>v?h.c=h.e=null:(h.e=o,h.c=[e]))}d=String(e)}else{if(!uo.test(d=String(e)))return i(h,d,u);h.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(o=d.indexOf("."))>-1&&(d=d.replace(".","")),(c=d.search(/e/i))>0?(o<0&&(o=c),o+=+d.slice(c+1),d=d.substring(0,c)):o<0&&(o=d.length)}else{if(bo(t,2,E.length,"Base"),10==t&&x)return T(h=new R(e),p+h.e+1,m);if(d=String(e),u="number"==typeof e){if(0*e!=0)return i(h,d,u,t);if(h.s=1/e<0?(d=d.slice(1),-1):1,R.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(po+e)}else h.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=E.slice(0,t),o=c=0,l=d.length;c<l;c++)if(n.indexOf(s=d.charAt(c))<0){if("."==s){if(c>o){o=l;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,o=0;continue}return i(h,String(e),u,t)}u=!1,(o=(d=r(d,t,10,h.s)).indexOf("."))>-1?d=d.replace(".",""):o=d.length}for(c=0;48===d.charCodeAt(c);c++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(c,++l)){if(l-=c,u&&R.DEBUG&&l>15&&(e>9007199254740991||e!==ho(e)))throw Error(po+h.s*e);if((o=o-c-1)>v)h.c=h.e=null;else if(o<_)h.c=[h.e=0];else{if(h.e=o,h.c=[],c=(o+1)%14,o<0&&(c+=14),c<l){for(c&&h.c.push(+d.slice(0,c)),l-=14;c<l;)h.c.push(+d.slice(c,c+=14));c=14-(d=d.slice(c)).length}else c-=l;for(;c--;d+="0");h.c.push(+d)}}else h.c=[h.e=0]}function I(e,t,n,r){var i,s,a,o,c;if(null==n?n=m:bo(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)c=vo(e.c),c=1==r||2==r&&(a<=g||a>=y)?Ao(c,a):Eo(c,a,"0");else if(s=(e=T(new R(e),t,n)).e,o=(c=vo(e.c)).length,1==r||2==r&&(t<=s||s<=g)){for(;o<t;c+="0",o++);c=Ao(c,s)}else if(t-=a,c=Eo(c,s,"0"),s+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-o)>0)for(s+1==o&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function S(e,t){for(var n,r=1,i=new R(e[0]);r<e.length;r++){if(!(n=new R(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function O(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+14*n-1)>v?e.c=e.e=null:n<_?e.c=[e.e=0]:(e.e=n,e.c=t),e}function T(e,t,n,r){var i,s,a,o,c,u,l,d=e.c,h=go;if(d){e:{for(i=1,o=d[0];o>=10;o/=10,i++);if((s=t-i)<0)s+=14,a=t,l=(c=d[u=0])/h[i-a-1]%10|0;else if((u=lo((s+1)/14))>=d.length){if(!r)break e;for(;d.length<=u;d.push(0));c=l=0,i=1,a=(s%=14)-14+1}else{for(c=o=d[u],i=1;o>=10;o/=10,i++);l=(a=(s%=14)-14+i)<0?0:c/h[i-a-1]%10|0}if(r=r||t<0||null!=d[u+1]||(a<0?c:c%h[i-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(s>0?a>0?c/h[i-a]:0:d[u-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=h[(14-t%14)%14],e.e=-t||0):d[0]=e.e=0,e;if(0==s?(d.length=u,o=1,u--):(d.length=u+1,o=h[14-s],d[u]=a>0?ho(c/h[i-a]%h[a])*o:0),r)for(;;){if(0==u){for(s=1,a=d[0];a>=10;a/=10,s++);for(a=d[0]+=o,o=1;a>=10;a/=10,o++);s!=o&&(e.e++,d[0]==mo&&(d[0]=1));break}if(d[u]+=o,d[u]!=mo)break;d[u--]=0,o=1}for(s=d.length;0===d[--s];d.pop());}e.e>v?e.c=e.e=null:e.e<_&&(e.c=[e.e=0])}return e}function N(e){var t,n=e.e;return null===n?e.toString():(t=vo(e.c),t=n<=g||n>=y?Ao(t,n):Eo(t,n,"0"),e.s<0?"-"+t:t)}return R.clone=e,R.ROUND_UP=0,R.ROUND_DOWN=1,R.ROUND_CEIL=2,R.ROUND_FLOOR=3,R.ROUND_HALF_UP=4,R.ROUND_HALF_DOWN=5,R.ROUND_HALF_EVEN=6,R.ROUND_HALF_CEIL=7,R.ROUND_HALF_FLOOR=8,R.EUCLID=9,R.config=R.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(fo+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(bo(n=e[t],0,yo,t),p=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(bo(n=e[t],0,8,t),m=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(bo(n[0],-yo,0,t),bo(n[1],0,yo,t),g=n[0],y=n[1]):(bo(n,-yo,yo,t),g=-(y=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)bo(n[0],-yo,-1,t),bo(n[1],1,yo,t),_=n[0],v=n[1];else{if(bo(n,-yo,yo,t),!n)throw Error(fo+t+" cannot be zero: "+n);_=-(v=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(fo+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw w=!n,Error(fo+"crypto unavailable");w=n}else w=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(bo(n=e[t],0,9,t),b=n),e.hasOwnProperty(t="POW_PRECISION")&&(bo(n=e[t],0,yo,t),k=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(fo+t+" not an object: "+n);A=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(fo+t+" invalid: "+n);x="0123456789"==n.slice(0,10),E=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:m,EXPONENTIAL_AT:[g,y],RANGE:[_,v],CRYPTO:w,MODULO_MODE:b,POW_PRECISION:k,FORMAT:A,ALPHABET:E}},R.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!R.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-yo&&i<=yo&&i===ho(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=mo||n!==ho(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(fo+"Invalid BigNumber: "+e)},R.maximum=R.max=function(){return S(arguments,h.lt)},R.minimum=R.min=function(){return S(arguments,h.gt)},R.random=(s=9007199254740992,a=Math.random()*s&2097151?function(){return ho(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,s,o=0,c=[],u=new R(f);if(null==e?e=p:bo(e,0,yo),i=lo(e/14),w)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));o<i;)(s=131072*t[o]+(t[o+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[o]=n[0],t[o+1]=n[1]):(c.push(s%1e14),o+=2);o=i/2}else{if(!crypto.randomBytes)throw w=!1,Error(fo+"crypto unavailable");for(t=crypto.randomBytes(i*=7);o<i;)(s=281474976710656*(31&t[o])+1099511627776*t[o+1]+4294967296*t[o+2]+16777216*t[o+3]+(t[o+4]<<16)+(t[o+5]<<8)+t[o+6])>=9e15?crypto.randomBytes(7).copy(t,o):(c.push(s%1e14),o+=7);o=i/7}if(!w)for(;o<i;)(s=a())<9e15&&(c[o++]=s%1e14);for(e%=14,(i=c[--o])&&e&&(s=go[14-e],c[o]=ho(i/s)*s);0===c[o];c.pop(),o--);if(o<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=14);for(o=1,s=c[0];s>=10;s/=10,o++);o<14&&(r-=14-o)}return u.e=r,u.c=c,u}),R.sum=function(){for(var e=1,t=arguments,n=new R(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,a=[0],o=0,c=e.length;o<c;){for(s=a.length;s--;a[s]*=t);for(a[0]+=r.indexOf(e.charAt(o++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}return function(r,i,s,a,o){var c,u,l,d,h,f,g,y,_=r.indexOf("."),v=p,w=m;for(_>=0&&(d=k,k=0,r=r.replace(".",""),f=(y=new R(i)).pow(r.length-_),k=d,y.c=t(Eo(vo(f.c),f.e,"0"),10,s,e),y.e=y.c.length),l=d=(g=t(r,i,s,o?(c=E,e):(c=e,E))).length;0==g[--d];g.pop());if(!g[0])return c.charAt(0);if(_<0?--l:(f.c=g,f.e=l,f.s=a,g=(f=n(f,y,v,w,s)).c,h=f.r,l=f.e),_=g[u=l+v+1],d=s/2,h=h||u<0||null!=g[u+1],h=w<4?(null!=_||h)&&(0==w||w==(f.s<0?3:2)):_>d||_==d&&(4==w||h||6==w&&1&g[u-1]||w==(f.s<0?8:7)),u<1||!g[0])r=h?Eo(c.charAt(1),-v,c.charAt(0)):c.charAt(0);else{if(g.length=u,h)for(--s;++g[--u]>s;)g[u]=0,u||(++l,g=[1].concat(g));for(d=g.length;!g[--d];);for(_=0,r="";_<=d;r+=c.charAt(g[_++]));r=Eo(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,a,o=0,c=e.length,u=t%1e7,l=t/1e7|0;for(e=e.slice();c--;)o=((i=u*(s=e[c]%1e7)+(r=l*s+(a=e[c]/1e7|0)*u)%1e7*1e7+o)/n|0)+(r/1e7|0)+l*a,e[c]=i%n;return o&&(e=[o].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,o){var c,u,l,d,h,f,p,m,g,y,_,v,w,b,k,A,E,x=r.s==i.s?1:-1,I=r.c,S=i.c;if(!(I&&I[0]&&S&&S[0]))return new R(r.s&&i.s&&(I?!S||I[0]!=S[0]:S)?I&&0==I[0]||!S?0*x:x/0:NaN);for(g=(m=new R(x)).c=[],x=s+(u=r.e-i.e)+1,o||(o=mo,u=_o(r.e/14)-_o(i.e/14),x=x/14|0),l=0;S[l]==(I[l]||0);l++);if(S[l]>(I[l]||0)&&u--,x<0)g.push(1),d=!0;else{for(b=I.length,A=S.length,l=0,x+=2,(h=ho(o/(S[0]+1)))>1&&(S=e(S,h,o),I=e(I,h,o),A=S.length,b=I.length),w=A,_=(y=I.slice(0,A)).length;_<A;y[_++]=0);E=S.slice(),E=[0].concat(E),k=S[0],S[1]>=o/2&&k++;do{if(h=0,(c=t(S,y,A,_))<0){if(v=y[0],A!=_&&(v=v*o+(y[1]||0)),(h=ho(v/k))>1)for(h>=o&&(h=o-1),p=(f=e(S,h,o)).length,_=y.length;1==t(f,y,p,_);)h--,n(f,A<p?E:S,p,o),p=f.length,c=1;else 0==h&&(c=h=1),p=(f=S.slice()).length;if(p<_&&(f=[0].concat(f)),n(y,f,_,o),_=y.length,-1==c)for(;t(S,y,A,_)<1;)h++,n(y,A<_?E:S,_,o),_=y.length}else 0===c&&(h++,y=[0]);g[l++]=h,y[0]?y[_++]=I[w]||0:(y=[I[w]],_=1)}while((w++<b||null!=y[0])&&x--);d=null!=y[0],g[0]||g.splice(0,1)}if(o==mo){for(l=1,x=g[0];x>=10;x/=10,l++);T(m,s+(m.e=l+14*u-1)+1,a,d)}else m.e=u,m.r=+d;return m}}(),o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,u=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,s=n?t:t.replace(d,"");if(l.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(o,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(c,"$1").replace(u,"0.$1")),t!=s))return new R(s,i);if(R.DEBUG)throw Error(fo+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},h.absoluteValue=h.abs=function(){var e=new R(this);return e.s<0&&(e.s=1),e},h.comparedTo=function(e,t){return wo(this,new R(e,t))},h.decimalPlaces=h.dp=function(e,t){var n,r,i,s=this;if(null!=e)return bo(e,0,yo),null==t?t=m:bo(t,0,8),T(new R(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=14*((i=n.length-1)-_o(this.e/14)),i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},h.dividedBy=h.div=function(e,t){return n(this,new R(e,t),p,m)},h.dividedToIntegerBy=h.idiv=function(e,t){return n(this,new R(e,t),0,1)},h.exponentiatedBy=h.pow=function(e,t){var n,r,i,s,a,o,c,u,l=this;if((e=new R(e)).c&&!e.isInteger())throw Error(fo+"Exponent not an integer: "+N(e));if(null!=t&&(t=new R(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new R(Math.pow(+N(l),a?2-ko(e):+N(e))),t?u.mod(t):u;if(o=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new R(NaN);(r=!o&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return s=l.s<0&&ko(e)?-0:0,l.e>-1&&(s=1/s),new R(o?1/s:s);k&&(s=lo(k/14+2))}for(a?(n=new R(.5),o&&(e.s=1),c=ko(e)):c=(i=Math.abs(+N(e)))%2,u=new R(f);;){if(c){if(!(u=u.times(l)).c)break;s?u.c.length>s&&(u.c.length=s):r&&(u=u.mod(t))}if(i){if(0===(i=ho(i/2)))break;c=i%2}else if(T(e=e.times(n),e.e+1,1),e.e>14)c=ko(e);else{if(0==(i=+N(e)))break;c=i%2}l=l.times(l),s?l.c&&l.c.length>s&&(l.c.length=s):r&&(l=l.mod(t))}return r?u:(o&&(u=f.div(u)),t?u.mod(t):s?T(u,k,m,void 0):u)},h.integerValue=function(e){var t=new R(this);return null==e?e=m:bo(e,0,8),T(t,t.e+1,e)},h.isEqualTo=h.eq=function(e,t){return 0===wo(this,new R(e,t))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(e,t){return wo(this,new R(e,t))>0},h.isGreaterThanOrEqualTo=h.gte=function(e,t){return 1===(t=wo(this,new R(e,t)))||0===t},h.isInteger=function(){return!!this.c&&_o(this.e/14)>this.c.length-2},h.isLessThan=h.lt=function(e,t){return wo(this,new R(e,t))<0},h.isLessThanOrEqualTo=h.lte=function(e,t){return-1===(t=wo(this,new R(e,t)))||0===t},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(e,t){var n,r,i,s,a=this,o=a.s;if(t=(e=new R(e,t)).s,!o||!t)return new R(NaN);if(o!=t)return e.s=-t,a.plus(e);var c=a.e/14,u=e.e/14,l=a.c,d=e.c;if(!c||!u){if(!l||!d)return l?(e.s=-t,e):new R(d?a:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new R(l[0]?a:3==m?-0:0)}if(c=_o(c),u=_o(u),l=l.slice(),o=c-u){for((s=o<0)?(o=-o,i=l):(u=c,i=d),i.reverse(),t=o;t--;i.push(0));i.reverse()}else for(r=(s=(o=l.length)<(t=d.length))?o:t,o=t=0;t<r;t++)if(l[t]!=d[t]){s=l[t]<d[t];break}if(s&&(i=l,l=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=mo-1;r>o;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=mo}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?O(e,l,u):(e.s=3==m?-1:1,e.c=[e.e=0],e)},h.modulo=h.mod=function(e,t){var r,i,s=this;return e=new R(e,t),!s.c||!e.s||e.c&&!e.c[0]?new R(NaN):!e.c||s.c&&!s.c[0]?new R(s):(9==b?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,b),(e=s.minus(r.times(e))).c[0]||1!=b||(e.s=s.s),e)},h.multipliedBy=h.times=function(e,t){var n,r,i,s,a,o,c,u,l,d,h,f,p,m,g,y=this,_=y.c,v=(e=new R(e,t)).c;if(!(_&&v&&_[0]&&v[0]))return!y.s||!e.s||_&&!_[0]&&!v||v&&!v[0]&&!_?e.c=e.e=e.s=null:(e.s*=y.s,_&&v?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=_o(y.e/14)+_o(e.e/14),e.s*=y.s,(c=_.length)<(d=v.length)&&(p=_,_=v,v=p,i=c,c=d,d=i),i=c+d,p=[];i--;p.push(0));for(m=mo,g=1e7,i=d;--i>=0;){for(n=0,h=v[i]%g,f=v[i]/g|0,s=i+(a=c);s>i;)n=((u=h*(u=_[--a]%g)+(o=f*u+(l=_[a]/g|0)*h)%g*g+p[s]+n)/m|0)+(o/g|0)+f*l,p[s--]=u%m;p[s]=n}return n?++r:p.splice(0,1),O(e,p,r)},h.negated=function(){var e=new R(this);return e.s=-e.s||null,e},h.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new R(e,t)).s,!i||!t)return new R(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/14,a=e.e/14,o=r.c,c=e.c;if(!s||!a){if(!o||!c)return new R(i/0);if(!o[0]||!c[0])return c[0]?e:new R(o[0]?r:0*i)}if(s=_o(s),a=_o(a),o=o.slice(),i=s-a){for(i>0?(a=s,n=c):(i=-i,n=o),n.reverse();i--;n.push(0));n.reverse()}for((i=o.length)-(t=c.length)<0&&(n=c,c=o,o=n,t=i),i=0;t;)i=(o[--t]=o[t]+c[t]+i)/mo|0,o[t]=mo===o[t]?0:o[t]%mo;return i&&(o=[i].concat(o),++a),O(e,o,a)},h.precision=h.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return bo(e,1,yo),null==t?t=m:bo(t,0,8),T(new R(s),e,t);if(!(n=s.c))return null;if(r=14*(i=n.length-1)+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},h.shiftedBy=function(e){return bo(e,-9007199254740991,9007199254740991),this.times("1e"+e)},h.squareRoot=h.sqrt=function(){var e,t,r,i,s,a=this,o=a.c,c=a.s,u=a.e,l=p+4,d=new R("0.5");if(1!==c||!o||!o[0])return new R(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);if(0==(c=Math.sqrt(+N(a)))||c==1/0?(((t=vo(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=_o((u+1)/2)-(u<0||u%2),r=new R(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new R(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(s=r,r=d.times(s.plus(n(a,s,l,1))),vo(s.c).slice(0,c)===(t=vo(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(T(r,r.e+p+2,1),e=!r.times(r).eq(a));break}if(!i&&(T(s,s.e+p+2,0),s.times(s).eq(a))){r=s;break}l+=4,c+=4,i=1}return T(r,r.e+p+1,m,e)},h.toExponential=function(e,t){return null!=e&&(bo(e,0,yo),e++),I(this,e,t,1)},h.toFixed=function(e,t){return null!=e&&(bo(e,0,yo),e=e+this.e+1),I(this,e,t)},h.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=A;else if("object"!=typeof n)throw Error(fo+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,a=r.split("."),o=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",l=a[0],d=a[1],h=i.s<0,f=h?l.slice(1):l,p=f.length;if(c&&(s=o,o=c,c=s,p-=s),o>0&&p>0){for(s=p%o||o,l=f.substr(0,s);s<p;s+=o)l+=u+f.substr(s,o);c>0&&(l+=u+f.slice(s)),h&&(l="-"+l)}r=d?l+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):l}return(n.prefix||"")+r+(n.suffix||"")},h.toFraction=function(e){var t,r,i,s,a,o,c,u,l,d,h,p,g=this,y=g.c;if(null!=e&&(!(c=new R(e)).isInteger()&&(c.c||1!==c.s)||c.lt(f)))throw Error(fo+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+N(c));if(!y)return new R(g);for(t=new R(f),l=r=new R(f),i=u=new R(f),p=vo(y),a=t.e=p.length-g.e-1,t.c[0]=go[(o=a%14)<0?14+o:o],e=!e||c.comparedTo(t)>0?a>0?t:l:c,o=v,v=1/0,c=new R(p),u.c[0]=0;d=n(c,t,0,1),1!=(s=r.plus(d.times(i))).comparedTo(e);)r=i,i=s,l=u.plus(d.times(s=l)),u=s,t=c.minus(d.times(s=t)),c=s;return s=n(e.minus(r),i,0,1),u=u.plus(s.times(l)),r=r.plus(s.times(i)),u.s=l.s=g.s,h=n(l,i,a*=2,m).minus(g).abs().comparedTo(n(u,r,a,m).minus(g).abs())<1?[l,i]:[u,r],v=o,h},h.toNumber=function(){return+N(this)},h.toPrecision=function(e,t){return null!=e&&bo(e,1,yo),I(this,e,t,2)},h.toString=function(e){var t,n=this,i=n.s,s=n.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=g||s>=y?Ao(vo(n.c),s):Eo(vo(n.c),s,"0"):10===e&&x?t=Eo(vo((n=T(new R(n),p+s+1,m)).c),n.e,"0"):(bo(e,2,E.length,"Base"),t=r(Eo(vo(n.c),s,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},h.valueOf=h.toJSON=function(){return N(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=t&&R.set(t),R}();new xo("1e+18");const Ro=e=>{const t=to(e),{encode:n,decode:r}=oo(t),i=t;return i.decode=(e,t)=>!!r(e,t),i.encode=(e,t,r)=>{const i=Number(e);return n(i,t,r)},i},Io=e=>{const t=ao(32,e),{encode:n,decode:i}=oo(t),s=t;return s.decode=(e,t)=>{const n=i(e,t);return new r.PublicKey(n)},s.encode=(e,t,r)=>{const i=e.toBuffer();return n(i,t,r)},s};function So(e){return new Oo(8,!1,e)}class Oo extends wa{constructor(e,t,n){super(e,n),this.blob=ao(e),this.signed=t}encode(e,t,n=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(Ln,"le",this.span),t,n)}decode(e,t=0){const n=new(s())(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}}function To(e,t){return new No(e,t)}class No extends wa{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=to()}encode(e,t,n=0){return null==e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.discriminator.span+this.layout.encode(e,t,n+this.discriminator.span))}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+this.discriminator.span);throw new Error("Invalid option "+this.layout.property)}getSpan(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function Co(e,t){return new Po(e,t)}class Po extends wa{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=no()}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.discriminator.span+this.layout.encode(e,t,n+this.discriminator.span))}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+this.discriminator.span);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.discriminator.span+this.layout.getSpan(e,t+this.discriminator.span)}}class Lo{constructor(e){}async encode(e,t){switch(e){case"mint":{const e=Ln.alloc(82),n=Do.encode(t,e);return e.slice(0,n)}case"account":{const e=Ln.alloc(165),n=zo.encode(t,e);return e.slice(0,n)}case"multisig":{const e=Ln.alloc(355),n=Mo.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"mint":return function(e){return Do.decode(e)}(t);case"account":return function(e){return zo.decode(e)}(t);case"multisig":return function(e){return Mo.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"mint":return{dataSize:82};case"account":return{dataSize:165};case"multisig":return{dataSize:355};default:throw new Error(`Invalid account name: ${e}`)}}size(e){switch(e){case"mint":return 82;case"account":return 165;case"multisig":return 355;default:throw new Error(`Invalid account name: ${e}`)}}}const Do=ro([Co(Io(),"mintAuthority"),So("supply"),to("decimals"),Ro("isInitialized"),Co(Io(),"freezeAuthority")]),zo=ro([Io("mint"),Io("owner"),So("amount"),Co(Io(),"delegate"),(e=>{const t=so(to("discriminator"),null,"state");return t.addVariant(0,ro([]),"uninitialized"),t.addVariant(1,ro([]),"initialized"),t.addVariant(2,ro([]),"frozen"),t})(),Co(So(),"isNative"),So("delegatedAmount"),Co(Io(),"closeAuthority")]),Mo=ro([to("m"),to("n"),Ro("isInitialized"),io(Io(),11,"signers")]);class Uo{constructor(e){}decode(e){throw new Error("SplToken program does not have events")}}class Bo{constructor(e){}encode(e,t){switch(e){case"initializeMint":return function({decimals:e,mintAuthority:t,freezeAuthority:n}){return jo({initializeMint:{decimals:e,mintAuthority:t,freezeAuthority:n}},70)}(t);case"initializeAccount":return function({}){return jo({initializeAccount:{}},1)}(t);case"initializeMultisig":return function({m:e}){return jo({initializeMultisig:{m:e}},2)}(t);case"transfer":return function({amount:e}){return jo({transfer:{amount:e}},9)}(t);case"approve":return function({amount:e}){return jo({approve:{amount:e}},9)}(t);case"revoke":return function({}){return jo({revoke:{}},1)}(t);case"setAuthority":return function({authorityType:e,newAuthority:t}){return jo({setAuthority:{authorityType:e,newAuthority:t}},1+(()=>{switch(Object.keys(e)[0]){case"mintTokens":case"freezeAccount":case"accountOwner":case"closeAccount":return 1}})()+4+32)}(t);case"mintTo":return function({amount:e}){return jo({mintTo:{amount:e}},9)}(t);case"burn":return function({amount:e}){return jo({burn:{amount:e}},9)}(t);case"closeAccount":return function({}){return jo({closeAccount:{}},1)}(t);case"freezeAccount":return function({}){return jo({freezeAccount:{}},1)}(t);case"thawAccount":return function({}){return jo({thawAccount:{}},1)}(t);case"transferChecked":return function({amount:e,decimals:t}){return jo({transferChecked:{amount:e,decimals:t}},10)}(t);case"approveChecked":return function({amount:e,decimals:t}){return jo({approveChecked:{amount:e,decimals:t}},10)}(t);case"mintToChecked":return function({amount:e,decimals:t}){return jo({mintToChecked:{amount:e,decimals:t}},10)}(t);case"burnChecked":return function({amount:e,decimals:t}){return jo({burnChecked:{amount:e,decimals:t}},10)}(t);case"initializeAccount2":return function({owner:e}){return jo({initializeAccount2:{owner:e}},33)}(t);case"syncNative":return function({}){return jo({syncNative:{}},1)}(t);case"initializeAccount3":return function({owner:e}){return jo({initializeAccount3:{owner:e}},33)}(t);case"initializeMultisig2":return function({m:e}){return jo({initializeMultisig2:{m:e}},2)}(t);case"initializeMint2":return function({decimals:e,mintAuthority:t,freezeAuthority:n}){return jo({initializeMint2:{decimals:e,mintAuthority:t,freezeAuthority:n}},70)}(t);case"getAccountDataSize":return function({}){return jo({getAccountDataSize:{}},1)}(t);case"initializeImmutableOwner":return function({}){return jo({initializeImmutableOwner:{}},1)}(t);case"amountToUiAmount":return function({amount:e}){return jo({amountToUiAmount:{amount:e}},9)}(t);case"uiAmountToAmount":return function({uiAmount:e}){return jo({uiAmountToAmount:{uiAmount:e}},1)}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SplToken does not have state")}}const Zo=so(to("instruction"));function jo(e,t){const n=Ln.alloc(t);return Zo.encode(e,n),n}Zo.addVariant(0,ro([to("decimals"),Io("mintAuthority"),To(Io(),"freezeAuthority")]),"initializeMint"),Zo.addVariant(1,ro([]),"initializeAccount"),Zo.addVariant(2,ro([to("m")]),"initializeMultisig"),Zo.addVariant(3,ro([So("amount")]),"transfer"),Zo.addVariant(4,ro([So("amount")]),"approve"),Zo.addVariant(5,ro([]),"revoke"),Zo.addVariant(6,ro([(e=>{const t=so(to("discriminator"),null,"authorityType");return t.addVariant(0,ro([]),"mintTokens"),t.addVariant(1,ro([]),"freezeAccount"),t.addVariant(2,ro([]),"accountOwner"),t.addVariant(3,ro([]),"closeAccount"),t})(),To(Io(),"newAuthority")]),"setAuthority"),Zo.addVariant(7,ro([So("amount")]),"mintTo"),Zo.addVariant(8,ro([So("amount")]),"burn"),Zo.addVariant(9,ro([]),"closeAccount"),Zo.addVariant(10,ro([]),"freezeAccount"),Zo.addVariant(11,ro([]),"thawAccount"),Zo.addVariant(12,ro([So("amount"),to("decimals")]),"transferChecked"),Zo.addVariant(13,ro([So("amount"),to("decimals")]),"approveChecked"),Zo.addVariant(14,ro([So("amount"),to("decimals")]),"mintToChecked"),Zo.addVariant(15,ro([So("amount"),to("decimals")]),"burnChecked"),Zo.addVariant(16,ro([Io("owner")]),"initializeAccount2"),Zo.addVariant(17,ro([]),"syncNative"),Zo.addVariant(18,ro([Io("owner")]),"initializeAccount3"),Zo.addVariant(19,ro([to("m")]),"initializeMultisig2"),Zo.addVariant(20,ro([to("decimals"),Io("mintAuthority"),To(Io(),"freezeAuthority")]),"initializeMint2"),Zo.addVariant(21,ro([]),"getAccountDataSize"),Zo.addVariant(22,ro([]),"initializeImmutableOwner"),Zo.addVariant(23,ro([So("amount")]),"amountToUiAmount"),Zo.addVariant(24,ro([("uiAmount",new class extends wa{constructor(e){super(-1,e),this.layout=ro([no("length"),ao(eo(no(),-4),"src")],this.property)}encode(e,t,n=0){if(null==e)return this.layout.span;const r={src:Ln.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).src.toString()}getSpan(e,t=0){return no().span+new(s())(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}("uiAmount"))]),"uiAmountToAmount");class Ko{constructor(e){}encode(e,t){throw new Error("SplToken does not have user-defined types")}decode(e,t){throw new Error("SplToken does not have user-defined types")}}class Ho{constructor(e){this.accounts=new Lo(e),this.events=new Uo(e),this.instruction=new Bo(e),this.types=new Ko(e)}}new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Fo(e){return new pa((null==e?void 0:e.programId)?{...Wo,address:e.programId.toString()}:Wo,null==e?void 0:e.provider,new Ho(Wo))}const Wo={address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",metadata:{name:"splToken",version:"3.3.0",spec:"0.1.0"},instructions:[{name:"amountToUiAmount",discriminator:[23],accounts:[{name:"mint"}],args:[{name:"amount",type:"u64"}]},{name:"approve",discriminator:[4],accounts:[{name:"source",writable:!0},{name:"delegate"},{name:"owner",signer:!0}],args:[{name:"amount",type:"u64"}]},{name:"approveChecked",discriminator:[13],accounts:[{name:"source",writable:!0},{name:"mint"},{name:"delegate"},{name:"owner",signer:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burn",discriminator:[8],accounts:[{name:"account",writable:!0},{name:"mint",writable:!0},{name:"authority",signer:!0}],args:[{name:"amount",type:"u64"}]},{name:"burnChecked",discriminator:[15],accounts:[{name:"account",writable:!0},{name:"mint",writable:!0},{name:"authority",signer:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"closeAccount",discriminator:[9],accounts:[{name:"account",writable:!0},{name:"destination",writable:!0},{name:"owner",signer:!0}],args:[]},{name:"freezeAccount",discriminator:[10],accounts:[{name:"account",writable:!0},{name:"mint"},{name:"owner",signer:!0}],args:[]},{name:"getAccountDataSize",discriminator:[21],accounts:[{name:"mint"}],args:[]},{name:"initializeAccount",discriminator:[1],accounts:[{name:"account",writable:!0},{name:"mint"},{name:"owner"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[]},{name:"initializeAccount2",discriminator:[16],accounts:[{name:"account",writable:!0},{name:"mint"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"owner",type:"pubkey"}]},{name:"initializeAccount3",discriminator:[18],accounts:[{name:"account",writable:!0},{name:"mint"}],args:[{name:"owner",type:"pubkey"}]},{name:"initializeImmutableOwner",discriminator:[22],accounts:[{name:"account",writable:!0}],args:[]},{name:"initializeMint",discriminator:[0],accounts:[{name:"mint",writable:!0},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"pubkey"},{name:"freezeAuthority",type:{coption:"pubkey"}}]},{name:"initializeMint2",discriminator:[20],accounts:[{name:"mint",writable:!0}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"pubkey"},{name:"freezeAuthority",type:{coption:"pubkey"}}]},{name:"initializeMultisig",discriminator:[2],accounts:[{name:"multisig",writable:!0},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"m",type:"u8"}]},{name:"initializeMultisig2",discriminator:[19],accounts:[{name:"multisig",writable:!0},{name:"signer"}],args:[{name:"m",type:"u8"}]},{name:"mintTo",discriminator:[7],accounts:[{name:"mint",writable:!0},{name:"account",writable:!0},{name:"owner",signer:!0}],args:[{name:"amount",type:"u64"}]},{name:"mintToChecked",discriminator:[14],accounts:[{name:"mint",writable:!0},{name:"account",writable:!0},{name:"owner",signer:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"revoke",discriminator:[5],accounts:[{name:"source",writable:!0},{name:"owner",signer:!0}],args:[]},{name:"setAuthority",discriminator:[6],accounts:[{name:"owned",writable:!0},{name:"owner",signer:!0},{name:"signer",signer:!0}],args:[{name:"authorityType",type:{defined:{name:"authorityType"}}},{name:"newAuthority",type:{coption:"pubkey"}}]},{name:"syncNative",discriminator:[17],accounts:[{name:"account",writable:!0}],args:[]},{name:"thawAccount",discriminator:[11],accounts:[{name:"account",writable:!0},{name:"mint"},{name:"owner",signer:!0}],args:[]},{name:"transfer",discriminator:[3],accounts:[{name:"source",writable:!0},{name:"destination",writable:!0},{name:"authority",signer:!0}],args:[{name:"amount",type:"u64"}]},{name:"transferChecked",discriminator:[12],accounts:[{name:"source",writable:!0},{name:"mint"},{name:"destination",writable:!0},{name:"authority",signer:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"uiAmountToAmount",discriminator:[24],accounts:[{name:"mint"}],args:[{name:"uiAmount",type:"string"}]}],accounts:[{name:"mint",discriminator:[]},{name:"multisig",discriminator:[]},{name:"account",discriminator:[]}],errors:[{code:0,name:"notRentExempt",msg:"Lamport balance below rent-exempt threshold"},{code:1,name:"insufficientFunds",msg:"Insufficient funds"},{code:2,name:"invalidMint",msg:"Invalid Mint"},{code:3,name:"mintMismatch",msg:"Account not associated with this Mint"},{code:4,name:"ownerMismatch",msg:"Owner does not match"},{code:5,name:"fixedSupply",msg:"Fixed supply"},{code:6,name:"alreadyInUse",msg:"Already in use"},{code:7,name:"invalidNumberOfProvidedSigners",msg:"Invalid number of provided signers"},{code:8,name:"invalidNumberOfRequiredSigners",msg:"Invalid number of required signers"},{code:9,name:"uninitializedState",msg:"State is unititialized"},{code:10,name:"nativeNotSupported",msg:"Instruction does not support native tokens"},{code:11,name:"nonNativeHasBalance",msg:"Non-native account can only be closed if its balance is zero"},{code:12,name:"invalidInstruction",msg:"Invalid instruction"},{code:13,name:"invalidState",msg:"State is invalid for requested operation"},{code:14,name:"overflow",msg:"Operation overflowed"},{code:15,name:"authorityTypeNotSupported",msg:"Account does not support specified authority type"},{code:16,name:"mintCannotFreeze",msg:"This token mint cannot freeze accounts"},{code:17,name:"accountFrozen",msg:"Account is frozen"},{code:18,name:"mintDecimalsMismatch",msg:"The provided decimals value different from the Mint decimals"},{code:19,name:"nonNativeNotSupported",msg:"Instruction does not support non-native tokens"}],types:[{name:"accountState",type:{kind:"enum",variants:[{name:"uninitialized"},{name:"initialized"},{name:"frozen"}]}},{name:"authorityType",type:{kind:"enum",variants:[{name:"mintTokens"},{name:"freezeAccount"},{name:"accountOwner"},{name:"closeAccount"}]}},{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",docs:["Optional authority used to mint new tokens. The mint authority may only be provided during","mint creation. If no mint authority is present then the mint has a fixed supply and no","further tokens may be minted."],type:{coption:"pubkey"}},{name:"supply",docs:["Total supply of tokens."],type:"u64"},{name:"decimals",docs:["Number of base 10 digits to the right of the decimal place."],type:"u8"},{name:"isInitialized",docs:["Is `true` if this structure has been initialized"],type:"bool"},{name:"freezeAuthority",docs:["Optional authority to freeze token accounts."],type:{coption:"pubkey"}}]}},{name:"multisig",type:{kind:"struct",fields:[{name:"m",docs:["Number of signers required"],type:"u8"},{name:"n",docs:["Number of valid signers"],type:"u8"},{name:"isInitialized",docs:["Is `true` if this structure has been initialized"],type:"bool"},{name:"signers",docs:["Signer public keys"],type:{array:["pubkey",11]}}]}},{name:"account",type:{kind:"struct",fields:[{name:"mint",docs:["The mint associated with this account"],type:"pubkey"},{name:"owner",docs:["The owner of this account."],type:"pubkey"},{name:"amount",docs:["The amount of tokens this account holds."],type:"u64"},{name:"delegate",docs:["If `delegate` is `Some` then `delegated_amount` represents","the amount authorized by the delegate"],type:{coption:"pubkey"}},{name:"state",docs:["The account's state"],type:{defined:{name:"accountState"}}},{name:"isNative",docs:["If is_native.is_some, this is a native token, and the value logs the rent-exempt reserve. An","Account is required to be rent-exempt, so the value is used by the Processor to ensure that","wrapped SOL accounts do not drop below this threshold."],type:{coption:"u64"}},{name:"delegatedAmount",docs:["The amount delegated"],type:"u64"},{name:"closeAuthority",docs:["Optional authority to close the account."],type:{coption:"pubkey"}}]}}]}},79816:function(e,t,n){"use strict";var r=n(48764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=l,t.i64=function(e){return new u(8,!0,e)},t.u128=function(e){return new u(16,!1,e)},t.i128=function(e){return new u(16,!0,e)},t.u256=function(e){return new u(32,!1,e)},t.i256=function(e){return new u(32,!0,e)},t.publicKey=function(e){return new d((0,s.blob)(32),(e=>new a.PublicKey(e)),(e=>e.toBuffer()),e)},t.option=function(e,t){return new h(e,t)},t.bool=function(e){return new d((0,s.u8)(),f,p,e)},t.vec=function(e,t){const n=(0,s.u32)("length"),r=(0,s.struct)([n,(0,s.seq)(e,(0,s.offset)(n,-n.span),"values")]);return new d(r,(({values:e})=>e),(e=>({values:e})),t)},t.tagged=function(e,t,n){const r=(0,s.struct)([l("tag"),t.replicate("data")]);return new d(r,(function({tag:t,data:n}){if(!t.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return n}),(t=>({tag:e,data:t})),n)},t.vecU8=m,t.str=function(e){return new d(m(),(e=>e.toString("utf-8")),(e=>r.from(e,"utf-8")),e)},t.rustEnum=function(e,t,n){const r=(0,s.union)(null!=n?n:(0,s.u8)(),t);return e.forEach(((e,t)=>r.addVariant(t,e,e.property))),r},t.array=function(e,t,n){const r=(0,s.struct)([(0,s.seq)(e,t,"values")]);return new d(r,(({values:e})=>e),(e=>({values:e})),n)},t.map=function(e,t,n){const r=(0,s.u32)("length"),i=(0,s.struct)([r,(0,s.seq)(new g(e,t),(0,s.offset)(r,-r.span),"values")]);return new d(i,(({values:e})=>new Map(e)),(e=>({values:Array.from(e.entries())})),n)};const s=n(20698),a=n(29363),o=i(n(13550));var c=n(20698);Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends s.Layout{constructor(e,t,n){super(e,n),this.blob=(0,s.blob)(e),this.signed=t}decode(e,t=0){const n=new o.default(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,t,n=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(r,"le",this.span),t,n)}}function l(e){return new u(8,!1,e)}class d extends s.Layout{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class h extends s.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0,s.u8)()}encode(e,t,n=0){return null==e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+1)+1)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function f(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function p(e){return e?1:0}function m(e){const t=(0,s.u32)("length"),n=(0,s.struct)([t,(0,s.blob)((0,s.offset)(t,-t.span),"data")]);return new d(n,(({data:e})=>e),(e=>({data:e})),e)}class g extends s.Layout{constructor(e,t,n){super(e.span+t.span,n),this.keyLayout=e,this.valueLayout=t}decode(e,t){t=t||0;return[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,n){n=n||0;const r=this.keyLayout.encode(e[0],t,n);return r+this.valueLayout.encode(e[1],t,n+r)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}},90083:function(e,t,n){"use strict";var r=n(89509).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==t[a])throw new TypeError(s+" is ambiguous");t[a]=i}var o=e.length,c=e.charAt(0),u=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,s=0;e[n]===c;)i++,n++;for(var a=(e.length-n)*u+1>>>0,l=new Uint8Array(a);n<e.length;){var d=e.charCodeAt(n);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=a-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=o*l[p]>>>0,l[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=f,n++}for(var m=a-s;m!==a&&0===l[m];)m++;var g=r.allocUnsafe(i+(a-m));g.fill(0,0,i);for(var y=i;m!==a;)g[y++]=l[m++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,s=0,a=t.length;s!==a&&0===t[s];)s++,n++;for(var u=(a-s)*l+1>>>0,d=new Uint8Array(u);s!==a;){for(var h=t[s],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var m=u-i;m!==u&&0===d[m];)m++;for(var g=c.repeat(n);m<u;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},22230:function(e,t,n){var r=n(90083);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},82142:function(e){"use strict";const t=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,a=new RegExp("^"+s.source),o=new RegExp(s.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(e,i)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const s=!1===i.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(i.locale),u=!1===i.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(i.locale);if(1===e.length)return i.pascalCase?u(e):s(e);return e!==s(e)&&(e=((e,r,i)=>{let s=!1,a=!1,o=!1;for(let c=0;c<e.length;c++){const u=e[c];s&&t.test(u)?(e=e.slice(0,c)+"-"+e.slice(c),s=!1,o=a,a=!0,c++):a&&o&&n.test(u)?(e=e.slice(0,c-1)+"-"+e.slice(c-1),o=a,a=!1,s=!0):(s=r(u)===u&&i(u)!==u,o=a,a=i(u)===u&&r(u)!==u)}return e})(e,s,u)),e=e.replace(a,""),e=i.preserveConsecutiveUppercase?((e,t)=>(r.lastIndex=0,e.replace(r,(e=>t(e)))))(e,s):s(e),i.pascalCase&&(e=u(e.charAt(0))+e.slice(1)),((e,t)=>(o.lastIndex=0,c.lastIndex=0,e.replace(o,((e,n)=>t(n))).replace(c,(e=>t(e)))))(e,u)};e.exports=u,e.exports.default=u},87398:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,s||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,s,a){var o=n?n+e:e;if(!this._events[o])return!1;var c,u,l=this._events[o],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,s),!0;case 6:return l.fn.call(l.context,t,r,i,s,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||a(this,s);else{for(var c=0,u=[],l=o.length;c<l;c++)(o[c].fn!==t||i&&!o[c].once||r&&o[c].context!==r)&&u.push(o[c]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},10332:function(e,t,n){"use strict";n.d(t,{V:function(){return a},v:function(){return s}});var r=n(64285),i=n(34408);function s(e,t){var n=e.layout.span>=0?e.layout.span:i._3(e,t),s=r.lW.alloc(n),a=Object.assign({instruction:e.index},t);return e.layout.encode(a,s),s}function a(e,t){var n;try{n=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error("invalid instruction; instruction index mismatch ".concat(n.instruction," != ").concat(e.index));return n}},34408:function(e,t,n){"use strict";n.d(t,{Gt:function(){return o},N4:function(){return u},ZL:function(){return s},_3:function(){return d},pE:function(){return a},rI:function(){return c},zL:function(){return l}});var r=n(64285),i=n(39386),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return i.Ik(32,e)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=i.n_([i.Jq("length"),i.Jq("lengthPadding"),i.Ik(i.cv(i.Jq(),-8),"chars")],e),n=t.decode.bind(t),s=t.encode.bind(t),a=t;return a.decode=function(e,t){return n(e,t).chars.toString()},a.encode=function(e,t,n){var i={chars:r.lW.from(e,"utf8")};return s(i,t,n)},a.alloc=function(e){return i.Jq().span+i.Jq().span+r.lW.from(e,"utf8").length},a},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return i.n_([s("staker"),s("withdrawer")],e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return i.n_([i.gM("unixTimestamp"),i.gM("epoch"),s("custodian")],e)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return i.n_([s("nodePubkey"),s("authorizedVoter"),s("authorizedWithdrawer"),i.u8("commission")],e)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return i.n_([i.Jq("voteAuthorizationType"),s("currentAuthorityDerivedKeyOwnerPubkey"),a("currentAuthorityDerivedKeySeed"),s("newAuthorized")],e)};function d(e,t){var n=function e(n){if(n.span>=0)return n.span;if("function"==typeof n.alloc)return n.alloc(t[n.property]);if("count"in n&&"elementLayout"in n){var r=t[n.property];if(Array.isArray(r))return r.length*e(n.elementLayout)}else if("fields"in n)return d({layout:n},t[n.property]);return 0},r=0;return e.layout.fields.forEach((function(e){r+=n(e)})),r}},50615:function(e,t,n){"use strict";n.d(t,{Xl:function(){return Ee}});var r=n(9783),i=n.n(r),s=n(5574),a=n.n(s),o=n(12444),c=n.n(o),u=n(72004),l=n.n(u),d=n(39386),h=n(34839),f=n(34408),p=n(15009),m=n.n(p),g=n(99289),y=n.n(g),_=n(25098),v=n.n(_),w=n(31996),b=n.n(w),k=n(26037),A=n.n(k),E=n(13550),x=n.n(E),R=n(10011),I=n.n(R),S=n(64285),O=n(17748),T=n(58383),N=(T.UN.utils.randomPrivateKey,function(){var e=T.UN.utils.randomPrivateKey(),t=C(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}}),C=T.UN.getPublicKey;function P(e){try{return T.UN.ExtendedPoint.fromHex(e),!0}catch(e){return!1}}var L,D,z=function(e,t){return T.UN.sign(e,t.slice(0,32))},M=T.UN.verify,U=n(25532),B=function(){function e(t){c()(this,e),Object.assign(this,t)}return l()(e,[{key:"encode",value:function(){return S.lW.from((0,U.serialize)(Z,this))}}],[{key:"decode",value:function(e){return(0,U.deserialize)(Z,this,e)}},{key:"decodeUnchecked",value:function(e){return(0,U.deserializeUnchecked)(Z,this,e)}}]),e}(),Z=new Map,j=function(e){return S.lW.isBuffer(e)?e:e instanceof Uint8Array?S.lW.from(e.buffer,e.byteOffset,e.byteLength):S.lW.from(e)},K=32;var H=1;D=Symbol.toStringTag;var F=function(e){b()(a,e);var t,n,r,s=A()(a);function a(e){var t;if(c()(this,a),t=s.call(this,{}),i()(v()(t),"_bn",void 0),function(e){return void 0!==e._bn}(e))t._bn=e._bn;else{if("string"==typeof e){var n=I().decode(e);if(n.length!=K)throw new Error("Invalid public key input");t._bn=new(x())(n)}else t._bn=new(x())(e);if(t._bn.byteLength()>K)throw new Error("Invalid public key input")}return t}return l()(a,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return I().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){var e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(S.lW);if(e.length===K)return e;var t=S.lW.alloc(32);return e.copy(t,32-e.length),t}},{key:D,get:function(){return"PublicKey(".concat(this.toString(),")")}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var e=new a(H);return H+=1,new a(e.toBuffer())}},{key:"createWithSeed",value:(r=y()(m()().mark((function e(t,n,r){var i,s;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=S.lW.concat([t.toBuffer(),S.lW.from(n),r.toBuffer()]),s=(0,O.JQ)(i),e.abrupt("return",new a(s));case 3:case"end":return e.stop()}}),e)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"createProgramAddressSync",value:function(e,t){var n=S.lW.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=S.lW.concat([n,j(e)])})),n=S.lW.concat([n,t.toBuffer(),S.lW.from("ProgramDerivedAddress")]);var r=(0,O.JQ)(n);if(P(r))throw new Error("Invalid seeds, address must fall off the curve");return new a(r)}},{key:"createProgramAddress",value:(n=y()(m()().mark((function e(t,n){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"findProgramAddressSync",value:function(e,t){for(var n,r=255;0!=r;){try{var i=e.concat(S.lW.from([r]));n=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:(t=y()(m()().mark((function e(t,n){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"isOnCurve",value:function(e){return P(new a(e).toBytes())}}]),a}(B);function W(e){var t=(0,d.Ik)(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,s=(0,h.GH)();return i.decode=function(e,t){var r=n(e,t);return s.decode(r)},i.encode=function(e,t,n){var i=s.encode(e);return r(i,t,n)},i}L=F,i()(F,"default",new L("11111111111111111111111111111111")),Z.set(F,{kind:"struct",fields:[["_bn","u256"]]});var V=n(10332),$=d._O("lamportsPerSignature"),q=d.n_([d.Jq("version"),d.Jq("state"),f.ZL("authorizedPubkey"),f.ZL("nonce"),d.n_([$],"feeCalculator")]),G=q.span,J=new F("SysvarC1ock11111111111111111111111111111111"),Y=(new F("SysvarEpochSchedu1e111111111111111111111111"),new F("Sysvar1nstructions1111111111111111111111111"),new F("SysvarRecentB1ockHashes11111111111111111111")),X=new F("SysvarRent111111111111111111111111111111111"),Q=(new F("SysvarRewards111111111111111111111111111111"),new F("SysvarS1otHashes111111111111111111111111111"),new F("SysvarS1otHistory11111111111111111111111111"),new F("SysvarStakeHistory1111111111111111111111111")),ee=n(12665),te=n.n(ee),ne=function(e){b()(n,e);var t=A()(n);function n(e){var r;return c()(this,n),r=t.call(this,"Signature ".concat(e," has expired: block height exceeded.")),i()(v()(r),"signature",void 0),r.signature=e,r}return l()(n)}(te()(Error));Object.defineProperty(ne.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var re=function(e){b()(n,e);var t=A()(n);function n(e,r){var s;return c()(this,n),s=t.call(this,"Transaction was not confirmed in ".concat(r.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools.")),i()(v()(s),"signature",void 0),s.signature=e,s}return l()(n)}(te()(Error));Object.defineProperty(re.prototype,"name",{value:"TransactionExpiredTimeoutError"});var ie=function(e){b()(n,e);var t=A()(n);function n(e){var r;return c()(this,n),r=t.call(this,"Signature ".concat(e," has expired: the nonce is no longer valid.")),i()(v()(r),"signature",void 0),r.signature=e,r}return l()(n)}(te()(Error));Object.defineProperty(ie.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var se=n(64599),ae=n.n(se),oe=n(97857),ce=n.n(oe),ue=n(19632),le=n.n(ue),de=1232,he=function(){function e(t,n){c()(this,e),i()(this,"staticAccountKeys",void 0),i()(this,"accountKeysFromLookups",void 0),this.staticAccountKeys=t,this.accountKeysFromLookups=n}return l()(e,[{key:"keySegments",value:function(){var e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}},{key:"get",value:function(e){var t,n=ae()(this.keySegments());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e<r.length)return r[e];e-=r.length}}catch(e){n.e(e)}finally{n.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");var t=new Map;this.keySegments().flat().forEach((function(e,n){t.set(e.toBase58(),n)}));var n=function(e){var n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((function(e){return{programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((function(e){return n(e.pubkey)})),data:e.data}}))}}]),e}();function fe(e){for(var t=0,n=0;;){var r=e.shift();if(t|=(127&r)<<7*n,n+=1,0==(128&r))break}return t}function pe(e,t){for(var n=t;;){var r=127&n;if(0==(n>>=7)){e.push(r);break}r|=128,e.push(r)}}function me(e,t){if(!e)throw new Error(t||"Assertion failed")}var ge=function(){function e(t,n){c()(this,e),i()(this,"payer",void 0),i()(this,"keyMetaMap",void 0),this.payer=t,this.keyMetaMap=n}return l()(e,[{key:"getMessageComponents",value:function(){var e=le()(this.keyMetaMap.entries());me(e.length<=256,"Max static account keys length exceeded");var t=e.filter((function(e){var t=a()(e,2)[1];return t.isSigner&&t.isWritable})),n=e.filter((function(e){var t=a()(e,2)[1];return t.isSigner&&!t.isWritable})),r=e.filter((function(e){var t=a()(e,2)[1];return!t.isSigner&&t.isWritable})),i=e.filter((function(e){var t=a()(e,2)[1];return!t.isSigner&&!t.isWritable})),s={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};return me(t.length>0,"Expected at least one writable signer key"),me(a()(t[0],1)[0]===this.payer.toBase58(),"Expected first writable signer key to be the fee payer"),[s,[].concat(le()(t.map((function(e){var t=a()(e,1)[0];return new F(t)}))),le()(n.map((function(e){var t=a()(e,1)[0];return new F(t)}))),le()(r.map((function(e){var t=a()(e,1)[0];return new F(t)}))),le()(i.map((function(e){var t=a()(e,1)[0];return new F(t)}))))]}},{key:"extractTableLookup",value:function(e){var t=this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&e.isWritable})),n=a()(t,2),r=n[0],i=n[1],s=this.drainKeysFoundInLookupTable(e.state.addresses,(function(e){return!e.isSigner&&!e.isInvoked&&!e.isWritable})),o=a()(s,2),c=o[0],u=o[1];if(0!==r.length||0!==c.length)return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:c},{writable:i,readonly:u}]}},{key:"drainKeysFoundInLookupTable",value:function(e,t){var n,r=this,i=new Array,s=new Array,o=ae()(this.keyMetaMap.entries());try{var c=function(){var o=a()(n.value,2),c=o[0],u=o[1];if(t(u)){var l=new F(c),d=e.findIndex((function(e){return e.equals(l)}));d>=0&&(me(d<256,"Max lookup table index exceeded"),i.push(d),s.push(l),r.keyMetaMap.delete(c))}};for(o.s();!(n=o.n()).done;)c()}catch(e){o.e(e)}finally{o.f()}return[i,s]}}],[{key:"compile",value:function(t,n){var r=new Map,i=function(e){var t=e.toBase58(),n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},s=i(n);s.isSigner=!0,s.isWritable=!0;var a,o=ae()(t);try{for(o.s();!(a=o.n()).done;){var c=a.value;i(c.programId).isInvoked=!0;var u,l=ae()(c.keys);try{for(l.s();!(u=l.n()).done;){var d=u.value,h=i(d.pubkey);h.isSigner||(h.isSigner=d.isSigner),h.isWritable||(h.isWritable=d.isWritable)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}return new e(n,r)}}]),e}(),ye="Reached end of buffer unexpectedly";function _e(e){if(0===e.length)throw new Error(ye);return e.shift()}function ve(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=r[0];if(2===r.length?s+(null!==(t=r[1])&&void 0!==t?t:0)>e.length:s>=e.length)throw new Error(ye);return e.splice.apply(e,le()(r))}var we=function(){function e(t){var n=this;c()(this,e),i()(this,"header",void 0),i()(this,"accountKeys",void 0),i()(this,"recentBlockhash",void 0),i()(this,"instructions",void 0),i()(this,"indexToProgramIds",new Map),this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new F(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return n.indexToProgramIds.set(e.programIdIndex,n.accountKeys[e.programIdIndex])}))}return l()(e,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map((function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:I().decode(e.data)}}))}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new he(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){var t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return le()(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,n){return!e.isProgramId(n)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];pe(t,e);var n=this.instructions.map((function(e){var t=e.accounts,n=e.programIdIndex,r=Array.from(I().decode(e.data)),i=[];pe(i,t.length);var s=[];return pe(s,r.length),{programIdIndex:n,keyIndicesCount:S.lW.from(i),keyIndices:t,dataLength:S.lW.from(s),data:r}})),r=[];pe(r,n.length);var i=S.lW.alloc(de);S.lW.from(r).copy(i);var s=r.length;n.forEach((function(e){var t=d.n_([d.u8("programIdIndex"),d.Ik(e.keyIndicesCount.length,"keyIndicesCount"),d.A9(d.u8("keyIndex"),e.keyIndices.length,"keyIndices"),d.Ik(e.dataLength.length,"dataLength"),d.A9(d.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);var a=d.n_([d.Ik(1,"numRequiredSignatures"),d.Ik(1,"numReadonlySignedAccounts"),d.Ik(1,"numReadonlyUnsignedAccounts"),d.Ik(t.length,"keyCount"),d.A9(f.ZL("key"),e,"keys"),f.ZL("recentBlockhash")]),o={numRequiredSignatures:S.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:S.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:S.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:S.lW.from(t),keys:this.accountKeys.map((function(e){return j(e.toBytes())})),recentBlockhash:I().decode(this.recentBlockhash)},c=S.lW.alloc(2048),u=a.encode(o,c);return i.copy(c,u),c.slice(0,u+i.length)}}],[{key:"compile",value:function(t){var n=ge.compile(t.instructions,t.payerKey).getMessageComponents(),r=a()(n,2),i=r[0],s=r[1],o=new he(s).compileInstructions(t.instructions).map((function(e){return{programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:I().encode(e.data)}}));return new e({header:i,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}},{key:"from",value:function(t){var n=le()(t),r=_e(n);if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var i=_e(n),s=_e(n),a=fe(n),o=[],c=0;c<a;c++){var u=ve(n,0,K);o.push(new F(S.lW.from(u)))}for(var l=ve(n,0,K),d=fe(n),h=[],f=0;f<d;f++){var p=_e(n),m=ve(n,0,fe(n)),g=ve(n,0,fe(n)),y=I().encode(S.lW.from(g));h.push({programIdIndex:p,accounts:m,data:y})}return new e({header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:I().encode(S.lW.from(l)),accountKeys:o,instructions:h})}}]),e}(),be=S.lW.alloc(64).fill(0),ke=function(){function e(t){c()(this,e),i()(this,"keys",void 0),i()(this,"programId",void 0),i()(this,"data",S.lW.alloc(0)),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return l()(e,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(e){var t=e.pubkey,n=e.isSigner,r=e.isWritable;return{pubkey:t.toJSON(),isSigner:n,isWritable:r}})),programId:this.programId.toJSON(),data:le()(this.data)}}}]),e}(),Ae=function(){function e(t){if(c()(this,e),i()(this,"signatures",[]),i()(this,"feePayer",void 0),i()(this,"instructions",[]),i()(this,"recentBlockhash",void 0),i()(this,"lastValidBlockHeight",void 0),i()(this,"nonceInfo",void 0),i()(this,"minNonceContextSlot",void 0),i()(this,"_message",void 0),i()(this,"_json",void 0),t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){var n=t,r=n.minContextSlot,s=n.nonceInfo;this.minNonceContextSlot=r,this.nonceInfo=s}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var a=t,o=a.blockhash,u=a.lastValidBlockHeight;this.recentBlockhash=o,this.lastValidBlockHeight=u}else{var l=t,d=l.recentBlockhash,h=l.nonceInfo;h&&(this.nonceInfo=h),this.recentBlockhash=d}}var t;return l()(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(e){return e.toJSON()})),signers:this.signatures.map((function(e){return e.publicKey.toJSON()}))}}},{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(0===n.length)throw new Error("No instructions");return n.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new ke(t))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat(le()(this.instructions)):this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(var r=0;r<t.length;r++)if(void 0===t[r].programId)throw new Error("Transaction instruction index ".concat(r," has undefined program id"));var i=[],s=[];t.forEach((function(e){e.keys.forEach((function(e){s.push(ce()({},e))}));var t=e.programId.toString();i.includes(t)||i.push(t)})),i.forEach((function(e){s.push({pubkey:new F(e),isSigner:!1,isWritable:!1})}));var o=[];s.forEach((function(e){var t=e.pubkey.toString(),n=o.findIndex((function(e){return e.pubkey.toString()===t}));n>-1?(o[n].isWritable=o[n].isWritable||e.isWritable,o[n].isSigner=o[n].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));var c=o.findIndex((function(e){return e.pubkey.equals(n)}));if(c>-1){var u=o.splice(c,1),l=a()(u,1)[0];l.isSigner=!0,l.isWritable=!0,o.unshift(l)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});var d,h=ae()(this.signatures);try{var f=function(){var e=d.value,t=o.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(h.s();!(d=h.n()).done;)f()}catch(e){h.e(e)}finally{h.f()}var p=0,m=0,g=0,y=[],_=[];o.forEach((function(e){var t=e.pubkey,n=e.isSigner,r=e.isWritable;n?(y.push(t.toString()),p+=1,r||(m+=1)):(_.push(t.toString()),r||(g+=1))}));var v=y.concat(_),w=t.map((function(e){var t=e.data,n=e.programId;return{programIdIndex:v.indexOf(n.toString()),accounts:e.keys.map((function(e){return v.indexOf(e.pubkey.toString())})),data:I().encode(t)}}));return w.forEach((function(e){me(e.programIdIndex>=0),e.accounts.forEach((function(e){return me(e>=0)}))})),new we({header:{numRequiredSignatures:p,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:g},accountKeys:v,recentBlockhash:e,instructions:w})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,n){return t[n].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:(t=y()(m()().mark((function e(t){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");var r=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!r.has(t)&&(r.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");for(var r=new Set,i=[],s=0,a=t;s<a.length;s++){var o=a[s],c=o.publicKey.toString();r.has(c)||(r.add(c),i.push(o))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var u=this._compile();this._partialSign.apply(this,[u].concat(i))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");for(var r=new Set,i=[],s=0,a=t;s<a.length;s++){var o=a[s],c=o.publicKey.toString();r.has(c)||(r.add(c),i.push(o))}var u=this._compile();this._partialSign.apply(this,[u].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,n=e.serialize(),r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];i.forEach((function(e){var r=z(n,e.secretKey);t._addSignature(e.publicKey,j(r))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){me(64===t.length);var n=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(n<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[n].signature=S.lW.from(t)}},{key:"verifySignatures",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._getMessageSignednessErrors(this.serializeMessage(),e);return!t}},{key:"_getMessageSignednessErrors",value:function(e,t){var n,r={},i=ae()(this.signatures);try{for(i.s();!(n=i.n()).done;){var s=n.value,a=s.signature,o=s.publicKey;null===a?t&&(r.missing||(r.missing=[])).push(o):M(a,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o)}}catch(e){i.e(e)}finally{i.f()}return r.invalid||r.missing?r:void 0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=t.requireAllSignatures,r=t.verifySignatures,i=this.serializeMessage();if(r){var s=this._getMessageSignednessErrors(i,n);if(s){var a="Signature verification failed.";throw s.invalid&&(a+="\nInvalid signature for public key".concat(1===s.invalid.length?"":"(s)"," [`").concat(s.invalid.map((function(e){return e.toBase58()})).join("`, `"),"`].")),s.missing&&(a+="\nMissing signature for public key".concat(1===s.missing.length?"":"(s)"," [`").concat(s.missing.map((function(e){return e.toBase58()})).join("`, `"),"`].")),new Error(a)}}return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,n=[];pe(n,t.length);var r=n.length+64*t.length+e.length,i=S.lW.alloc(r);return me(t.length<256),S.lW.from(n).copy(i,0),t.forEach((function(e,t){var r=e.signature;null!==r&&(me(64===r.length,"signature has invalid length"),S.lW.from(r).copy(i,n.length+64*t))})),e.copy(i,n.length+64*t.length),me(i.length<=de,"Transaction too large: ".concat(i.length," > ").concat(de)),i}},{key:"keys",get:function(){return me(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return me(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return me(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var n=le()(t),r=fe(n),i=[],s=0;s<r;s++){var a=ve(n,0,64);i.push(I().encode(S.lW.from(a)))}return e.populate(we.from(n),i)}},{key:"populate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=new e;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((function(e,n){var i={signature:e==I().encode(be)?null:I().decode(e),publicKey:t.accountKeys[n]};r.signatures.push(i)})),t.instructions.forEach((function(e){var n=e.accounts.map((function(e){var n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some((function(e){return e.publicKey.toString()===n.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new ke({keys:n,programId:t.accountKeys[e.programIdIndex],data:I().decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}]),e}(),Ee=Object.freeze({Create:{index:0,layout:d.n_([d.Jq("instruction"),d.gM("lamports"),d.gM("space"),f.ZL("programId")])},Assign:{index:1,layout:d.n_([d.Jq("instruction"),f.ZL("programId")])},Transfer:{index:2,layout:d.n_([d.Jq("instruction"),W("lamports")])},CreateWithSeed:{index:3,layout:d.n_([d.Jq("instruction"),f.ZL("base"),f.pE("seed"),d.gM("lamports"),d.gM("space"),f.ZL("programId")])},AdvanceNonceAccount:{index:4,layout:d.n_([d.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},InitializeNonceAccount:{index:6,layout:d.n_([d.Jq("instruction"),f.ZL("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.n_([d.Jq("instruction"),f.ZL("authorized")])},Allocate:{index:8,layout:d.n_([d.Jq("instruction"),d.gM("space")])},AllocateWithSeed:{index:9,layout:d.n_([d.Jq("instruction"),f.ZL("base"),f.pE("seed"),d.gM("space"),f.ZL("programId")])},AssignWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),f.ZL("base"),f.pE("seed"),f.ZL("programId")])},TransferWithSeed:{index:11,layout:d.n_([d.Jq("instruction"),W("lamports"),f.pE("seed"),f.ZL("programId")])},UpgradeNonceAccount:{index:12,layout:d.n_([d.Jq("instruction")])}}),xe=function(){function e(){c()(this,e)}return l()(e,null,[{key:"createAccount",value:function(e){var t=Ee.Create,n=(0,V.v)(t,{lamports:e.lamports,space:e.space,programId:j(e.programId.toBuffer())});return new ke({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}},{key:"transfer",value:function(e){var t,n;if("basePubkey"in e){var r=Ee.TransferWithSeed;t=(0,V.v)(r,{lamports:BigInt(e.lamports),seed:e.seed,programId:j(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{var i=Ee.Transfer;t=(0,V.v)(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ke({keys:n,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,n;if("basePubkey"in e){var r=Ee.AssignWithSeed;t=(0,V.v)(r,{base:j(e.basePubkey.toBuffer()),seed:e.seed,programId:j(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{var i=Ee.Assign;t=(0,V.v)(i,{programId:j(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ke({keys:n,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=Ee.CreateWithSeed,n=(0,V.v)(t,{base:j(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:j(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ke({keys:r,programId:this.programId,data:n})}},{key:"createNonceAccount",value:function(t){var n=new Ae;"basePubkey"in t&&"seed"in t?n.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:G,programId:this.programId})):n.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:G,programId:this.programId}));var r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}},{key:"nonceInitialize",value:function(e){var t=Ee.InitializeNonceAccount,n=(0,V.v)(t,{authorized:j(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Y,isSigner:!1,isWritable:!1},{pubkey:X,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ke(r)}},{key:"nonceAdvance",value:function(e){var t=Ee.AdvanceNonceAccount,n=(0,V.v)(t),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Y,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ke(r)}},{key:"nonceWithdraw",value:function(e){var t=Ee.WithdrawNonceAccount,n=(0,V.v)(t,{lamports:e.lamports});return new ke({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Y,isSigner:!1,isWritable:!1},{pubkey:X,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}},{key:"nonceAuthorize",value:function(e){var t=Ee.AuthorizeNonceAccount,n=(0,V.v)(t,{authorized:j(e.newAuthorizedPubkey.toBuffer())});return new ke({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}},{key:"allocate",value:function(e){var t,n;if("basePubkey"in e){var r=Ee.AllocateWithSeed;t=(0,V.v)(r,{base:j(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:j(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{var i=Ee.Allocate;t=(0,V.v)(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ke({keys:n,programId:this.programId,data:t})}}]),e}();i()(xe,"programId",new F("11111111111111111111111111111111"));d.n_([d.Jq("typeIndex"),W("deactivationSlot"),d._O("lastExtendedSlot"),d.u8("lastExtendedStartIndex"),d.u8(),d.A9(f.ZL(),d.cv(d.u8(),-1),"authority")]);var Re=Object.freeze({CreateLookupTable:{index:0,layout:d.n_([d.Jq("instruction"),W("recentSlot"),d.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:d.n_([d.Jq("instruction")])},ExtendLookupTable:{index:2,layout:d.n_([d.Jq("instruction"),W(),d.A9(f.ZL(),d.cv(d.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:d.n_([d.Jq("instruction")])},CloseLookupTable:{index:4,layout:d.n_([d.Jq("instruction")])}}),Ie=function(){function e(){c()(this,e)}return l()(e,null,[{key:"createLookupTable",value:function(e){var t=F.findProgramAddressSync([e.authority.toBuffer(),(0,h.bP)().encode(e.recentSlot)],this.programId),n=a()(t,2),r=n[0],i=n[1],s=Re.CreateLookupTable,o=(0,V.v)(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:xe.programId,isSigner:!1,isWritable:!1}];return[new ke({programId:this.programId,keys:c,data:o}),r]}},{key:"freezeLookupTable",value:function(e){var t=Re.FreezeLookupTable,n=(0,V.v)(t),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ke({programId:this.programId,keys:r,data:n})}},{key:"extendLookupTable",value:function(e){var t=Re.ExtendLookupTable,n=(0,V.v)(t,{addresses:e.addresses.map((function(e){return e.toBytes()}))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:xe.programId,isSigner:!1,isWritable:!1}),new ke({programId:this.programId,keys:r,data:n})}},{key:"deactivateLookupTable",value:function(e){var t=Re.DeactivateLookupTable,n=(0,V.v)(t),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ke({programId:this.programId,keys:r,data:n})}},{key:"closeLookupTable",value:function(e){var t=Re.CloseLookupTable,n=(0,V.v)(t),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ke({programId:this.programId,keys:r,data:n})}}]),e}();i()(Ie,"programId",new F("AddressLookupTab1e1111111111111111111111111"));var Se=Object.freeze({RequestUnits:{index:0,layout:d.n_([d.u8("instruction"),d.Jq("units"),d.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:d.n_([d.u8("instruction"),d.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:d.n_([d.u8("instruction"),d.Jq("units")])},SetComputeUnitPrice:{index:3,layout:d.n_([d.u8("instruction"),W("microLamports")])}}),Oe=function(){function e(){c()(this,e)}return l()(e,null,[{key:"requestUnits",value:function(e){var t=Se.RequestUnits,n=(0,V.v)(t,e);return new ke({keys:[],programId:this.programId,data:n})}},{key:"requestHeapFrame",value:function(e){var t=Se.RequestHeapFrame,n=(0,V.v)(t,e);return new ke({keys:[],programId:this.programId,data:n})}},{key:"setComputeUnitLimit",value:function(e){var t=Se.SetComputeUnitLimit,n=(0,V.v)(t,e);return new ke({keys:[],programId:this.programId,data:n})}},{key:"setComputeUnitPrice",value:function(e){var t=Se.SetComputeUnitPrice,n=(0,V.v)(t,{microLamports:BigInt(e.microLamports)});return new ke({keys:[],programId:this.programId,data:n})}}]),e}();i()(Oe,"programId",new F("ComputeBudget111111111111111111111111111111"));var Te=function(){function e(t){c()(this,e),i()(this,"_keypair",void 0),this._keypair=null!=t?t:N()}return l()(e,[{key:"publicKey",get:function(){return new F(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new e(N())}},{key:"fromSecretKey",value:function(t,n){if(64!==t.byteLength)throw new Error("bad secret key size");var r=t.slice(32,64);if(!n||!n.skipValidation)for(var i=t.slice(0,32),s=C(i),a=0;a<32;a++)if(r[a]!==s[a])throw new Error("provided secretKey is invalid");return new e({publicKey:r,secretKey:t})}},{key:"fromSeed",value:function(t){var n=C(t),r=new Uint8Array(64);return r.set(t),r.set(n,32),new e({publicKey:n,secretKey:r})}}]),e}(),Ne=d.n_([d.u8("numSignatures"),d.u8("padding"),d.KB("signatureOffset"),d.KB("signatureInstructionIndex"),d.KB("publicKeyOffset"),d.KB("publicKeyInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.KB("messageInstructionIndex")]),Ce=function(){function e(){c()(this,e)}return l()(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var n=t.publicKey,r=t.message,i=t.signature,s=t.instructionIndex;me(32===n.length,"Public Key must be ".concat(32," bytes but received ").concat(n.length," bytes")),me(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var a=Ne.span,o=a+n.length,c=o+i.length,u=S.lW.alloc(c+r.length),l=null==s?65535:s;return Ne.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:l,publicKeyOffset:a,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(n,a),u.fill(i,o),u.fill(r,c),new ke({keys:[],programId:e.programId,data:u})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,n=e.message,r=e.instructionIndex;me(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=Te.fromSecretKey(t),s=i.publicKey.toBytes(),a=z(n,i.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:r})}catch(e){throw new Error("Error creating instruction; ".concat(e))}}}]),e}();i()(Ce,"programId",new F("Ed25519SigVerify111111111111111111111111111"));var Pe,Le=n(85609),De=n(95085),ze=(De.kA.utils.isValidPrivateKey,De.kA.getPublicKey),Me=d.n_([d.u8("numSignatures"),d.KB("signatureOffset"),d.u8("signatureInstructionIndex"),d.KB("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.u8("messageInstructionIndex"),d.Ik(20,"ethAddress"),d.Ik(64,"signature"),d.u8("recoveryId")]),Ue=function(){function e(){c()(this,e)}return l()(e,null,[{key:"publicKeyToEthAddress",value:function(e){me(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return S.lW.from((0,Le.fr)(j(e))).slice(-20)}catch(e){throw new Error("Error constructing Ethereum address: ".concat(e))}}},{key:"createInstructionWithPublicKey",value:function(t){var n=t.publicKey,r=t.message,i=t.signature,s=t.recoveryId,a=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:s,instructionIndex:a})}},{key:"createInstructionWithEthAddress",value:function(t){var n,r=t.ethAddress,i=t.message,s=t.signature,a=t.recoveryId,o=t.instructionIndex,c=void 0===o?0:o;me(20===(n="string"==typeof r?r.startsWith("0x")?S.lW.from(r.substr(2),"hex"):S.lW.from(r,"hex"):r).length,"Address must be ".concat(20," bytes but received ").concat(n.length," bytes"));var u=12+n.length,l=u+s.length+1,d=S.lW.alloc(Me.span+i.length);return Me.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:c,ethAddressOffset:12,ethAddressInstructionIndex:c,messageDataOffset:l,messageDataSize:i.length,messageInstructionIndex:c,signature:j(s),ethAddress:j(n),recoveryId:a},d),d.fill(j(i),Me.span),new ke({keys:[],programId:e.programId,data:d})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,n=e.message,r=e.instructionIndex;me(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{var i=j(t),s=ze(i,!1).slice(1),o=function(e,t){var n=De.kA.sign(e,t);return[n.toCompactRawBytes(),n.recovery]}(S.lW.from((0,Le.fr)(j(n))),i),c=a()(o,2),u=c[0],l=c[1];return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:u,recoveryId:l,instructionIndex:r})}catch(e){throw new Error("Error creating instruction; ".concat(e))}}}]),e}();i()(Ue,"programId",new F("KeccakSecp256k11111111111111111111111111111"));var Be=new F("StakeConfig11111111111111111111111111111111"),Ze=l()((function e(t,n,r){c()(this,e),i()(this,"unixTimestamp",void 0),i()(this,"epoch",void 0),i()(this,"custodian",void 0),this.unixTimestamp=t,this.epoch=n,this.custodian=r}));Pe=Ze,i()(Ze,"default",new Pe(0,0,F.default));var je=Object.freeze({Initialize:{index:0,layout:d.n_([d.Jq("instruction"),f.Gt(),f.rI()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),f.ZL("newAuthorized"),d.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:d.n_([d.Jq("instruction")])},Split:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Withdraw:{index:4,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Deactivate:{index:5,layout:d.n_([d.Jq("instruction")])},Merge:{index:7,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:d.n_([d.Jq("instruction"),f.ZL("newAuthorized"),d.Jq("stakeAuthorizationType"),f.pE("authoritySeed"),f.ZL("authorityOwner")])}}),Ke=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function e(){c()(this,e)}return l()(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,n=e.authorized,r=e.lockup||Ze.default,i=je.Initialize,s=(0,V.v)(i,{authorized:{staker:j(n.staker.toBuffer()),withdrawer:j(n.withdrawer.toBuffer())},lockup:{unixTimestamp:r.unixTimestamp,epoch:r.epoch,custodian:j(r.custodian.toBuffer())}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:X,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new ke(a)}},{key:"createAccountWithSeed",value:function(e){var t=new Ae;t.add(xe.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var n=e.stakePubkey,r=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}},{key:"createAccount",value:function(e){var t=new Ae;t.add(xe.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var n=e.stakePubkey,r=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,n=e.authorizedPubkey,r=e.votePubkey,i=je.Delegate,s=(0,V.v)(i);return(new Ae).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:J,isSigner:!1,isWritable:!1},{pubkey:Q,isSigner:!1,isWritable:!1},{pubkey:Be,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}},{key:"authorize",value:function(e){var t=e.stakePubkey,n=e.authorizedPubkey,r=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,s=e.custodianPubkey,a=je.Authorize,o=(0,V.v)(a,{newAuthorized:j(r.toBuffer()),stakeAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Ae).add({keys:c,programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,n=e.authorityBase,r=e.authoritySeed,i=e.authorityOwner,s=e.newAuthorizedPubkey,a=e.stakeAuthorizationType,o=e.custodianPubkey,c=je.AuthorizeWithSeed,u=(0,V.v)(c,{newAuthorized:j(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:r,authorityOwner:j(i.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:J,isSigner:!1,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),(new Ae).add({keys:l,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,n=e.authorizedPubkey,r=e.splitStakePubkey,i=e.lamports,s=je.Split,a=(0,V.v)(s,{lamports:i});return new ke({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"split",value:function(e,t){var n=new Ae;return n.add(xe.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e,t){var n=e.stakePubkey,r=e.authorizedPubkey,i=e.splitStakePubkey,s=e.basePubkey,a=e.seed,o=e.lamports,c=new Ae;return c.add(xe.allocate({accountPubkey:i,basePubkey:s,seed:a,space:this.space,programId:this.programId})),t&&t>0&&c.add(xe.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:o}))}},{key:"merge",value:function(e){var t=e.stakePubkey,n=e.sourceStakePubKey,r=e.authorizedPubkey,i=je.Merge,s=(0,V.v)(i);return(new Ae).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!1},{pubkey:Q,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,n=e.authorizedPubkey,r=e.toPubkey,i=e.lamports,s=e.custodianPubkey,a=je.Withdraw,o=(0,V.v)(a,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!1},{pubkey:Q,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Ae).add({keys:c,programId:this.programId,data:o})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,n=e.authorizedPubkey,r=je.Deactivate,i=(0,V.v)(r);return(new Ae).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}]),e}());i()(Ke,"programId",new F("Stake11111111111111111111111111111111111111")),i()(Ke,"space",200);var He=Object.freeze({InitializeAccount:{index:0,layout:d.n_([d.Jq("instruction"),f.N4()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),f.ZL("newAuthorized"),d.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),f.zL()])}}),Fe=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function e(){c()(this,e)}return l()(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,n=e.nodePubkey,r=e.voteInit,i=He.InitializeAccount,s=(0,V.v)(i,{voteInit:{nodePubkey:j(r.nodePubkey.toBuffer()),authorizedVoter:j(r.authorizedVoter.toBuffer()),authorizedWithdrawer:j(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:X,isSigner:!1,isWritable:!1},{pubkey:J,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new ke(a)}},{key:"createAccount",value:function(e){var t=new Ae;return t.add(xe.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,n=e.authorizedPubkey,r=e.newAuthorizedPubkey,i=e.voteAuthorizationType,s=He.Authorize,a=(0,V.v)(s,{newAuthorized:j(r.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Ae).add({keys:o,programId:this.programId,data:a})}},{key:"authorizeWithSeed",value:function(e){var t=e.currentAuthorityDerivedKeyBasePubkey,n=e.currentAuthorityDerivedKeyOwnerPubkey,r=e.currentAuthorityDerivedKeySeed,i=e.newAuthorizedPubkey,s=e.voteAuthorizationType,a=e.votePubkey,o=He.AuthorizeWithSeed,c=(0,V.v)(o,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:j(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:j(i.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new Ae).add({keys:u,programId:this.programId,data:c})}},{key:"withdraw",value:function(e){var t=e.votePubkey,n=e.authorizedWithdrawerPubkey,r=e.lamports,i=e.toPubkey,s=He.Withdraw,a=(0,V.v)(s,{lamports:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Ae).add({keys:o,programId:this.programId,data:a})}},{key:"safeWithdraw",value:function(t,n,r){if(t.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return e.withdraw(t)}},{key:"updateValidatorIdentity",value:function(e){var t=e.votePubkey,n=e.authorizedWithdrawerPubkey,r=e.nodePubkey,i=He.UpdateValidatorIdentity,s=(0,V.v)(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Ae).add({keys:a,programId:this.programId,data:s})}}]),e}());i()(Fe,"programId",new F("Vote111111111111111111111111111111111111111")),i()(Fe,"space",3762)},71817:function(e,t,n){"use strict";n.d(t,{Y7:function(){return vr},$r:function(){return hs}});var r=n(48764),i=n(29363),s=n(13550),a=n.n(s),o=n(15882),c=n.n(o),u=n(70654),l=n.n(u),d=n(81441),h=n(17748);function f(e){let t=e.length;for(;--t>=0;)e[t]=0}const p=256,m=286,g=30,y=15,_=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),v=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),w=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),b=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new Array(576);f(k);const A=new Array(60);f(A);const E=new Array(512);f(E);const x=new Array(256);f(x);const R=new Array(29);f(R);const I=new Array(g);function S(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let O,T,N;function C(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}f(I);const P=e=>e<256?E[e]:E[256+(e>>>7)],L=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},D=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,L(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},z=(e,t,n)=>{D(e,n[2*t],n[2*t+1])},M=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},U=(e,t,n)=>{const r=new Array(16);let i,s,a=0;for(i=1;i<=y;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=M(r[t]++,t))}},B=e=>{let t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Z=e=>{e.bi_valid>8?L(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},j=(e,t,n,r)=>{const i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},K=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&j(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!j(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},H=(e,t,n)=>{let r,i,s,a,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,i=e.pending_buf[e.sym_buf+o++],0===r?z(e,i,t):(s=x[i],z(e,s+p+1,t),a=_[s],0!==a&&(i-=R[s],D(e,i,a)),r--,s=P(r),z(e,s,n),a=v[s],0!==a&&(r-=I[s],D(e,r,a)))}while(o<e.sym_next);z(e,256,t)},F=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,c,u=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<s;a++)0!==n[2*a]?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[2*c+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)K(e,n,a);c=s;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,n[2*c]=n[2*a]+n[2*o],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,n[2*a+1]=n[2*o+1]=c,e.heap[1]=c++,K(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,l,d,h,f,p,m=0;for(h=0;h<=y;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)l=e.heap[u],h=n[2*n[2*l+1]+1]+1,h>c&&(h=c,m++),n[2*l+1]=h,l>r||(e.bl_count[h]++,f=0,l>=o&&(f=a[l-o]),p=n[2*l],e.opt_len+=p*(h+f),s&&(e.static_len+=p*(i[2*l+1]+f)));if(0!==m){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;0!==h;h--)for(l=e.bl_count[h];0!==l;)d=e.heap[--u],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),l--)}})(e,t),U(n,u,e.bl_count)},W=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++o<c&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))},V=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++o<c&&i===a)){if(o<u)do{z(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==s&&(z(e,i,e.bl_tree),o--),z(e,16,e.bl_tree),D(e,o-3,2)):o<=10?(z(e,17,e.bl_tree),D(e,o-3,3)):(z(e,18,e.bl_tree),D(e,o-11,7));o=0,s=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}};let $=!1;const q=(e,t,n,r)=>{D(e,0+(r?1:0),3),Z(e),L(e,n),L(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var G=e=>{$||((()=>{let e,t,n,r,i;const s=new Array(16);for(n=0,r=0;r<28;r++)for(R[r]=n,e=0;e<1<<_[r];e++)x[n++]=r;for(x[n-1]=r,i=0,r=0;r<16;r++)for(I[r]=i,e=0;e<1<<v[r];e++)E[i++]=r;for(i>>=7;r<g;r++)for(I[r]=i<<7,e=0;e<1<<v[r]-7;e++)E[256+i++]=r;for(t=0;t<=y;t++)s[t]=0;for(e=0;e<=143;)k[2*e+1]=8,e++,s[8]++;for(;e<=255;)k[2*e+1]=9,e++,s[9]++;for(;e<=279;)k[2*e+1]=7,e++,s[7]++;for(;e<=287;)k[2*e+1]=8,e++,s[8]++;for(U(k,287,s),e=0;e<g;e++)A[2*e+1]=5,A[2*e]=M(e,5);O=new S(k,_,257,m,y),T=new S(A,v,0,g,y),N=new S(new Array(0),w,0,19,7)})(),$=!0),e.l_desc=new C(e.dyn_ltree,O),e.d_desc=new C(e.dyn_dtree,T),e.bl_desc=new C(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,B(e)},J=(e,t,n,r)=>{let i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<p;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),F(e,e.l_desc),F(e,e.d_desc),a=(e=>{let t;for(W(e,e.dyn_ltree,e.l_desc.max_code),W(e,e.dyn_dtree,e.d_desc.max_code),F(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*b[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?q(e,t,n,r):4===e.strategy||s===i?(D(e,2+(r?1:0),3),H(e,k,A)):(D(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(D(e,t-257,5),D(e,n-1,5),D(e,r-4,4),i=0;i<r;i++)D(e,e.bl_tree[2*b[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),H(e,e.dyn_ltree,e.dyn_dtree)),B(e),r&&Z(e)},Y=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(x[n]+p+1)]++,e.dyn_dtree[2*P(t)]++),e.sym_next===e.sym_end),X={_tr_init:G,_tr_stored_block:q,_tr_flush_block:J,_tr_tally:Y,_tr_align:e=>{D(e,2,3),z(e,256,k),(e=>{16===e.bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Q=(e,t,n,r)=>{let i=65535&e|0,s=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,s=s+i|0}while(--a);i%=65521,s%=65521}return i|s<<16|0};const ee=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var te=(e,t,n,r)=>{const i=ee,s=r+n;e^=-1;for(let n=r;n<s;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},ne={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},re={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ie,_tr_stored_block:se,_tr_flush_block:ae,_tr_tally:oe,_tr_align:ce}=X,{Z_NO_FLUSH:ue,Z_PARTIAL_FLUSH:le,Z_FULL_FLUSH:de,Z_FINISH:he,Z_BLOCK:fe,Z_OK:pe,Z_STREAM_END:me,Z_STREAM_ERROR:ge,Z_DATA_ERROR:ye,Z_BUF_ERROR:_e,Z_DEFAULT_COMPRESSION:ve,Z_FILTERED:we,Z_HUFFMAN_ONLY:be,Z_RLE:ke,Z_FIXED:Ae,Z_DEFAULT_STRATEGY:Ee,Z_UNKNOWN:xe,Z_DEFLATED:Re}=re,Ie=258,Se=262,Oe=42,Te=113,Ne=666,Ce=(e,t)=>(e.msg=ne[t],t),Pe=e=>2*e-(e>4?9:0),Le=e=>{let t=e.length;for(;--t>=0;)e[t]=0},De=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let ze=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Me=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ue=(e,t)=>{ae(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Me(e.strm)},Be=(e,t)=>{e.pending_buf[e.pending++]=t},Ze=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},je=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=Q(e.adler,t,i,n):2===e.state.wrap&&(e.adler=te(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Ke=(e,t)=>{let n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-Se?e.strstart-(e.w_size-Se):0,u=e.window,l=e.w_mask,d=e.prev,h=e.strstart+Ie;let f=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,u[n+a]===p&&u[n+a-1]===f&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do{}while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<h);if(r=Ie-(h-s),s=h-Ie,r>a){if(e.match_start=t,a=r,r>=o)break;f=u[s+a-1],p=u[s+a]}}}while((t=d[t&l])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead},He=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Se)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),De(e),r+=t),0===e.strm.avail_in)break;if(n=je(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ze(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ze(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Se&&0!==e.strm.avail_in)},Fe=(e,t)=>{let n,r,i,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<s&&(0===n&&t!==he||t===ue||n!==r+e.strm.avail_in))break;a=t===he&&n===r+e.strm.avail_in?1:0,se(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Me(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(je(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==ue&&t!==he&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(je(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,s=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=s||(r||t===he)&&t!==ue&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===he&&0===e.strm.avail_in&&n===r?1:0,se(e,e.block_start,n,a),e.block_start+=n,Me(e.strm)),a?3:1)},We=(e,t)=>{let n,r;for(;;){if(e.lookahead<Se){if(He(e),e.lookahead<Se&&t===ue)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ze(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Se&&(e.match_length=Ke(e,n)),e.match_length>=3)if(r=oe(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ze(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ze(e,e.ins_h,e.window[e.strstart+1]);else r=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ue(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===he?(Ue(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ue(e,!1),0===e.strm.avail_out)?1:2},Ve=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Se){if(He(e),e.lookahead<Se&&t===ue)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ze(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Se&&(e.match_length=Ke(e,n),e.match_length<=5&&(e.strategy===we||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=oe(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ze(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Ue(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=oe(e,0,e.window[e.strstart-1]),r&&Ue(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=oe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===he?(Ue(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ue(e,!1),0===e.strm.avail_out)?1:2};function $e(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const qe=[new $e(0,0,0,0,Fe),new $e(4,4,8,4,We),new $e(4,5,16,8,We),new $e(4,6,32,32,We),new $e(4,4,16,16,Ve),new $e(8,16,32,32,Ve),new $e(8,16,128,128,Ve),new $e(8,32,128,256,Ve),new $e(32,128,258,1024,Ve),new $e(32,258,258,4096,Ve)];function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Re,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Le(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Je=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Oe&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Te&&t.status!==Ne?1:0},Ye=e=>{if(Je(e))return Ce(e,ge);e.total_in=e.total_out=0,e.data_type=xe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Oe:Te,e.adler=2===t.wrap?0:1,t.last_flush=-2,ie(t),pe},Xe=e=>{const t=Ye(e);var n;return t===pe&&((n=e.state).window_size=2*n.w_size,Le(n.head),n.max_lazy_match=qe[n.level].max_lazy,n.good_match=qe[n.level].good_length,n.nice_match=qe[n.level].nice_length,n.max_chain_length=qe[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Qe=(e,t,n,r,i,s)=>{if(!e)return ge;let a=1;if(t===ve&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==Re||r<8||r>15||t<0||t>9||s<0||s>Ae||8===r&&1!==a)return Ce(e,ge);8===r&&(r=9);const o=new Ge;return e.state=o,o.strm=e,o.status=Oe,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=s,o.method=n,Xe(e)};var et={deflateInit:(e,t)=>Qe(e,t,Re,15,8,Ee),deflateInit2:Qe,deflateReset:Xe,deflateResetKeep:Ye,deflateSetHeader:(e,t)=>Je(e)||2!==e.state.wrap?ge:(e.state.gzhead=t,pe),deflate:(e,t)=>{if(Je(e)||t>fe||t<0)return e?Ce(e,ge):ge;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Ne&&t!==he)return Ce(e,0===e.avail_out?_e:ge);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Me(e),0===e.avail_out)return n.last_flush=-1,pe}else if(0===e.avail_in&&Pe(t)<=Pe(r)&&t!==he)return Ce(e,_e);if(n.status===Ne&&0!==e.avail_in)return Ce(e,_e);if(n.status===Oe&&0===n.wrap&&(n.status=Te),n.status===Oe){let t=Re+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=be||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Ze(n,t),0!==n.strstart&&(Ze(n,e.adler>>>16),Ze(n,65535&e.adler)),e.adler=1,n.status=Te,Me(e),0!==n.pending)return n.last_flush=-1,pe}if(57===n.status)if(e.adler=0,Be(n,31),Be(n,139),Be(n,8),n.gzhead)Be(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Be(n,255&n.gzhead.time),Be(n,n.gzhead.time>>8&255),Be(n,n.gzhead.time>>16&255),Be(n,n.gzhead.time>>24&255),Be(n,9===n.level?2:n.strategy>=be||n.level<2?4:0),Be(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Be(n,255&n.gzhead.extra.length),Be(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=te(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Be(n,0),Be(n,0),Be(n,0),Be(n,0),Be(n,0),Be(n,9===n.level?2:n.strategy>=be||n.level<2?4:0),Be(n,3),n.status=Te,Me(e),0!==n.pending)return n.last_flush=-1,pe;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=te(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,Me(e),0!==n.pending)return n.last_flush=-1,pe;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=te(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=te(e.adler,n.pending_buf,n.pending-r,r)),Me(e),0!==n.pending)return n.last_flush=-1,pe;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Be(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=te(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=te(e.adler,n.pending_buf,n.pending-r,r)),Me(e),0!==n.pending)return n.last_flush=-1,pe;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Be(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=te(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Me(e),0!==n.pending))return n.last_flush=-1,pe;Be(n,255&e.adler),Be(n,e.adler>>8&255),e.adler=0}if(n.status=Te,Me(e),0!==n.pending)return n.last_flush=-1,pe}if(0!==e.avail_in||0!==n.lookahead||t!==ue&&n.status!==Ne){let r=0===n.level?Fe(n,t):n.strategy===be?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(He(e),0===e.lookahead)){if(t===ue)return 1;break}if(e.match_length=0,n=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ue(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===he?(Ue(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ue(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===ke?((e,t)=>{let n,r,i,s;const a=e.window;for(;;){if(e.lookahead<=Ie){if(He(e),e.lookahead<=Ie&&t===ue)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){s=e.strstart+Ie;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=Ie-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=oe(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ue(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===he?(Ue(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ue(e,!1),0===e.strm.avail_out)?1:2})(n,t):qe[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Ne),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),pe;if(2===r&&(t===le?ce(n):t!==fe&&(se(n,0,0,!1),t===de&&(Le(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Me(e),0===e.avail_out))return n.last_flush=-1,pe}return t!==he?pe:n.wrap<=0?me:(2===n.wrap?(Be(n,255&e.adler),Be(n,e.adler>>8&255),Be(n,e.adler>>16&255),Be(n,e.adler>>24&255),Be(n,255&e.total_in),Be(n,e.total_in>>8&255),Be(n,e.total_in>>16&255),Be(n,e.total_in>>24&255)):(Ze(n,e.adler>>>16),Ze(n,65535&e.adler)),Me(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?pe:me)},deflateEnd:e=>{if(Je(e))return ge;const t=e.state.status;return e.state=null,t===Te?Ce(e,ye):pe},deflateSetDictionary:(e,t)=>{let n=t.length;if(Je(e))return ge;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==Oe||r.lookahead)return ge;if(1===i&&(e.adler=Q(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Le(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,He(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=ze(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,He(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,r.wrap=i,pe},deflateInfo:"pako deflate (from Nodeca project)"};const tt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var nt=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)tt(n,t)&&(e[t]=n[t])}}return e},rt=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let it=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){it=!1}const st=new Uint8Array(256);for(let e=0;e<256;e++)st[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;st[254]=st[254]=1;var at=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,s,a=e.length,o=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},ot=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){s[i++]=t;continue}let a=st[t];if(a>4)s[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?s[i++]=65533:t<65536?s[i++]=t:(t-=65536,s[i++]=55296|t>>10&1023,s[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&it)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(s,i)},ct=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+st[e[n]]>t?n:t};var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const lt=Object.prototype.toString,{Z_NO_FLUSH:dt,Z_SYNC_FLUSH:ht,Z_FULL_FLUSH:ft,Z_FINISH:pt,Z_OK:mt,Z_STREAM_END:gt,Z_DEFAULT_COMPRESSION:yt,Z_DEFAULT_STRATEGY:_t,Z_DEFLATED:vt}=re;function wt(e){this.options=nt({level:yt,method:vt,chunkSize:16384,windowBits:15,memLevel:8,strategy:_t},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;let n=et.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==mt)throw new Error(ne[n]);if(t.header&&et.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?at(t.dictionary):"[object ArrayBuffer]"===lt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=et.deflateSetDictionary(this.strm,e),n!==mt)throw new Error(ne[n]);this._dict_set=!0}}function bt(e,t){const n=new wt(t);if(n.push(e,!0),n.err)throw n.msg||ne[n.err];return n.result}wt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?pt:dt,"string"==typeof e?n.input=at(e):"[object ArrayBuffer]"===lt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===ht||s===ft)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=et.deflate(n,s),i===gt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=et.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===mt;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},wt.prototype.onData=function(e){this.chunks.push(e)},wt.prototype.onEnd=function(e){e===mt&&(this.result=rt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var kt={Deflate:wt,deflate:bt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,bt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,bt(e,t)},constants:re};const At=16209;var Et=function(e,t){let n,r,i,s,a,o,c,u,l,d,h,f,p,m,g,y,_,v,w,b,k,A,E,x;const R=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),i=e.next_out,x=e.output,s=i-(t-e.avail_out),a=i+(e.avail_out-257),o=R.dmax,c=R.wsize,u=R.whave,l=R.wnext,d=R.window,h=R.hold,f=R.bits,p=R.lencode,m=R.distcode,g=(1<<R.lenbits)-1,y=(1<<R.distbits)-1;e:do{f<15&&(h+=E[n++]<<f,f+=8,h+=E[n++]<<f,f+=8),_=p[h&g];t:for(;;){if(v=_>>>24,h>>>=v,f-=v,v=_>>>16&255,0===v)x[i++]=65535&_;else{if(!(16&v)){if(0==(64&v)){_=p[(65535&_)+(h&(1<<v)-1)];continue t}if(32&v){R.mode=16191;break e}e.msg="invalid literal/length code",R.mode=At;break e}w=65535&_,v&=15,v&&(f<v&&(h+=E[n++]<<f,f+=8),w+=h&(1<<v)-1,h>>>=v,f-=v),f<15&&(h+=E[n++]<<f,f+=8,h+=E[n++]<<f,f+=8),_=m[h&y];n:for(;;){if(v=_>>>24,h>>>=v,f-=v,v=_>>>16&255,!(16&v)){if(0==(64&v)){_=m[(65535&_)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",R.mode=At;break e}if(b=65535&_,v&=15,f<v&&(h+=E[n++]<<f,f+=8,f<v&&(h+=E[n++]<<f,f+=8)),b+=h&(1<<v)-1,b>o){e.msg="invalid distance too far back",R.mode=At;break e}if(h>>>=v,f-=v,v=i-s,b>v){if(v=b-v,v>u&&R.sane){e.msg="invalid distance too far back",R.mode=At;break e}if(k=0,A=d,0===l){if(k+=c-v,v<w){w-=v;do{x[i++]=d[k++]}while(--v);k=i-b,A=x}}else if(l<v){if(k+=c+l-v,v-=l,v<w){w-=v;do{x[i++]=d[k++]}while(--v);if(k=0,l<w){v=l,w-=v;do{x[i++]=d[k++]}while(--v);k=i-b,A=x}}}else if(k+=l-v,v<w){w-=v;do{x[i++]=d[k++]}while(--v);k=i-b,A=x}for(;w>2;)x[i++]=A[k++],x[i++]=A[k++],x[i++]=A[k++],w-=3;w&&(x[i++]=A[k++],w>1&&(x[i++]=A[k++]))}else{k=i-b;do{x[i++]=x[k++],x[i++]=x[k++],x[i++]=x[k++],w-=3}while(w>2);w&&(x[i++]=x[k++],w>1&&(x[i++]=x[k++]))}break}}break}}while(n<r&&i<a);w=f>>3,n-=w,f-=w<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),R.hold=h,R.bits=f};const xt=15,Rt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),It=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),St=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ot=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Tt=(e,t,n,r,i,s,a,o)=>{const c=o.bits;let u,l,d,h,f,p,m=0,g=0,y=0,_=0,v=0,w=0,b=0,k=0,A=0,E=0,x=null;const R=new Uint16Array(16),I=new Uint16Array(16);let S,O,T,N=null;for(m=0;m<=xt;m++)R[m]=0;for(g=0;g<r;g++)R[t[n+g]]++;for(v=c,_=xt;_>=1&&0===R[_];_--);if(v>_&&(v=_),0===_)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<_&&0===R[y];y++);for(v<y&&(v=y),k=1,m=1;m<=xt;m++)if(k<<=1,k-=R[m],k<0)return-1;if(k>0&&(0===e||1!==_))return-1;for(I[1]=0,m=1;m<xt;m++)I[m+1]=I[m]+R[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[I[t[n+g]]++]=g);if(0===e?(x=N=a,p=20):1===e?(x=Rt,N=It,p=257):(x=St,N=Ot,p=0),E=0,g=0,m=y,f=s,w=v,b=0,d=-1,A=1<<v,h=A-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){S=m-b,a[g]+1<p?(O=0,T=a[g]):a[g]>=p?(O=N[a[g]-p],T=x[a[g]-p]):(O=96,T=0),u=1<<m-b,l=1<<w,y=l;do{l-=u,i[f+(E>>b)+l]=S<<24|O<<16|T|0}while(0!==l);for(u=1<<m-1;E&u;)u>>=1;if(0!==u?(E&=u-1,E+=u):E=0,g++,0==--R[m]){if(m===_)break;m=t[n+a[g]]}if(m>v&&(E&h)!==d){for(0===b&&(b=v),f+=y,w=m-b,k=1<<w;w+b<_&&(k-=R[w+b],!(k<=0));)w++,k<<=1;if(A+=1<<w,1===e&&A>852||2===e&&A>592)return 1;d=E&h,i[d]=v<<24|w<<16|f-s|0}}return 0!==E&&(i[f+E]=m-b<<24|64<<16|0),o.bits=v,0};const{Z_FINISH:Nt,Z_BLOCK:Ct,Z_TREES:Pt,Z_OK:Lt,Z_STREAM_END:Dt,Z_NEED_DICT:zt,Z_STREAM_ERROR:Mt,Z_DATA_ERROR:Ut,Z_MEM_ERROR:Bt,Z_BUF_ERROR:Zt,Z_DEFLATED:jt}=re,Kt=16180,Ht=16190,Ft=16191,Wt=16192,Vt=16194,$t=16199,qt=16200,Gt=16206,Jt=16209,Yt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Xt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Kt||t.mode>16211?1:0},en=e=>{if(Qt(e))return Mt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Kt,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Lt},tn=e=>{if(Qt(e))return Mt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,en(e)},nn=(e,t)=>{let n;if(Qt(e))return Mt;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Mt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,tn(e))},rn=(e,t)=>{if(!e)return Mt;const n=new Xt;e.state=n,n.strm=e,n.window=null,n.mode=Kt;const r=nn(e,t);return r!==Lt&&(e.state=null),r};let sn,an,on=!0;const cn=e=>{if(on){sn=new Int32Array(512),an=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Tt(1,e.lens,0,288,sn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Tt(2,e.lens,0,32,an,0,e.work,{bits:5}),on=!1}e.lencode=sn,e.lenbits=9,e.distcode=an,e.distbits=5},un=(e,t,n,r)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var ln={inflateReset:tn,inflateReset2:nn,inflateResetKeep:en,inflateInit:e=>rn(e,15),inflateInit2:rn,inflate:(e,t)=>{let n,r,i,s,a,o,c,u,l,d,h,f,p,m,g,y,_,v,w,b,k,A,E=0;const x=new Uint8Array(4);let R,I;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qt(e)||!e.output||!e.input&&0!==e.avail_in)return Mt;n=e.state,n.mode===Ft&&(n.mode=Wt),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,u=n.hold,l=n.bits,d=o,h=c,A=Lt;e:for(;;)switch(n.mode){case Kt:if(0===n.wrap){n.mode=Wt;break}for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,x[0]=255&u,x[1]=u>>>8&255,n.check=te(n.check,x,2,0),u=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Jt;break}if((15&u)!==jt){e.msg="unknown compression method",n.mode=Jt;break}if(u>>>=4,l-=4,k=8+(15&u),0===n.wbits&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=Jt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&u?16189:Ft,u=0,l=0;break;case 16181:for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==jt){e.msg="unknown compression method",n.mode=Jt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Jt;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(x[0]=255&u,x[1]=u>>>8&255,n.check=te(n.check,x,2,0)),u=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(x[0]=255&u,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,n.check=te(n.check,x,4,0)),u=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(x[0]=255&u,x[1]=u>>>8&255,n.check=te(n.check,x,2,0)),u=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(x[0]=255&u,x[1]=u>>>8&255,n.check=te(n.check,x,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>o&&(f=o),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),k)),512&n.flags&&4&n.wrap&&(n.check=te(n.check,r,f,s)),o-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;f=0;do{k=r[s+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=te(n.check,r,f,s)),o-=f,s+=f,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;f=0;do{k=r[s+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<o);if(512&n.flags&&4&n.wrap&&(n.check=te(n.check,r,f,s)),o-=f,s+=f,k)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(4&n.wrap&&u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Jt;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ft;break;case 16189:for(;l<32;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}e.adler=n.check=Yt(u),u=0,l=0,n.mode=Ht;case Ht:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=l,zt;e.adler=n.check=1,n.mode=Ft;case Ft:if(t===Ct||t===Pt)break e;case Wt:if(n.last){u>>>=7&l,l-=7&l,n.mode=Gt;break}for(;l<3;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=16193;break;case 1:if(cn(n),n.mode=$t,t===Pt){u>>>=2,l-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Jt}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Jt;break}if(n.length=65535&u,u=0,l=0,n.mode=Vt,t===Pt)break e;case Vt:n.mode=16195;case 16195:if(f=n.length,f){if(f>o&&(f=o),f>c&&(f=c),0===f)break e;i.set(r.subarray(s,s+f),a),o-=f,s+=f,c-=f,a+=f,n.length-=f;break}n.mode=Ft;break;case 16196:for(;l<14;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Jt;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.lens[S[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},A=Tt(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,A){e.msg="invalid code lengths set",n.mode=Jt;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[u&(1<<n.lenbits)-1],g=E>>>24,y=E>>>16&255,_=65535&E,!(g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(_<16)u>>>=g,l-=g,n.lens[n.have++]=_;else{if(16===_){for(I=g+2;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(u>>>=g,l-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Jt;break}k=n.lens[n.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===_){for(I=g+3;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}u>>>=g,l-=g,k=0,f=3+(7&u),u>>>=3,l-=3}else{for(I=g+7;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}u>>>=g,l-=g,k=0,f=11+(127&u),u>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Jt;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===Jt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Jt;break}if(n.lenbits=9,R={bits:n.lenbits},A=Tt(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,A){e.msg="invalid literal/lengths set",n.mode=Jt;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},A=Tt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,A){e.msg="invalid distances set",n.mode=Jt;break}if(n.mode=$t,t===Pt)break e;case $t:n.mode=qt;case qt:if(o>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=l,Et(e,h),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,u=n.hold,l=n.bits,n.mode===Ft&&(n.back=-1);break}for(n.back=0;E=n.lencode[u&(1<<n.lenbits)-1],g=E>>>24,y=E>>>16&255,_=65535&E,!(g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(y&&0==(240&y)){for(v=g,w=y,b=_;E=n.lencode[b+((u&(1<<v+w)-1)>>v)],g=E>>>24,y=E>>>16&255,_=65535&E,!(v+g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}u>>>=v,l-=v,n.back+=v}if(u>>>=g,l-=g,n.back+=g,n.length=_,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=Ft;break}if(64&y){e.msg="invalid literal/length code",n.mode=Jt;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(I=n.extra;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;E=n.distcode[u&(1<<n.distbits)-1],g=E>>>24,y=E>>>16&255,_=65535&E,!(g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(0==(240&y)){for(v=g,w=y,b=_;E=n.distcode[b+((u&(1<<v+w)-1)>>v)],g=E>>>24,y=E>>>16&255,_=65535&E,!(v+g<=l);){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}u>>>=v,l-=v,n.back+=v}if(u>>>=g,l-=g,n.back+=g,64&y){e.msg="invalid distance code",n.mode=Jt;break}n.offset=_,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(I=n.extra;l<I;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Jt;break}n.mode=16204;case 16204:if(0===c)break e;if(f=h-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Jt;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=a-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do{i[a++]=m[p++]}while(--f);0===n.length&&(n.mode=qt);break;case 16205:if(0===c)break e;i[a++]=n.length,c--,n.mode=qt;break;case Gt:if(n.wrap){for(;l<32;){if(0===o)break e;o--,u|=r[s++]<<l,l+=8}if(h-=c,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?te(n.check,i,h,a-h):Q(n.check,i,h,a-h)),h=c,4&n.wrap&&(n.flags?u:Yt(u))!==n.check){e.msg="incorrect data check",n.mode=Jt;break}u=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===o)break e;o--,u+=r[s++]<<l,l+=8}if(4&n.wrap&&u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Jt;break}u=0,l=0}n.mode=16208;case 16208:A=Dt;break e;case Jt:A=Ut;break e;case 16210:return Bt;default:return Mt}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=u,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<Jt&&(n.mode<Gt||t!==Nt))&&un(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?te(n.check,i,h,e.next_out-h):Q(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ft?128:0)+(n.mode===$t||n.mode===Vt?256:0),(0===d&&0===h||t===Nt)&&A===Lt&&(A=Zt),A},inflateEnd:e=>{if(Qt(e))return Mt;let t=e.state;return t.window&&(t.window=null),e.state=null,Lt},inflateGetHeader:(e,t)=>{if(Qt(e))return Mt;const n=e.state;return 0==(2&n.wrap)?Mt:(n.head=t,t.done=!1,Lt)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,s;return Qt(e)?Mt:(r=e.state,0!==r.wrap&&r.mode!==Ht?Mt:r.mode===Ht&&(i=1,i=Q(i,t,n,0),i!==r.check)?Ut:(s=un(e,t,n,n),s?(r.mode=16210,Bt):(r.havedict=1,Lt)))},inflateInfo:"pako inflate (from Nodeca project)"};var dn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const hn=Object.prototype.toString,{Z_NO_FLUSH:fn,Z_FINISH:pn,Z_OK:mn,Z_STREAM_END:gn,Z_NEED_DICT:yn,Z_STREAM_ERROR:_n,Z_DATA_ERROR:vn,Z_MEM_ERROR:wn}=re;function bn(e){this.options=nt({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;let n=ln.inflateInit2(this.strm,t.windowBits);if(n!==mn)throw new Error(ne[n]);if(this.header=new dn,ln.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=at(t.dictionary):"[object ArrayBuffer]"===hn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ln.inflateSetDictionary(this.strm,t.dictionary),n!==mn)))throw new Error(ne[n])}function kn(e,t){const n=new bn(t);if(n.push(e),n.err)throw n.msg||ne[n.err];return n.result}bn.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(a=t===~~t?t:!0===t?pn:fn,"[object ArrayBuffer]"===hn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=ln.inflate(n,a),s===yn&&i&&(s=ln.inflateSetDictionary(n,i),s===mn?s=ln.inflate(n,a):s===vn&&(s=yn));n.avail_in>0&&s===gn&&n.state.wrap>0&&0!==e[n.next_in];)ln.inflateReset(n),s=ln.inflate(n,a);switch(s){case _n:case vn:case yn:case wn:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||s===gn))if("string"===this.options.to){let e=ct(n.output,n.next_out),t=n.next_out-e,i=ot(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==mn||0!==o){if(s===gn)return s=ln.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},bn.prototype.onData=function(e){this.chunks.push(e)},bn.prototype.onEnd=function(e){e===mn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var An={Inflate:bn,inflate:kn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,kn(e,t)},ungzip:kn,constants:re};const{Deflate:En,deflate:xn,deflateRaw:Rn,gzip:In}=kt,{Inflate:Sn,inflate:On,inflateRaw:Tn,ungzip:Nn}=An;var Cn=On,Pn=n(87562),Ln=n.n(Pn),Dn=n(48764).Buffer;const zn=e=>"version"in e;function Mn(e){return new TextDecoder("utf-8").decode(e)}function Un(e){return(new TextEncoder).encode(e)}function Bn(e){return c().encode(e)}function Zn(e){return e.toString("base64")}function jn(e){return r.Buffer.from(e,"base64")}function Kn(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1})),n}function Hn(e,t={}){e.forEach((e=>{if("accounts"in e)Hn(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function Fn(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}class Wn extends TypeError{constructor(e,t){let n;const{message:r,...i}=e,{path:s}=e;super(0===s.length?r:"At path: "+s.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]}}}function Vn(e){return"object"==typeof e&&null!=e}function $n(e){return"string"==typeof e?JSON.stringify(e):""+e}function qn(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:s}=t,{type:a}=n,{refinement:o,message:c="Expected a value of type `"+a+"`"+(o?" with refinement `"+o+"`":"")+", but received: `"+$n(r)+"`"}=e;return{value:r,type:a,refinement:o,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*Gn(e,t,n,r){var i;Vn(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=qn(i,t,n,r);e&&(yield e)}}function*Jn(e,t,n){void 0===n&&(n={});const{path:r=[],branch:i=[e],coerce:s=!1,mask:a=!1}=n,o={path:r,branch:i};if(s&&(e=t.coercer(e,o),a&&"type"!==t.type&&Vn(t.schema)&&Vn(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=!0;for(const n of t.validator(e,o))c=!1,yield[n,void 0];for(let[n,u,l]of t.entries(e,o)){const t=Jn(u,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,u],coerce:s,mask:a});for(const r of t)r[0]?(c=!1,yield[r[0],void 0]):s&&(u=r[1],void 0===n?e=u:e instanceof Map?e.set(n,u):e instanceof Set?e.add(u):Vn(e)&&(e[n]=u))}if(c)for(const n of t.refiner(e,o))c=!1,yield[n,void 0];c&&(yield[void 0,e])}class Yn{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:r,refiner:i,coercer:s=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=s,this.validator=r?(e,t)=>Gn(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>Gn(i(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const n=er(e,t);if(n[0])throw n[0]}(e,this)}create(e){return Xn(e,this)}is(e){return Qn(e,this)}mask(e){return function(e,t){const n=er(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),er(e,this,t)}}function Xn(e,t){const n=er(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function Qn(e,t){return!er(e,t)[0]}function er(e,t,n){void 0===n&&(n={});const r=Jn(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return[new Wn(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,i[1]]}function tr(e,t){return new Yn({type:e,schema:null,validator:t})}function nr(e){return new Yn({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+$n(e)}})}function rr(e){const t=$n(e),n=typeof e;return new Yn({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator(n){return n===e||"Expected the literal `"+t+"`, but received: "+$n(n)}})}function ir(e){return new Yn({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function sr(){return tr("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+$n(e)))}function ar(e){return new Yn({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function or(){return tr("string",(e=>"string"==typeof e||"Expected a string, but received: "+$n(e)))}function cr(e){const t=Object.keys(e);return new Yn({type:"type",schema:e,*entries(n){if(Vn(n))for(const r of t)yield[r,n[r],e[r]]},validator(e){return Vn(e)||"Expected an object, but received: "+$n(e)}})}function ur(e){const t=e.map((e=>e.type)).join(" | ");return new Yn({type:"union",schema:null,coercer(t,n){return(e.find((e=>{const[n]=e.validate(t,{coerce:!0});return!n}))||lr()).coercer(t,n)},validator(n,r){const i=[];for(const t of e){const[...e]=Jn(n,t,r),[s]=e;if(!s[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+$n(n),...i]}})}function lr(){return tr("unknown",(()=>!0))}async function dr(e,t,n){if(t.length<=99)return await hr(e,t,n);{const r=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((n,r)=>e.slice(r*t,(r+1)*t)))}(t,99);return(await Promise.all(r.map((t=>hr(e,t,n))))).flat()}}async function hr(e,t,n){const r=null!=n?n:e.commitment,{value:i,context:s}=await e.getMultipleAccountsInfoAndContext(t,r);return i.map(((e,n)=>null===e?null:{publicKey:t[n],account:e,context:s}))}async function fr(e,t,n,r,s){var a;n&&n.length>0&&t.sign(...n);const o=t._compile(),c=o.serialize(),u=t._serialize(c).toString("base64"),l={encoding:"base64",commitment:null!=r?r:e.commitment};if(s){const e=(Array.isArray(s)?s:o.nonProgramIds()).map((e=>e.toBase58()));l.accounts={encoding:"base64",addresses:e}}n&&(l.sigVerify=!0);const d=[u,l],h=Xn(await e._rpcRequest("simulateTransaction",d),yr);if("error"in h){let e;if("data"in h.error&&(e=null===(a=h.error.data)||void 0===a?void 0:a.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(h.error.message,n)}throw new i.SendTransactionError("failed to simulate transaction: "+h.error.message,e)}return h.result}function pr(e){return function(e,t,n){return new Yn({...e,coercer:(r,i)=>Qn(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}(gr(e),mr,(t=>"error"in t?t:{...t,result:Xn(t.result,e)}))}const mr=gr(lr());function gr(e){return ur([cr({jsonrpc:rr("2.0"),id:or(),result:e}),cr({jsonrpc:rr("2.0"),id:or(),error:cr({code:lr(),message:or(),data:ar(tr("any",(()=>!0)))})})])}const yr=(_r=cr({err:ir(ur([cr({}),or()])),logs:ir(nr(or())),accounts:ar(ir(nr(ir(cr({executable:tr("boolean",(e=>"boolean"==typeof e)),owner:or(),lamports:sr(),data:nr(or()),rentEpoch:ar(sr())}))))),unitsConsumed:ar(sr())}),pr(cr({context:cr({slot:sr()}),value:_r})));var _r;class vr{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n,this.publicKey=null==t?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var r,s,a,o;if(void 0===n&&(n=this.opts),zn(e))t&&e.sign(t);else if(e.feePayer=null!==(r=e.feePayer)&&void 0!==r?r:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,t)for(const n of t)e.partialSign(n);const c=(e=await this.wallet.signTransaction(e)).serialize();try{return await br(this.connection,c,n)}catch(t){if(t instanceof kr){const n=Bn(zn(e)?(null===(s=e.signatures)||void 0===s?void 0:s[0])||new Uint8Array:null!==(a=e.signature)&&void 0!==a?a:new Uint8Array),r=await this.connection.getTransaction(n,{commitment:"confirmed"});if(r){const e=null===(o=r.meta)||void 0===o?void 0:o.logMessages;throw e?new i.SendTransactionError(t.message,e):t}throw t}throw t}}async sendAll(e,t){var n,r,s;void 0===t&&(t=this.opts);const a=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let o=e.map((e=>{var t,n;if(zn(e.tx)){let t=e.tx;return e.signers&&t.sign(e.signers),t}{let r=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=a,i.forEach((e=>{r.partialSign(e)})),r}}));const c=await this.wallet.signAllTransactions(o),u=[];for(let e=0;e<o.length;e+=1){const a=c[e],o=a.serialize();try{u.push(await br(this.connection,o,t))}catch(e){if(e instanceof kr){const t=Bn(zn(a)?(null===(n=a.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=a.signature)&&void 0!==r?r:new Uint8Array),o=await this.connection.getTransaction(t,{commitment:"confirmed"});if(o){const t=null===(s=o.meta)||void 0===s?void 0:s.logMessages;throw t?new i.SendTransactionError(e.message,t):e}throw e}throw e}}return u}async simulate(e,t,n,r){let i,s=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(zn(e)?(t&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=s,t&&(e=await this.wallet.signTransaction(e)),i=await fr(this.connection,e,t,n,r)),i.value.err)throw new wr(i.value);return i.value}}class wr extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function br(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await e.sendRawTransaction(t,r),s=(await e.confirmTransaction(i,n&&n.commitment)).value;if(s.err)throw new kr(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class kr extends Error{constructor(e){super(e)}}function Ar(){return null===Er?vr.local():Er}let Er=null;new Set(["anchor-deprecated-state","debug-logs"]);const xr=new Map;function Rr(e){return void 0!==xr.get(e)}class Ir extends Error{constructor(e){super(e),this.name="IdlError"}}class Sr{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,s=[];for(let a=0;a<e.length;a++){if(r.exec(e[a])){s.pop();continue}const o=null===(t=n.exec(e[a]))||void 0===t?void 0:t[1];o&&s.push(new i.PublicKey(o))}return new Sr(s)}}class Or extends Error{constructor(e,t,n,r,i,s){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:s,origin:i},this._programErrorStack=Sr.parse(r)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const n=e[t],r=[n];let s;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,a=n.exec(e[t+2])[1],o=n.exec(e[t+4])[1];s=[new i.PublicKey(a),new i.PublicKey(o)],r.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,i=n.exec(e[t+1])[2],a=n.exec(e[t+2])[2];r.push(...e.slice(t+1,t+3)),s=[i,a]}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),o=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[t,n,i]=a.slice(1,4),o={code:t,number:parseInt(n)};return new Or(o,i,r,e,void 0,s)}if(o){const[t,n,i,a,c]=o.slice(1,6),u={code:i,number:parseInt(a)},l={file:t,line:parseInt(n)};return new Or(u,c,r,e,l,s)}if(c){const[t,n,i,a]=c.slice(1,5),o=t,u={code:n,number:parseInt(i)};return new Or(u,a,r,e,o,s)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Tr extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=Sr.parse(n))}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(e){return null}let s=t.get(i);return void 0!==s?new Tr(i,s,e.logs):(s=Cr.get(i),void 0!==s?new Tr(i,s,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function Nr(e,t){Rr("debug-logs")&&console.log("Translating error:",e);const n=Or.parse(e.logs);if(n)return n;const r=Tr.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return"programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=Sr.parse(e.logs),new Proxy(e,t)}return e}const Cr=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"Deprecated Error, feel free to replace with something else"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2020,"A required account for the constraint is None"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[3016,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[3017,"The account was duplicated for more than one reallocation"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pr.apply(this,arguments)},Lr=function(){return Lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lr.apply(this,arguments)};function Dr(e){return e.toLowerCase()}var zr=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Mr=/[^A-Z0-9]+/gi;function Ur(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function Br(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?zr:n,i=t.stripRegexp,s=void 0===i?Mr:i,a=t.transform,o=void 0===a?Dr:a,c=t.delimiter,u=void 0===c?" ":c,l=Ur(Ur(e,r,"$1\0$2"),s,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(o).join(u)}(e,Lr({delimiter:"."},t))}class Zr{static fieldLayout(e,t){const n=void 0!==e.name?l()(e.name):void 0;switch(e.type){case"bool":return d.bool(n);case"u8":return d.u8(n);case"i8":return d.i8(n);case"u16":return d.u16(n);case"i16":return d.i16(n);case"u32":return d.u32(n);case"i32":return d.i32(n);case"f32":return d.f32(n);case"u64":return d.u64(n);case"i64":return d.i64(n);case"f64":return d.f64(n);case"u128":return d.u128(n);case"i128":return d.i128(n);case"u256":return d.u256(n);case"i256":return d.i256(n);case"bytes":return d.vecU8(n);case"string":return d.str(n);case"publicKey":return d.publicKey(n);default:if("vec"in e.type)return d.vec(Zr.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return d.option(Zr.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){if(!t)throw new Ir("User defined types not provided");const r=e.type.defined,i=t.filter((e=>e.name===r));if(1!==i.length)throw new Ir(`Type not found: ${JSON.stringify(e)}`);return Zr.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],s=Zr.fieldLayout({name:void 0,type:r},t);return d.array(s,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],n){switch(e.type.kind){case"struct":{const r=e.type.fields.map((e=>Zr.fieldLayout(e,t)));return d.struct(r,n)}case"enum":{let r=e.type.variants.map((e=>{const n=l()(e.name);if(!e.fields)return d.struct([],n);const r=e.fields.map(((e,n)=>(null==e?void 0:e.name)?Zr.fieldLayout(e,t):Zr.fieldLayout({type:e,name:n.toString()},t)));return d.struct(r,n)}));return void 0!==n?d.rustEnum(r).replicate(n):d.rustEnum(r,n)}case"alias":return Zr.fieldLayout({type:e.type.value,name:e.name},t)}}}const jr="global";class Kr{constructor(e){this.idl=e,this.ixLayout=Kr.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=Fr(jr,e.name);t.set(c().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode(jr,e,t)}_encode(e,t,n){const i=r.Buffer.alloc(1e3),s=l()(t),a=this.ixLayout.get(s);if(!a)throw new Error(`Unknown method: ${s}`);const o=a.encode(n,i),c=i.slice(0,o);return r.Buffer.concat([Fr(e,t),c])}static parseIxLayout(e){const t=e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return Zr.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=l()(t.name);return[r,d.struct(n,r)]}));return new Map(t)}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?r.Buffer.from(e,"hex"):c().decode(e));let n=c().encode(e.slice(0,8)),i=e.slice(8);const s=this.sighashLayouts.get(n);return s?{data:s.layout.decode(i),name:s.name}:null}format(e,t){return Hr.format(e,t,this.idl)}}class Hr{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:Hr.formatIdlType(t.type),data:Hr.formatIdlData(t,e.data[t.name],n.types)}))),s=Hr.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<s.length?{name:s[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return Hr.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){switch(e.type.kind){case"struct":{const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.find((t=>t.name===e));if(!i)throw new Error("Unable to find type");return e+": "+Hr.formatIdlData(i,t[e],n)})).join(", ")+" }"}case"enum":if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],s=t[i],a=Object.keys(s).map((e=>{var t;const a=s[e],o=null===(t=r[i])||void 0===t?void 0:t.find((t=>t.name===e));if(!o)throw new Error("Unable to find variant");return e+": "+Hr.formatIdlData(o,a,n)})).join(", "),o=l()(i,{pascalCase:!0});return 0===a.length?o:`${o} { ${a} }`}return"Tuple formatting not yet implemented";case"alias":return Hr.formatIdlType(e.type.value)}}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return Hr.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}function Fr(e,t){var n;let i=`${e}:${void 0===n&&(n={}),Br(t,Pr({delimiter:"_"},n))}`;return r.Buffer.from((0,h.JQ)(i).slice(0,8))}function Wr(e,t){switch(t.type.kind){case"struct":return t.type.fields.map((t=>Vr(e,t.type))).reduce(((e,t)=>e+t),0);case"enum":{const n=t.type.variants.map((t=>t.fields?t.fields.map((t=>Vr(e,"object"==typeof t&&"name"in t?t.type:t))).reduce(((e,t)=>e+t),0):0));return Math.max(...n)+1}case"alias":return Vr(e,t.type.value)}}function Vr(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+Vr(e,t.option);if("coption"in t)return 4+Vr(e,t.coption);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new Ir(`Type not found: ${JSON.stringify(t)}`);return Wr(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return Vr(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function $r(e){return Dn.from((0,h.JQ)(e).slice(0,8))}class qr{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,Zr.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const s=i.encode(t,n);let a=n.slice(0,s),o=qr.accountDiscriminator(e);return r.Buffer.concat([o,a])}decode(e,t){if(qr.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){const t=e.slice(0,8),n=Array.from(this.accountLayouts.keys()).find((e=>qr.accountDiscriminator(e).equals(t)));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,e)}decodeUnchecked(e,t){const n=t.subarray(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=qr.accountDiscriminator(e);return{offset:0,bytes:c().encode(t?r.Buffer.concat([n,t]):n)}}size(e){var t;return 8+(null!==(t=Wr(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return $r(`account:${l()(e,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)}}class Gr{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,Zr.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[Zn((t=e.name,$r(`event:${t}`))),e.name];var t})))}decode(e){let t;try{t=jn(e)}catch(e){return null}const n=Zn(t.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return{data:i.decode(t.slice(8)),name:r}}}class Jr{constructor(e){if(void 0===e.types)return void(this.typeLayouts=new Map);const t=e.types.map((t=>[t.name,Zr.typeDefLayout(t,e.types)]));this.typeLayouts=new Map(t),this.idl=e}encode(e,t){const n=r.Buffer.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const s=i.encode(t,n);return n.slice(0,s)}decode(e,t){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(t)}}class Yr{constructor(e){this.instruction=new Kr(e),this.accounts=new qr(e),this.events=new Gr(e),this.types=new Jr(e)}}var Xr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};class Qr{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var ei=Qr;class ti extends Qr{isCount(){throw new Error("ExternalLayout is abstract")}}class ni extends ti{constructor(e,t,n){if(!(e instanceof Qr))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof ri||this.layout instanceof ii}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class ri extends Qr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class ii extends Qr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const si=Math.pow(2,32);function ai(e){const t=Math.floor(e/si);return{hi32:t,lo32:e-t*si}}function oi(e,t){return e*si+t}class ci extends Qr{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return oi(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ai(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class ui extends Qr{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return oi(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ai(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class li extends Qr{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof Qr),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,s=0;for(const r of this.fields){let a=r.span;if(s=0<a?a:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(s=r.encode(i,t,n),0>a&&(a=r.getSpan(t,n)))}i=n,n+=a}return i+s-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class di{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class hi extends di{constructor(e,t){if(!(e instanceof ti&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class fi extends Qr{constructor(e,t,n){const r=e instanceof ri||e instanceof ii;if(r)e=new hi(new ni(e));else if(e instanceof ti&&e.isCount())e=new hi(e);else if(!(e instanceof di))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof Qr))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let s=this.registry[i];if(void 0===s){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=this.defaultLayout.decode(e,t+a)}else n=s.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(e[r.property],t,n),s+i.encode(e[i.property],t,n+s)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new pi(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Dn.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class pi extends Qr{constructor(e,t,n,r){if(!(e instanceof fi))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Qr))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class mi extends Qr{constructor(e,t){if(!(e instanceof ti&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ti||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof ti&&(r=e.length),!Dn.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",((s=this).property?i+"["+s.property+"]":i)+" requires (length "+r+") Buffer as src"));var i,s;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof ti&&this.length.encode(r,t,n),r}}var gi=(e,t,n)=>new ni(e,t,n),yi=e=>new ri(4,e),_i=e=>new ui(e),vi=(e,t,n)=>new li(e,t,n),wi=(e,t,n)=>new fi(e,t,n),bi=(e,t)=>new mi(e,t);class ki extends ei{constructor(e){super(-1,e),this.property=e,this.layout=vi([yi("length"),yi("lengthPadding"),bi(gi(yi(),-8),"chars")],this.property)}encode(e,t,n=0){if(null==e)return this.layout.span;const r={chars:Dn.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return yi().span+yi().span+new(a())(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Ai(e){return new ki(e)}function Ei(e){return bi(32,e)}const xi=wi(yi("instruction"));xi.addVariant(0,vi([_i("lamports"),_i("space"),Ei("owner")]),"createAccount"),xi.addVariant(1,vi([Ei("owner")]),"assign"),xi.addVariant(2,vi([_i("lamports")]),"transfer"),xi.addVariant(3,vi([Ei("base"),Ai("seed"),_i("lamports"),_i("space"),Ei("owner")]),"createAccountWithSeed"),xi.addVariant(4,vi([Ei("authorized")]),"advanceNonceAccount"),xi.addVariant(5,vi([_i("lamports")]),"withdrawNonceAccount"),xi.addVariant(6,vi([Ei("authorized")]),"initializeNonceAccount"),xi.addVariant(7,vi([Ei("authorized")]),"authorizeNonceAccount"),xi.addVariant(8,vi([_i("space")]),"allocate"),xi.addVariant(9,vi([Ei("base"),Ai("seed"),_i("space"),Ei("owner")]),"allocateWithSeed"),xi.addVariant(10,vi([Ei("base"),Ai("seed"),Ei("owner")]),"assignWithSeed"),xi.addVariant(11,vi([_i("lamports"),Ai("seed"),Ei("owner")]),"transferWithSeed");Math.max(...Object.values(xi.registry).map((e=>e.span)));class Ri extends ei{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Ii(e){return new Ri(bi(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}vi([yi("version"),yi("state"),Ii("authorizedPubkey"),Ii("nonce"),vi([(Si="lamportsPerSignature",new ci(Si))],"feeCalculator")]);var Si;function Oi(e,...t){let n=[r.Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(e instanceof r.Buffer?e:Fn(e).toBuffer())}));const[s]=i.PublicKey.findProgramAddressSync(n,Fn(e));return s}const Ti=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ni=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Ci={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:Xr,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,a="ArrayBuffer"in e;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,r,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),_.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];b.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(r,s){var a=new v(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function c(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;r(new b(i,n))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&i&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",c)}),o.send(void 0===a._bodyInit?null:a._bodyInit)}))}A.polyfill=!0,e.fetch||(e.fetch=A,e.Headers=h,e.Request=v,e.Response=b),t.Headers=h,t.Request=v,t.Response=b,t.fetch=A,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Ci,Ci.exports);d.rustEnum([d.struct([],"uninitialized"),d.struct([d.option(d.publicKey(),"authorityAddress")],"buffer"),d.struct([d.publicKey("programdataAddress")],"program"),d.struct([d.u64("slot"),d.option(d.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,d.u32());function Pi(e){return"accounts"in e}const Li=d.struct([d.publicKey("authority"),d.vecU8("data")]);function Di(e,t){var n,r;let i={};const s=e.args?e.args.length:0;if(t.length>s){if(t.length!==s+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class zi{static build(e,t,n){if("_inner"===e.name)throw new Ir("the _inner name is reserved");const r=(...s)=>{const[a,o]=Di(e,[...s]);Hn(e.accounts,o.accounts);const c=r.accounts(o.accounts);return void 0!==o.remainingAccounts&&c.push(...o.remainingAccounts),Rr("debug-logs")&&console.log("Outgoing account metas:",c),new i.TransactionInstruction({keys:c,programId:n,data:t(e.name,Kn(e,...a))})};return r.accounts=t=>zi.accountsArray(t,e.accounts,n,e.name),r}static accountsArray(e,t,n,r){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const i=e[t.name];return zi.accountsArray(i,t.accounts,n,r).flat()}{const i=t;let s;try{s=Fn(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const a=i.isOptional&&s.equals(n);return{pubkey:s,isWritable:i.isMut&&!a,isSigner:i.isSigner&&!a}}})).flat():[]}}class Mi{static build(e,t){return(...n)=>{var r,s,a;const[,o]=Di(e,[...n]),c=new i.Transaction;if(o.preInstructions&&o.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=o.preInstructions)||void 0===r||r.forEach((e=>c.add(e))),null===(s=o.instructions)||void 0===s||s.forEach((e=>c.add(e))),c.add(t(...n)),null===(a=o.postInstructions)||void 0===a||a.forEach((e=>c.add(e))),c}}}class Ui{static build(e,t,n,r){return async(...i)=>{var s;const a=t(...i),[,o]=Di(e,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(a,null!==(s=o.signers)&&void 0!==s?s:[],o.options)}catch(e){throw Nr(e,n)}}}}class Bi{static build(e,t,n,r){var i;const s={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const a=l()(i.name);s[a]=new Zi(e,i,n,r,t)})),s}}class Zi{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:Ar(),this._coder=null!=i?i:new Yr(e),this._size=this._coder.accounts.size(t)}async fetchNullable(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);return n}async fetchNullableAndContext(e,t){const n=await this.getAccountInfoAndContext(e,t),{value:r,context:i}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,t){const{data:n,context:r}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:r}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map((e=>e?e.data:null))}async fetchMultipleAndContext(e,t){return(await dr(this._provider.connection,e.map((e=>Fn(e))),t)).map((e=>{if(null==e)return null;const{account:t,context:n}=e;return{data:this._coder.accounts.decode(this._idlAccount.name,t.data),context:n}}))}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Dn?e:void 0),n=[];return null!=(null==t?void 0:t.offset)&&null!=(null==t?void 0:t.bytes)&&n.push({memcmp:{offset:t.offset,bytes:t.bytes}}),null!=(null==t?void 0:t.dataSize)&&n.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){const n=ji.get(e.toString());if(n)return n.ee;const r=new(Ln());e=Fn(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return ji.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=ji.get(e.toString());t?ji&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{ji.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return i.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await Oi(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Fn(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(Fn(e),t)}}const ji=new Map,Ki="Program log: ",Hi="Program data: ",Fi=Ki.length,Wi=Hi.length;class Vi{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new $i(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{if(!e.err)for(const n of this._eventParser.parseLogs(e.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,t.slot,e.signature)}}))}}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class $i{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const n=new Gi(e),r=new qi;let i=n.next();for(;null!==i;){let[e,s,a]=this.handleLog(r,i,t);e&&(yield e),s&&r.push(s),a&&r.pop(),i=n.next()}}handleLog(e,t,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,n):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(Ki)||e.startsWith(Hi)){const n=e.startsWith(Ki)?e.slice(Fi):e.slice(Wi),r=this.coder.events.decode(n);if(t&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class qi{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class Gi{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class Ji{static build(e,t,n,r,i,s,a){return async(...o)=>{var c;const u=t(...o),[,l]=Di(e,[...o]);let d;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{d=await r.simulate(u,l.signers,null===(c=l.options)||void 0===c?void 0:c.commitment)}catch(e){throw Nr(e,n)}if(void 0===d)throw new Error("Unable to simulate transaction");const h=d.logs;if(!h)throw new Error("Simulated logs not found");const f=[];if(a.events){let e=new $i(s,i);for(const t of e.parseLogs(h))f.push(t)}return{events:f,raw:h}}}}function Yi(e){return new es(bi(8),(e=>ns.fromBuffer(e)),(e=>e.toBuffer()),e)}function Xi(e){return new es(bi(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}function Qi(e,t){return new ts(e,t)}class es extends ei{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class ts extends ei{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=yi()}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class ns extends(a()){toBuffer(){const e=super.toArray().reverse(),t=Dn.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Dn.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new ns([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}const rs=vi([Xi("mint"),Xi("owner"),Yi("amount"),Qi(Xi(),"delegate"),(e=>{const t=wi((e=>new ri(1,e))("discriminator"),null,"state");return t.addVariant(0,vi([]),"uninitialized"),t.addVariant(1,vi([]),"initialized"),t.addVariant(2,vi([]),"frozen"),t})(),Qi(Yi(),"isNative"),Yi("delegatedAmount"),Qi(Xi(),"closeAuthority")]);class is{constructor(e,t,n,r,i,s,a,o){this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=a,this._customResolver=o,this._args=e,this._accountStore=new ss(n,s,this._programId)}args(e){this._args=e}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveOptionalsHelper(e,t){const n={};for(const r of t){const t=r.name,i=e[t];void 0!==i&&(os(i)?Pi(r)?n[t]=this.resolveOptionalsHelper(i,r.accounts):n[t]=cs(i,!0):null!==i?n[t]=Fn(i):r.isOptional&&(n[t]=this._programId))}return n}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce(((e,t)=>e&&e[t]),this._accounts);if(t&&t.toBase58)return t}set(e,t){let n=this._accounts;e.forEach(((r,i)=>{i==e.length-1&&(n[r]=t),n[r]=n[r]||{},n=n[r]}))}async resolveConst(e,t=[]){for(let n=0;n<e.length;n+=1){const r=e[n],i=r.accounts;i&&await this.resolveConst(i,[...t,l()(r.name)]);const s=r,a=l()(r.name);if(s.isSigner&&!this.get([...t,a])){if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...t,a],this._provider.wallet.publicKey)}Reflect.has(is.CONST_ACCOUNTS,a)&&!this.get([...t,a])&&this.set([...t,a],is.CONST_ACCOUNTS[a])}}_resolveEventCpi(e,t=[]){for(const n in e){const r=e[n],s=r.accounts;s&&this._resolveEventCpi(s,[...t,l()(r.name)]);const a=+n+1;if(a===e.length)return;const o=l()(e[n].name),c=l()(e[a].name);if("eventAuthority"===o&&"program"===c){const e=[...t,o],n=[...t,c];return this.get(e)||this.set(e,i.PublicKey.findProgramAddressSync([Dn.from("__event_authority")],this._programId)[0]),void(this.get(n)||this.set(n,this._programId))}}}async resolvePdas(e,t=[]){let n=0;for(let r=0;r<e.length;r+=1){const i=e[r],s=i.accounts;s&&(n+=await this.resolvePdas(s,[...t,l()(i.name)]));const a=i,o=l()(i.name);a.pda&&a.pda.seeds.length>0&&!this.get([...t,o])&&Boolean(await this.autoPopulatePda(a,t))&&(n+=1)}return n}async resolveRelations(e,t=[]){let n=0;for(let r=0;r<e.length;r+=1){const i=e[r],s=i.accounts;s&&(n+=await this.resolveRelations(s,[...t,l()(i.name)]));const a=i.relations||[],o=l()(i.name),c=[...t,o],u=this.get(c);if(u){const e=a.filter((e=>!this.get([...t,l()(e)])));if(n+=e.length,e.length>0){const n=await this._accountStore.fetchAccount({publicKey:u});await Promise.all(e.map((async e=>{const r=l()(e);return this.set([...t,r],n[r]),n[r]})))}}}return n}async autoPopulatePda(e,t=[]){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e,t))));if(n.some((e=>void 0===e)))return;const r=await this.parseProgramId(e,t);if(!r)return;const[s]=await i.PublicKey.findProgramAddress(n,r);this.set([...t,l()(e.name)],s)}async parseProgramId(e,t=[]){var n;if(!(null===(n=e.pda)||void 0===n?void 0:n.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId,t);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}getType(e,t=[]){if(t.length>0&&e.defined){const n=this._idlTypes.find((t=>t.name===e.defined));if(!n)throw new Error(`Cannot find type ${e.defined}`);const r=n.type.fields.find((e=>e.name===t[0]));return this.getType(r.type,t.slice(1))}return e}toBufferConst(e){return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),e.value)}async toBufferArg(e){const t=this.argValue(e);if(void 0!==t)return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),t)}argValue(e){const t=e.path.split("."),n=l()(t[0]),r=this._idlIx.args.findIndex((e=>e.name===n));if(-1===r)throw new Error(`Unable to find argument for seed: ${n}`);return t.slice(1).reduce(((e,t)=>(e||{})[t]),this._args[r])}async toBufferAccount(e,t=[]){const n=await this.accountValue(e,t);if(n)return this.toBufferValue(e.type,n)}async accountValue(e,t=[]){const n=e.path.split("."),r=n[0],i=this.get([...t,l()(r)]);if(null===i)throw new Error("fieldPubkey is null");if(1===n.length)return i;const s=await this._accountStore.fetchAccount({publicKey:i,name:e.account});return this.parseAccountValue(s,n.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[l()(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return Dn.from([t]);case"u16":let n=Dn.alloc(2);return n.writeUInt16LE(t),n;case"u32":let r=Dn.alloc(4);return r.writeUInt32LE(t),r;case"u64":let i=Dn.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return Dn.from(Un(t));case"publicKey":return t.toBuffer();default:if(e.array)return Dn.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}is.CONST_ACCOUNTS={associatedTokenProgram:Ni,rent:i.SYSVAR_RENT_PUBKEY,systemProgram:i.SystemProgram.programId,tokenProgram:Ti,clock:i.SYSVAR_CLOCK_PUBKEY};class ss{constructor(e,t,n){this._provider=e,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=t}async ensureIdl(e){if(!this._idls[e.toBase58()]){const t=await hs.fetchIdl(e,this._provider);if(t){const n=new hs(t,e,this._provider);this._idls[e.toBase58()]=n.account}}return this._idls[e.toBase58()]}async fetchAccount({publicKey:e,name:t,programId:n=this._programId}){const r=e.toString();if(!this._cache.has(r))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${r}`);const n=(i=t.data,rs.decode(i));this._cache.set(r,n)}else if(t){const i=await this.ensureIdl(n);if(i){const n=i[l()(t)];if(n){const t=await n.fetch(e);this._cache.set(r,t)}}}else{const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${r}`);const n=t.data,i=await this.ensureIdl(t.owner);if(i){const e=Object.values(i)[0];if(!e)throw new Error("No accounts for this program");const t=e.coder.accounts.decodeAny(n);this._cache.set(r,t)}}var i;return this._cache.get(r)}}class as{static build(e,t,n,r,i,s,a,o,c,u,l){return(...d)=>new us(d,r,i,s,a,o,e,t,n,c,u,l)}}function os(e){return"object"==typeof e&&null!==e&&!("_bn"in e)}function cs(e,t){const n={};for(const r in e){const i=e[r];if(null!==i)n[r]=os(i)?cs(i,!0):Fn(i);else if(t)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class us{constructor(e,t,n,r,i,s,a,o,c,u,l,d){this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=s,this._programId=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=e,this._accountsResolver=new is(e,this._accounts,a,o,c,u,l,d)}args(e){this._args=e,this._accountsResolver.args(e)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ls{static build(e,t,n,r){const i=t.accounts.find((e=>e.isMut)),s=!!t.returns;if(i||!s)return;return async(...i)=>{var s,a;let o=await n(...i);const c=`Program return: ${e} `;let u=o.raw.find((e=>e.startsWith(c)));if(!u)throw new Error("View expected return log");let l=jn(u.slice(c.length)),d=t.returns;if(!d)throw new Error("View expected return type");return Zr.fieldLayout({type:d},Array.from([...null!==(s=r.accounts)&&void 0!==s?s:[],...null!==(a=r.types)&&void 0!==a?a:[]])).decode(l)}}}class ds{static build(e,t,n,r,i){const s={},a={},o={},c={},u={},d={},h=function(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}(e),f=e.accounts?Bi.build(e,t,n,r):{};return e.instructions.forEach((p=>{const m=zi.build(p,((e,n)=>t.instruction.encode(e,n)),n),g=Mi.build(p,m),y=Ui.build(p,g,h,r),_=Ji.build(p,g,h,r,t,n,e),v=ls.build(n,p,_,e),w=as.build(r,n,p,m,g,y,_,v,f,e.types||[],i&&i(p)),b=l()(p.name);a[b]=m,o[b]=g,s[b]=y,c[b]=_,u[b]=w,v&&(d[b]=v)})),[s,a,o,f,c,u,d]}}class hs{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t,n,r,i){t=Fn(t),n||(n=Ar()),this._idl=e,this._provider=n,this._programId=t,this._coder=null!=r?r:new Yr(e),this._events=new Vi(this._programId,n,this._coder);const[s,a,o,c,u,l,d]=ds.build(e,this._coder,t,n,null!=i?i:()=>{});this.rpc=s,this.instruction=a,this.transaction=o,this.account=c,this.simulate=u,this.methods=l,this.views=d}static async at(e,t){const n=Fn(e),r=await hs.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new hs(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:Ar();const n=Fn(e),r=await async function(e){const t=(await i.PublicKey.findProgramAddress([],e))[0];return await i.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),s=await t.connection.getAccountInfo(r);if(!s)return null;let a=(o=s.data.slice(8),Li.decode(o));var o;const c=Cn(a.data);return JSON.parse(Mn(c))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new i.PublicKey("11111111111111111111111111111111")},81441:function(e,t,n){"use strict";var r=n(48764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i256=t.u256=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const s=n(20698),a=n(29363),o=i(n(13550));var c=n(20698);Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends s.Layout{constructor(e,t,n){super(e,n),this.blob=(0,s.blob)(e),this.signed=t}decode(e,t=0){const n=new o.default(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,t,n=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(r,"le",this.span),t,n)}}function l(e){return new u(8,!1,e)}t.u64=l,t.i64=function(e){return new u(8,!0,e)},t.u128=function(e){return new u(16,!1,e)},t.i128=function(e){return new u(16,!0,e)},t.u256=function(e){return new u(32,!1,e)},t.i256=function(e){return new u(32,!0,e)};class d extends s.Layout{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}t.publicKey=function(e){return new d((0,s.blob)(32),(e=>new a.PublicKey(e)),(e=>e.toBuffer()),e)};class h extends s.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0,s.u8)()}encode(e,t,n=0){return null==e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+1)+1)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function f(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function p(e){return e?1:0}function m(e){const t=(0,s.u32)("length"),n=(0,s.struct)([t,(0,s.blob)((0,s.offset)(t,-t.span),"data")]);return new d(n,(({data:e})=>e),(e=>({data:e})),e)}t.option=function(e,t){return new h(e,t)},t.bool=function(e){return new d((0,s.u8)(),f,p,e)},t.vec=function(e,t){const n=(0,s.u32)("length"),r=(0,s.struct)([n,(0,s.seq)(e,(0,s.offset)(n,-n.span),"values")]);return new d(r,(({values:e})=>e),(e=>({values:e})),t)},t.tagged=function(e,t,n){const r=(0,s.struct)([l("tag"),t.replicate("data")]);return new d(r,(function({tag:t,data:n}){if(!t.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return n}),(t=>({tag:e,data:t})),n)},t.vecU8=m,t.str=function(e){return new d(m(),(e=>e.toString("utf-8")),(e=>r.from(e,"utf-8")),e)},t.rustEnum=function(e,t,n){const r=(0,s.union)(null!=n?n:(0,s.u8)(),t);return e.forEach(((e,t)=>r.addVariant(t,e,e.property))),r},t.array=function(e,t,n){const r=(0,s.struct)([(0,s.seq)(e,t,"values")]);return new d(r,(({values:e})=>e),(e=>({values:e})),n)};class g extends s.Layout{constructor(e,t,n){super(e.span+t.span,n),this.keyLayout=e,this.valueLayout=t}decode(e,t){t=t||0;return[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,n){n=n||0;const r=this.keyLayout.encode(e[0],t,n);return r+this.valueLayout.encode(e[1],t,n+r)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}t.map=function(e,t,n){const r=(0,s.u32)("length"),i=(0,s.struct)([r,(0,s.seq)(new g(e,t),(0,s.offset)(r,-r.span),"values")]);return new d(i,(({values:e})=>new Map(e)),(e=>({values:Array.from(e.entries())})),n)}},66702:function(e,t,n){"use strict";var r=n(89509).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==t[a])throw new TypeError(s+" is ambiguous");t[a]=i}var o=e.length,c=e.charAt(0),u=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,s=0;e[n]===c;)i++,n++;for(var a=(e.length-n)*u+1>>>0,l=new Uint8Array(a);n<e.length;){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,f=a-1;(0!==d||h<s)&&-1!==f;f--,h++)d+=o*l[f]>>>0,l[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");s=h,n++}for(var p=a-s;p!==a&&0===l[p];)p++;var m=r.allocUnsafe(i+(a-p));m.fill(0,0,i);for(var g=i;p!==a;)m[g++]=l[p++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,s=0,a=t.length;s!==a&&0===t[s];)s++,n++;for(var u=(a-s)*l+1>>>0,d=new Uint8Array(u);s!==a;){for(var h=t[s],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var m=u-i;m!==u&&0===d[m];)m++;for(var g=c.repeat(n);m<u;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},15882:function(e,t,n){var r=n(66702);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},70654:function(e){"use strict";const t=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,a=new RegExp("^"+s.source),o=new RegExp(s.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(e,i)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const s=!1===i.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(i.locale),u=!1===i.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(i.locale);if(1===e.length)return i.pascalCase?u(e):s(e);return e!==s(e)&&(e=((e,r,i)=>{let s=!1,a=!1,o=!1;for(let c=0;c<e.length;c++){const u=e[c];s&&t.test(u)?(e=e.slice(0,c)+"-"+e.slice(c),s=!1,o=a,a=!0,c++):a&&o&&n.test(u)?(e=e.slice(0,c-1)+"-"+e.slice(c-1),o=a,a=!1,s=!0):(s=r(u)===u&&i(u)!==u,o=a,a=i(u)===u&&r(u)!==u)}return e})(e,s,u)),e=e.replace(a,""),e=i.preserveConsecutiveUppercase?((e,t)=>(r.lastIndex=0,e.replace(r,(e=>t(e)))))(e,s):s(e),i.pascalCase&&(e=u(e.charAt(0))+e.slice(1)),((e,t)=>(o.lastIndex=0,c.lastIndex=0,e.replace(o,((e,n)=>t(n))).replace(c,(e=>t(e)))))(e,u)};e.exports=u,e.exports.default=u},87562:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,s||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,s,a){var o=n?n+e:e;if(!this._events[o])return!1;var c,u,l=this._events[o],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,s),!0;case 6:return l.fn.call(l.context,t,r,i,s,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||a(this,s);else{for(var c=0,u=[],l=o.length;c<l;c++)(o[c].fn!==t||i&&!o[c].once||r&&o[c].context!==r)&&u.push(o[c]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},23204:function(e){"use strict";const t=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();return e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let i=0;i<e.length;i++){const s=e[i];t&&/[a-zA-Z]/.test(s)&&s.toUpperCase()===s?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(s)&&s.toLowerCase()===s?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=!1,t=!0):(t=s.toLowerCase()===s&&s.toUpperCase()!==s,r=n,n=s.toUpperCase()===s&&s.toLowerCase()!==s)}return e})(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n;var n};e.exports=t,e.exports.default=t},42672:function(e,t,n){var r=n(21314),i=n(21771);function s(t,n,a){return i()?(e.exports=s=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=s=function(e,t,n){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return n&&r(s,n.prototype),s},e.exports.__esModule=!0,e.exports.default=e.exports),s.apply(null,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},15143:function(e){e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},12665:function(e,t,n){var r=n(48374),i=n(21314),s=n(15143),a=n(42672);function o(t){var n="function"==typeof Map?new Map:void 0;return e.exports=o=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},1604:function(e,t,n){"use strict";var r,i;n.d(t,{z:function(){return Rt}}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(r||(r={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(i||(i={}));const s=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),a=e=>{switch(typeof e){case"undefined":return s.undefined;case"string":return s.string;case"number":return isNaN(e)?s.nan:s.number;case"boolean":return s.boolean;case"function":return s.function;case"bigint":return s.bigint;case"symbol":return s.symbol;case"object":return Array.isArray(e)?s.array:null===e?s.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?s.promise:"undefined"!=typeof Map&&e instanceof Map?s.map:"undefined"!=typeof Set&&e instanceof Set?s.set:"undefined"!=typeof Date&&e instanceof Date?s.date:s.object;default:return s.unknown}},o=r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class c extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof c))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}c.create=e=>new c(e);const u=(e,t)=>{let n;switch(e.code){case o.invalid_type:n=e.received===s.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case o.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,r.jsonStringifyReplacer)}`;break;case o.unrecognized_keys:n=`Unrecognized key(s) in object: ${r.joinValues(e.keys,", ")}`;break;case o.invalid_union:n="Invalid input";break;case o.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${r.joinValues(e.options)}`;break;case o.invalid_enum_value:n=`Invalid enum value. Expected ${r.joinValues(e.options)}, received '${e.received}'`;break;case o.invalid_arguments:n="Invalid function arguments";break;case o.invalid_return_type:n="Invalid function return type";break;case o.invalid_date:n="Invalid date";break;case o.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:r.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case o.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case o.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case o.custom:n="Invalid input";break;case o.invalid_intersection_types:n="Intersection results could not be merged";break;case o.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case o.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.assertNever(e)}return{message:n}};let l=u;function d(){return l}const h=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";const c=r.filter((e=>!!e)).slice().reverse();for(const e of c)o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function f(e,t){const n=d(),r=h({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===u?void 0:u].filter((e=>!!e))});e.common.issues.push(r)}class p{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return m;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return p.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return m;if("aborted"===i.status)return m;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const m=Object.freeze({status:"aborted"}),g=e=>({status:"dirty",value:e}),y=e=>({status:"valid",value:e}),_=e=>"aborted"===e.status,v=e=>"dirty"===e.status,w=e=>"valid"===e.status,b=e=>"undefined"!=typeof Promise&&e instanceof Promise;function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function A(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var E,x,R;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(E||(E={}));class I{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const S=(e,t)=>{if(w(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new c(e.common.issues);return this._error=t,this._error}}};function O(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var s,a;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!==(s=null!=o?o:r)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!=o?o:n)&&void 0!==a?a:i.defaultError}},description:i}}class T{get description(){return this._def.description}_getType(e){return a(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new p,ctx:{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(b(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},i=this._parseSync({data:e,path:r.path,parent:r});return S(r,i)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return w(t)?{value:t.value}:{issues:r.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>w(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(b(r)?r:Promise.resolve(r));return S(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),s=()=>r.addIssue({code:o.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new Te({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Ne.create(this,this._def)}nullable(){return Ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return de.create(this)}promise(){return Oe.create(this,this._def)}or(e){return pe.create([this,e],this._def)}and(e){return _e.create(this,e,this._def)}transform(e){return new Te({...O(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Pe({...O(this._def),innerType:this,defaultValue:t,typeName:He.ZodDefault})}brand(){return new Me({typeName:He.ZodBranded,type:this,...O(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Le({...O(this._def),innerType:this,catchValue:t,typeName:He.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Ue.create(this,e)}readonly(){return Be.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const N=/^c[^\s-]{8,}$/i,C=/^[0-9a-z]+$/,P=/^[0-9A-HJKMNP-TV-Z]{26}$/i,L=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,D=/^[a-z0-9_-]{21}$/i,z=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,M=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,U=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let B;const Z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,j=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,K=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,H=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,F=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,W=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,V="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$=new RegExp(`^${V}$`);function q(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function G(e){let t=`${V}T${q(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function J(e,t){if(!z.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return"object"==typeof i&&null!==i&&(!(!i.typ||!i.alg)&&(!t||i.alg===t))}catch(e){return!1}}function Y(e,t){return!("v4"!==t&&t||!j.test(e))||!("v6"!==t&&t||!H.test(e))}class X extends T{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==s.string){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.string,received:t.parsedType}),m}const t=new p;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:o.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:o.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const r=e.data.length>s.value,i=e.data.length<s.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?f(n,{code:o.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&f(n,{code:o.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)U.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"email",code:o.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)B||(B=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),B.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"emoji",code:o.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)L.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"uuid",code:o.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)D.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"nanoid",code:o.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)N.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"cuid",code:o.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)C.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"cuid2",code:o.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)P.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"ulid",code:o.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),f(n,{validation:"url",code:o.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"regex",code:o.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),f(n,{code:o.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),f(n,{code:o.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),f(n,{code:o.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){G(s).test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:o.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else if("date"===s.kind){$.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:o.invalid_string,validation:"date",message:s.message}),t.dirty())}else if("time"===s.kind){new RegExp(`^${q(s)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:o.invalid_string,validation:"time",message:s.message}),t.dirty())}else"duration"===s.kind?M.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"duration",code:o.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?(i=e.data,("v4"!==(a=s.version)&&a||!Z.test(i))&&("v6"!==a&&a||!K.test(i))&&(n=this._getOrReturnCtx(e,n),f(n,{validation:"ip",code:o.invalid_string,message:s.message}),t.dirty())):"jwt"===s.kind?J(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"jwt",code:o.invalid_string,message:s.message}),t.dirty()):"cidr"===s.kind?Y(e.data,s.version)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"cidr",code:o.invalid_string,message:s.message}),t.dirty()):"base64"===s.kind?F.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"base64",code:o.invalid_string,message:s.message}),t.dirty()):"base64url"===s.kind?W.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"base64url",code:o.invalid_string,message:s.message}),t.dirty()):r.assertNever(s);var i,a;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:o.invalid_string,...E.errToObj(n)})}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...E.errToObj(e)})}url(e){return this._addCheck({kind:"url",...E.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...E.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...E.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...E.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...E.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...E.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...E.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...E.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...E.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...E.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...E.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...E.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...E.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...E.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...E.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...E.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...E.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...E.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...E.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...E.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...E.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...E.errToObj(t)})}nonempty(e){return this.min(1,E.errToObj(e))}trim(){return new X({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Q(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}X.create=e=>{var t;return new X({checks:[],typeName:He.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class ee extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==s.number){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.number,received:t.parsedType}),m}let t;const n=new p;for(const i of this._def.checks)if("int"===i.kind)r.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),f(t,{code:o.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty());else if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:o.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:o.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else"multipleOf"===i.kind?0!==Q(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:o.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),f(t,{code:o.not_finite,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,E.toString(t))}gt(e,t){return this.setLimit("min",e,!1,E.toString(t))}lte(e,t){return this.setLimit("max",e,!0,E.toString(t))}lt(e,t){return this.setLimit("max",e,!1,E.toString(t))}setLimit(e,t,n,r){return new ee({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:E.toString(r)}]})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:E.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:E.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:E.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:E.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:E.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:E.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:E.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:E.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:E.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&r.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ee.create=e=>new ee({checks:[],typeName:He.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class te extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==s.bigint)return this._getInvalidInput(e);let t;const n=new p;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:o.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:o.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),f(t,{code:o.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.bigint,received:t.parsedType}),m}gte(e,t){return this.setLimit("min",e,!0,E.toString(t))}gt(e,t){return this.setLimit("min",e,!1,E.toString(t))}lte(e,t){return this.setLimit("max",e,!0,E.toString(t))}lt(e,t){return this.setLimit("max",e,!1,E.toString(t))}setLimit(e,t,n,r){return new te({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:E.toString(r)}]})}_addCheck(e){return new te({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:E.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:E.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:E.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:E.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:E.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}te.create=e=>{var t;return new te({checks:[],typeName:He.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class ne extends T{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==s.boolean){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.boolean,received:t.parsedType}),m}return y(e.data)}}ne.create=e=>new ne({typeName:He.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class re extends T{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==s.date){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.date,received:t.parsedType}),m}if(isNaN(e.data.getTime())){return f(this._getOrReturnCtx(e),{code:o.invalid_date}),m}const t=new p;let n;for(const i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:o.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:o.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):r.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new re({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:E.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:E.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}re.create=e=>new re({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:He.ZodDate,...O(e)});class ie extends T{_parse(e){if(this._getType(e)!==s.symbol){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.symbol,received:t.parsedType}),m}return y(e.data)}}ie.create=e=>new ie({typeName:He.ZodSymbol,...O(e)});class se extends T{_parse(e){if(this._getType(e)!==s.undefined){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.undefined,received:t.parsedType}),m}return y(e.data)}}se.create=e=>new se({typeName:He.ZodUndefined,...O(e)});class ae extends T{_parse(e){if(this._getType(e)!==s.null){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.null,received:t.parsedType}),m}return y(e.data)}}ae.create=e=>new ae({typeName:He.ZodNull,...O(e)});class oe extends T{constructor(){super(...arguments),this._any=!0}_parse(e){return y(e.data)}}oe.create=e=>new oe({typeName:He.ZodAny,...O(e)});class ce extends T{constructor(){super(...arguments),this._unknown=!0}_parse(e){return y(e.data)}}ce.create=e=>new ce({typeName:He.ZodUnknown,...O(e)});class ue extends T{_parse(e){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.never,received:t.parsedType}),m}}ue.create=e=>new ue({typeName:He.ZodNever,...O(e)});class le extends T{_parse(e){if(this._getType(e)!==s.undefined){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.void,received:t.parsedType}),m}return y(e.data)}}le.create=e=>new le({typeName:He.ZodVoid,...O(e)});class de extends T{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==s.array)return f(t,{code:o.invalid_type,expected:s.array,received:t.parsedType}),m;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(f(t,{code:e?o.too_big:o.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(f(t,{code:o.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(f(t,{code:o.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new I(t,e,t.path,n))))).then((e=>p.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new I(t,e,t.path,n))));return p.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new de({...this._def,minLength:{value:e,message:E.toString(t)}})}max(e,t){return new de({...this._def,maxLength:{value:e,message:E.toString(t)}})}length(e,t){return new de({...this._def,exactLength:{value:e,message:E.toString(t)}})}nonempty(e){return this.min(1,e)}}function he(e){if(e instanceof fe){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ne.create(he(r))}return new fe({...e._def,shape:()=>t})}return e instanceof de?new de({...e._def,type:he(e.element)}):e instanceof Ne?Ne.create(he(e.unwrap())):e instanceof Ce?Ce.create(he(e.unwrap())):e instanceof ve?ve.create(e.items.map((e=>he(e)))):e}de.create=(e,t)=>new de({type:e,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...O(t)});class fe extends T{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=r.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==s.object){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.object,received:t.parsedType}),m}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof ue&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||a.push(e);const c=[];for(const e of i){const t=r[e],i=n.data[e];c.push({key:{status:"valid",value:e},value:t._parse(new I(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof ue){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of a)c.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(f(n,{code:o.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];c.push({key:{status:"valid",value:t},value:e._parse(new I(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of c){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>p.mergeObjectSync(t,e))):p.mergeObjectSync(t,c)}get shape(){return this._def.shape()}strict(e){return E.errToObj,new fe({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,s,a;const o=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=E.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new fe({...this._def,unknownKeys:"strip"})}passthrough(){return new fe({...this._def,unknownKeys:"passthrough"})}extend(e){return new fe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new fe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:He.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new fe({...this._def,catchall:e})}pick(e){const t={};return r.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new fe({...this._def,shape:()=>t})}omit(e){const t={};return r.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new fe({...this._def,shape:()=>t})}deepPartial(){return he(this)}partial(e){const t={};return r.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new fe({...this._def,shape:()=>t})}required(e){const t={};return r.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Ne;)e=e._def.innerType;t[n]=e}})),new fe({...this._def,shape:()=>t})}keyof(){return Re(r.objectKeys(this.shape))}}fe.create=(e,t)=>new fe({shape:()=>e,unknownKeys:"strip",catchall:ue.create(),typeName:He.ZodObject,...O(t)}),fe.strictCreate=(e,t)=>new fe({shape:()=>e,unknownKeys:"strict",catchall:ue.create(),typeName:He.ZodObject,...O(t)}),fe.lazycreate=(e,t)=>new fe({shape:e,unknownKeys:"strip",catchall:ue.create(),typeName:He.ZodObject,...O(t)});class pe extends T{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new c(e.ctx.common.issues)));return f(t,{code:o.invalid_union,unionErrors:n}),m}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new c(e)));return f(t,{code:o.invalid_union,unionErrors:i}),m}}get options(){return this._def.options}}pe.create=(e,t)=>new pe({options:e,typeName:He.ZodUnion,...O(t)});const me=e=>e instanceof Ee?me(e.schema):e instanceof Te?me(e.innerType()):e instanceof xe?[e.value]:e instanceof Ie?e.options:e instanceof Se?r.objectValues(e.enum):e instanceof Pe?me(e._def.innerType):e instanceof se?[void 0]:e instanceof ae?[null]:e instanceof Ne?[void 0,...me(e.unwrap())]:e instanceof Ce?[null,...me(e.unwrap())]:e instanceof Me||e instanceof Be?me(e.unwrap()):e instanceof Le?me(e._def.innerType):[];class ge extends T{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==s.object)return f(t,{code:o.invalid_type,expected:s.object,received:t.parsedType}),m;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:o.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=me(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new ge({typeName:He.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...O(n)})}}function ye(e,t){const n=a(e),i=a(t);if(e===t)return{valid:!0,data:e};if(n===s.object&&i===s.object){const n=r.objectKeys(t),i=r.objectKeys(e).filter((e=>-1!==n.indexOf(e))),s={...e,...t};for(const n of i){const r=ye(e[n],t[n]);if(!r.valid)return{valid:!1};s[n]=r.data}return{valid:!0,data:s}}if(n===s.array&&i===s.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=ye(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===s.date&&i===s.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _e extends T{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(_(e)||_(r))return m;const i=ye(e.value,r.value);return i.valid?((v(e)||v(r))&&t.dirty(),{status:t.value,value:i.data}):(f(n,{code:o.invalid_intersection_types}),m)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}_e.create=(e,t,n)=>new _e({left:e,right:t,typeName:He.ZodIntersection,...O(n)});class ve extends T{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==s.array)return f(n,{code:o.invalid_type,expected:s.array,received:n.parsedType}),m;if(n.data.length<this._def.items.length)return f(n,{code:o.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&n.data.length>this._def.items.length&&(f(n,{code:o.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new I(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>p.mergeArray(t,e))):p.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ve({...this._def,rest:e})}}ve.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ve({items:e,typeName:He.ZodTuple,rest:null,...O(t)})};class we extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==s.object)return f(n,{code:o.invalid_type,expected:s.object,received:n.parsedType}),m;const r=[],i=this._def.keyType,a=this._def.valueType;for(const e in n.data)r.push({key:i._parse(new I(n,e,n.path,e)),value:a._parse(new I(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?p.mergeObjectAsync(t,r):p.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new we(t instanceof T?{keyType:e,valueType:t,typeName:He.ZodRecord,...O(n)}:{keyType:X.create(),valueType:e,typeName:He.ZodRecord,...O(t)})}}class be extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==s.map)return f(n,{code:o.invalid_type,expected:s.map,received:n.parsedType}),m;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map((([e,t],s)=>({key:r._parse(new I(n,e,n.path,[s,"key"])),value:i._parse(new I(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return m;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return m;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}be.create=(e,t,n)=>new be({valueType:t,keyType:e,typeName:He.ZodMap,...O(n)});class ke extends T{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==s.set)return f(n,{code:o.invalid_type,expected:s.set,received:n.parsedType}),m;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(f(n,{code:o.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(f(n,{code:o.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return m;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const c=[...n.data.values()].map(((e,t)=>i._parse(new I(n,e,n.path,t))));return n.common.async?Promise.all(c).then((e=>a(e))):a(c)}min(e,t){return new ke({...this._def,minSize:{value:e,message:E.toString(t)}})}max(e,t){return new ke({...this._def,maxSize:{value:e,message:E.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ke.create=(e,t)=>new ke({valueType:e,minSize:null,maxSize:null,typeName:He.ZodSet,...O(t)});class Ae extends T{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==s.function)return f(t,{code:o.invalid_type,expected:s.function,received:t.parsedType}),m;function n(e,n){return h({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,d(),u].filter((e=>!!e)),issueData:{code:o.invalid_arguments,argumentsError:n}})}function r(e,n){return h({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,d(),u].filter((e=>!!e)),issueData:{code:o.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Oe){const e=this;return y((async function(...t){const s=new c([]),o=await e._def.args.parseAsync(t,i).catch((e=>{throw s.addIssue(n(t,e)),s})),u=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(u,i).catch((e=>{throw s.addIssue(r(u,e)),s}))}))}{const e=this;return y((function(...t){const s=e._def.args.safeParse(t,i);if(!s.success)throw new c([n(t,s.error)]);const o=Reflect.apply(a,this,s.data),u=e._def.returns.safeParse(o,i);if(!u.success)throw new c([r(o,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ae({...this._def,args:ve.create(e).rest(ce.create())})}returns(e){return new Ae({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ae({args:e||ve.create([]).rest(ce.create()),returns:t||ce.create(),typeName:He.ZodFunction,...O(n)})}}class Ee extends T{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ee.create=(e,t)=>new Ee({getter:e,typeName:He.ZodLazy,...O(t)});class xe extends T{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:o.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Re(e,t){return new Ie({values:e,typeName:He.ZodEnum,...O(t)})}xe.create=(e,t)=>new xe({value:e,typeName:He.ZodLiteral,...O(t)});class Ie extends T{constructor(){super(...arguments),x.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{expected:r.joinValues(n),received:t.parsedType,code:o.invalid_type}),m}if(k(this,x,"f")||A(this,x,new Set(this._def.values),"f"),!k(this,x,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{received:t.data,code:o.invalid_enum_value,options:n}),m}return y(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ie.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ie.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}x=new WeakMap,Ie.create=Re;class Se extends T{constructor(){super(...arguments),R.set(this,void 0)}_parse(e){const t=r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==s.string&&n.parsedType!==s.number){const e=r.objectValues(t);return f(n,{expected:r.joinValues(e),received:n.parsedType,code:o.invalid_type}),m}if(k(this,R,"f")||A(this,R,new Set(r.getValidEnumValues(this._def.values)),"f"),!k(this,R,"f").has(e.data)){const e=r.objectValues(t);return f(n,{received:n.data,code:o.invalid_enum_value,options:e}),m}return y(e.data)}get enum(){return this._def.values}}R=new WeakMap,Se.create=(e,t)=>new Se({values:e,typeName:He.ZodNativeEnum,...O(t)});class Oe extends T{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==s.promise&&!1===t.common.async)return f(t,{code:o.invalid_type,expected:s.promise,received:t.parsedType}),m;const n=t.parsedType===s.promise?t.data:Promise.resolve(t.data);return y(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Oe.create=(e,t)=>new Oe({type:e,typeName:He.ZodPromise,...O(t)});class Te extends T{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:e=>{f(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===i.type){const e=i.transform(n.data,s);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return m;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?m:"dirty"===r.status||"dirty"===t.value?g(r.value):r}));{if("aborted"===t.value)return m;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?m:"dirty"===r.status||"dirty"===t.value?g(r.value):r}}if("refinement"===i.type){const e=e=>{const t=i.refinement(e,s);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?m:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?m:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===i.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!w(e))return e;const r=i.transform(e.value,s);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>w(e)?Promise.resolve(i.transform(e.value,s)).then((e=>({status:t.value,value:e}))):e))}r.assertNever(i)}}Te.create=(e,t,n)=>new Te({schema:e,typeName:He.ZodEffects,effect:t,...O(n)}),Te.createWithPreprocess=(e,t,n)=>new Te({schema:t,effect:{type:"preprocess",transform:e},typeName:He.ZodEffects,...O(n)});class Ne extends T{_parse(e){return this._getType(e)===s.undefined?y(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ne.create=(e,t)=>new Ne({innerType:e,typeName:He.ZodOptional,...O(t)});class Ce extends T{_parse(e){return this._getType(e)===s.null?y(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ce.create=(e,t)=>new Ce({innerType:e,typeName:He.ZodNullable,...O(t)});class Pe extends T{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===s.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pe.create=(e,t)=>new Pe({innerType:e,typeName:He.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...O(t)});class Le extends T{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return b(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new c(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new c(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Le.create=(e,t)=>new Le({innerType:e,typeName:He.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...O(t)});class De extends T{_parse(e){if(this._getType(e)!==s.nan){const t=this._getOrReturnCtx(e);return f(t,{code:o.invalid_type,expected:s.nan,received:t.parsedType}),m}return{status:"valid",value:e.data}}}De.create=e=>new De({typeName:He.ZodNaN,...O(e)});const ze=Symbol("zod_brand");class Me extends T{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ue extends T{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),g(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Ue({in:e,out:t,typeName:He.ZodPipeline})}}class Be extends T{_parse(e){const t=this._def.innerType._parse(e),n=e=>(w(e)&&(e.value=Object.freeze(e.value)),e);return b(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Ze(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function je(e,t={},n){return e?oe.create().superRefine(((r,i)=>{var s,a;const o=e(r);if(o instanceof Promise)return o.then((e=>{var s,a;if(!e){const e=Ze(t,r),o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a;i.addIssue({code:"custom",...e,fatal:o})}}));if(!o){const e=Ze(t,r),o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a;i.addIssue({code:"custom",...e,fatal:o})}})):oe.create()}Be.create=(e,t)=>new Be({innerType:e,typeName:He.ZodReadonly,...O(t)});const Ke={object:fe.lazycreate};var He;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(He||(He={}));const Fe=X.create,We=ee.create,Ve=De.create,$e=te.create,qe=ne.create,Ge=re.create,Je=ie.create,Ye=se.create,Xe=ae.create,Qe=oe.create,et=ce.create,tt=ue.create,nt=le.create,rt=de.create,it=fe.create,st=fe.strictCreate,at=pe.create,ot=ge.create,ct=_e.create,ut=ve.create,lt=we.create,dt=be.create,ht=ke.create,ft=Ae.create,pt=Ee.create,mt=xe.create,gt=Ie.create,yt=Se.create,_t=Oe.create,vt=Te.create,wt=Ne.create,bt=Ce.create,kt=Te.createWithPreprocess,At=Ue.create,Et={string:e=>X.create({...e,coerce:!0}),number:e=>ee.create({...e,coerce:!0}),boolean:e=>ne.create({...e,coerce:!0}),bigint:e=>te.create({...e,coerce:!0}),date:e=>re.create({...e,coerce:!0})},xt=m;var Rt=Object.freeze({__proto__:null,defaultErrorMap:u,setErrorMap:function(e){l=e},getErrorMap:d,makeIssue:h,EMPTY_PATH:[],addIssueToContext:f,ParseStatus:p,INVALID:m,DIRTY:g,OK:y,isAborted:_,isDirty:v,isValid:w,isAsync:b,get util(){return r},get objectUtil(){return i},ZodParsedType:s,getParsedType:a,ZodType:T,datetimeRegex:G,ZodString:X,ZodNumber:ee,ZodBigInt:te,ZodBoolean:ne,ZodDate:re,ZodSymbol:ie,ZodUndefined:se,ZodNull:ae,ZodAny:oe,ZodUnknown:ce,ZodNever:ue,ZodVoid:le,ZodArray:de,ZodObject:fe,ZodUnion:pe,ZodDiscriminatedUnion:ge,ZodIntersection:_e,ZodTuple:ve,ZodRecord:we,ZodMap:be,ZodSet:ke,ZodFunction:Ae,ZodLazy:Ee,ZodLiteral:xe,ZodEnum:Ie,ZodNativeEnum:Se,ZodPromise:Oe,ZodEffects:Te,ZodTransformer:Te,ZodOptional:Ne,ZodNullable:Ce,ZodDefault:Pe,ZodCatch:Le,ZodNaN:De,BRAND:ze,ZodBranded:Me,ZodPipeline:Ue,ZodReadonly:Be,custom:je,Schema:T,ZodSchema:T,late:Ke,get ZodFirstPartyTypeKind(){return He},coerce:Et,any:Qe,array:rt,bigint:$e,boolean:qe,date:Ge,discriminatedUnion:ot,effect:vt,enum:gt,function:ft,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>je((t=>t instanceof e),t),intersection:ct,lazy:pt,literal:mt,map:dt,nan:Ve,nativeEnum:yt,never:tt,null:Xe,nullable:bt,number:We,object:it,oboolean:()=>qe().optional(),onumber:()=>We().optional(),optional:wt,ostring:()=>Fe().optional(),pipeline:At,preprocess:kt,promise:_t,record:lt,set:ht,strictObject:st,string:Fe,symbol:Je,transformer:vt,tuple:ut,undefined:Ye,union:at,unknown:et,void:nt,NEVER:xt,ZodIssueCode:o,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:c})}}]);