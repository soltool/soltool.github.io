"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2122],{26571:function(e,r,s){s.r(r);var a=s(15009),l=s.n(a),n=s(99289),o=s.n(n),t=s(5574),u=s.n(t),i=s(57132),d=s(39380),c=s(38345),p=s(97269),f=s(5966),m=s(90672),A=s(88026),P=s(2453),b=s(67294),v=s(20640),h=s.n(v),g=s(29363),x=s(13550),w=s.n(x),D=s(85893),y=s(48764).Buffer;r.default=function(){var e=P.ZP.useMessage(),r=u()(e,2),s=r[0],a=r[1],n=(0,A.useIntl)(),t=n.formatMessage({id:"common.intlCopySuccess"}),v=n.formatMessage({id:"common.intlCopyFail"}),x=n.formatMessage({id:"common.intlInputException"}),k=n.formatMessage({id:"common.intlInputMustBeArray"}),j=(0,b.useRef)(),C=(0,b.useRef)(),F=(0,b.useRef)(),Z=(0,b.useRef)(),I=(0,b.useRef)(),N=(0,b.useRef)(),T=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,i,d,c,p,f;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=r.seedPDA1,o=r.programIdPDA1,t=n?[y.from(n)]:[],i=new g.PublicKey(o),d=g.PublicKey.findProgramAddressSync(t,i),c=u()(d,2),p=c[0],f=c[1],null===(a=j.current)||void 0===a||a.setFieldsValue({addressPDA1:p,beepPDA1:f}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),[]),z=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,i,d,c,p,f,m,A;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=r.seedPDA2,o=r.programIdPDA2,t=r.userIdPDA2,i=new g.PublicKey(o),d=new g.PublicKey(t),c=n?[y.from(n),d.toBuffer()]:[d.toBuffer()],p=g.PublicKey.findProgramAddressSync(c,i),f=u()(p,2),m=f[0],A=f[1],null===(a=C.current)||void 0===a||a.setFieldsValue({addressPDA2:m,beepPDA2:A}),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),[]),L=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,i,d,c,p,f,m;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=r.seedPDA3,o=r.programIdPDA3,t=[],i=JSON.parse(n),Array.isArray(i)){e.next=6;break}return e.abrupt("return",s.error(k));case 6:i.forEach((function(e){if("string"==typeof e&&e.startsWith("pubkey:")){var r=e.split(":")[1];t.push(new g.PublicKey(r).toBuffer())}else if("string"==typeof e&&e.startsWith("u8:")){var s=e.split(":")[1],a=new(w())(s).toArrayLike(y,"le",1);t.push(a)}else if("string"==typeof e&&e.startsWith("u16:")){var l=e.split(":")[1],n=new(w())(l).toArrayLike(y,"le",2);t.push(n)}else if("string"==typeof e&&e.startsWith("u32:")){var o=e.split(":")[1],u=new(w())(o).toArrayLike(y,"le",4);t.push(u)}else if("string"==typeof e&&e.startsWith("u64:")){var i=e.split(":")[1],d=new(w())(i).toArrayLike(y,"le",8);t.push(d)}else if("string"==typeof e||Array.isArray(e))t.push(y.from(e));else if("number"==typeof e){var c=new(w())(e).toArrayLike(y,"le",8);t.push(c)}})),d=new g.PublicKey(o),c=g.PublicKey.findProgramAddressSync(t,d),p=u()(c,2),f=p[0],m=p[1],null===(a=F.current)||void 0===a||a.setFieldsValue({addressPDA3:f,beepPDA3:m}),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),[]),W=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,i,d,c,p,f,m,A,P,b,v;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=r.ownerAddress,o=r.tokenProgramAddress,t=r.mintAddress,i=r.programIdTokenAccount,d=new g.PublicKey(n),c=new g.PublicKey(o),p=new g.PublicKey(t),f=new g.PublicKey(i),m=[d.toBuffer(),c.toBuffer(),p.toBuffer()],A=g.PublicKey.findProgramAddressSync(m,f),P=u()(A,2),b=P[0],v=P[1],null===(a=Z.current)||void 0===a||a.setFieldsValue({addressTokenAccount:b,beepTokenAccount:v}),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),[]),V=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,u,i,d,c,p;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=r.fromDAA,o=r.seedDAA,t=r.programIdDAA,u=new g.PublicKey(t),i=new g.PublicKey(n),g.PublicKey.isOnCurve(i)){e.next=7;break}return s.error("User account pubkey is not on ed25519 curve"),e.abrupt("return",!1);case 7:return d=o||"",e.next=10,g.PublicKey.createWithSeed(i,d,u);case 10:return c=e.sent,p=g.PublicKey.isOnCurve(c),null===(a=I.current)||void 0===a||a.setFieldsValue({addressDAA:c,isOnCurveDAA:p}),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(r){return e.apply(this,arguments)}}(),[]),K=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,u,i;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.programIdIDL,o=new g.PublicKey(n),t=g.PublicKey.findProgramAddressSync([],o)[0],e.next=6,g.PublicKey.createWithSeed(t,"anchor:idl",o);case 6:return u=e.sent,i=g.PublicKey.isOnCurve(u),null===(a=N.current)||void 0===a||a.setFieldsValue({addressIDL:u,isOnCurveIDL:i}),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),[]),S=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,u,i,d,c,p,f;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="","beepPDA1"===r?a=null===(n=j.current)||void 0===n?void 0:n.getFieldValue("beepPDA1"):"addressPDA1"===r?a=null===(o=j.current)||void 0===o?void 0:o.getFieldValue("addressPDA1"):"beepPDA2"===r?a=null===(u=C.current)||void 0===u?void 0:u.getFieldValue("beepPDA2"):"addressPDA2"===r?a=null===(i=C.current)||void 0===i?void 0:i.getFieldValue("addressPDA2"):"beepTokenAccount"===r?a=null===(d=Z.current)||void 0===d?void 0:d.getFieldValue("beepTokenAccount"):"addressTokenAccount"===r?a=null===(c=Z.current)||void 0===c?void 0:c.getFieldValue("addressTokenAccount"):"addressDAA"===r?a=null===(p=I.current)||void 0===p?void 0:p.getFieldValue("addressDAA"):"addressIDL"===r&&(a=null===(f=N.current)||void 0===f?void 0:f.getFieldValue("addressIDL")),h()(a)?s.success(t):s.error(v);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]),O=(0,b.useCallback)((function(e,r){try{return new g.PublicKey(r)?Promise.resolve(""):Promise.reject("error")}catch(e){return Promise.reject(e.message)}}),[]);return(0,D.jsx)(d._z,{className:"",ghost:!0,children:(0,D.jsxs)("div",{className:"flex flex-wrap justify-around items-start gap-5",children:[(0,D.jsxs)(c.Z,{title:"PDA (Program Derived Address)",style:{width:"550px"},children:[(0,D.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:'sha256(Seed+Nonce+ProgramID+"ProgramDerivedAddress")'}),(0,D.jsxs)(p.A,{formRef:j,onFinish:T,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,D.jsx)(f.Z,{label:"Seed",name:"seedPDA1",placeholder:"TableName",fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Program ID",name:"programIdPDA1",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Beep",name:"beepPDA1",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("beepPDA1")}})}}),(0,D.jsx)(f.Z,{label:"PDA",name:"addressPDA1",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("addressPDA1")}})}}),a]})]}),(0,D.jsxs)(c.Z,{title:"PDA (Program Derived Address)",style:{width:"550px"},children:[(0,D.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:'sha256(Seed+User+Nonce+Program+"ProgramDerivedAddress")'}),(0,D.jsxs)(p.A,{formRef:C,onFinish:z,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,D.jsx)(f.Z,{label:"Seed",name:"seedPDA2",placeholder:"TableName",fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"User ID",name:"userIdPDA2",placeholder:"7eVmPLzGQvyF8RomsthejmNaieY8v5VjMvS1wWcr3eft",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Program ID",name:"programIdPDA2",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Beep",name:"beepPDA2",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("beepPDA2")}})}}),(0,D.jsx)(f.Z,{label:"PDA",name:"addressPDA2",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("addressPDA2")}})}}),a]})]}),(0,D.jsxs)(c.Z,{title:"PDA (Program Derived Address)",style:{width:"550px"},children:[(0,D.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:'sha256(Seeds+Nonce+ProgramID+"ProgramDerivedAddress")'}),(0,D.jsxs)(p.A,{formRef:F,onFinish:L,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,D.jsx)(m.Z,{label:"Seeds",name:"seedPDA3",placeholder:'[\n  "abc123",\n  [1, 2, 3],\n  "u8:123",\n  "u16:123",\n  "u32:123",\n  "u64:123",\n  "pubkey:PPP5a1E95YMFv8Rmhvc7PBW6SSfHfvNKfAz7988xvB3"\n]\n',rules:[{required:!0,message:x,whitespace:!0}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0,rows:6}}),(0,D.jsx)(f.Z,{label:"Program ID",name:"programIdPDA3",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Beep",name:"beepPDA3",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("beepPDA3")}})}}),(0,D.jsx)(f.Z,{label:"PDA",name:"addressPDA3",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("addressPDA3")}})}}),a]})]}),(0,D.jsxs)(c.Z,{title:"Associated Token Account",style:{width:"550px"},children:[(0,D.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:'sha256(Owner+Token+Mint+Nonce+ProgramID+"ProgramDerivedAddress")'}),(0,D.jsxs)(p.A,{formRef:Z,onFinish:W,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},initialValues:{programIdTokenAccount:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",tokenProgramAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},children:[(0,D.jsx)(f.Z,{label:"Owner Account Address",name:"ownerAddress",placeholder:"3sBCvGLDYECukVMb9FXEdjZcFxWbFA1ArcksCi2YFSUt",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Token Program Address",name:"tokenProgramAddress",placeholder:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Mint Account Address",name:"mintAddress",placeholder:"DFS5BUmMzJC1hcFo5X7JhkftEGzmMDYU5ovmjpVxTXwU",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Program ID",name:"programIdTokenAccount",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Beep",name:"beepTokenAccount",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("beepTokenAccount")}})}}),(0,D.jsx)(f.Z,{label:"PDA",name:"addressTokenAccount",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("addressTokenAccount")}})}}),a]})]}),(0,D.jsxs)(c.Z,{title:"DAA (Derived Account Address)",style:{width:"550px"},children:[(0,D.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:"sha256(UserID+Seed+ProgramID)"}),(0,D.jsxs)(p.A,{formRef:I,onFinish:V,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,D.jsx)(f.Z,{label:"Seed",name:"seedDAA",placeholder:"TableName",fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"User ID",name:"fromDAA",placeholder:"7eVmPLzGQvyF8RomsthejmNaieY8v5VjMvS1wWcr3eft",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"Program ID",name:"programIdDAA",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"isOnCurve",name:"isOnCurveDAA",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large"}}),(0,D.jsx)(f.Z,{label:"DAA",name:"addressDAA",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("addressDAA")}})}}),a]})]}),(0,D.jsxs)(c.Z,{title:"IDL Address",style:{width:"550px"},children:[(0,D.jsxs)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:[(0,D.jsx)("div",{children:'pda=sha256(Nonce+ProgramID+"ProgramDerivedAddress")'}),(0,D.jsx)("div",{children:'sha256(pda+"anchor:idl"+ProgramID)'})]}),(0,D.jsxs)(p.A,{formRef:N,onFinish:K,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,D.jsx)(f.Z,{label:"Program ID",name:"programIdIDL",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:x,validator:O}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,D.jsx)(f.Z,{label:"isOnCurve",name:"isOnCurveIDL",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large"}}),(0,D.jsx)(f.Z,{label:"IDL Address",name:"addressIDL",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,D.jsx)(i.Z,{className:"cursor-pointer",onClick:function(){return S("addressIDL")}})}}),a]})]})]})})}}}]);