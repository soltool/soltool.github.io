"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[122],{26571:function(e,r,s){s.r(r);var a=s(15009),l=s.n(a),n=s(99289),o=s.n(n),t=s(5574),u=s.n(t),d=s(57132),i=s(39380),c=s(38345),p=s(97269),f=s(5966),m=s(90672),A=s(88026),P=s(2453),b=s(67294),v=s(20640),h=s.n(v),g=s(29363),x=s(85893),D=s(48764).Buffer;r.default=function(){var e=P.ZP.useMessage(),r=u()(e,2),s=r[0],a=r[1],n=(0,A.useIntl)(),t=n.formatMessage({id:"common.intlCopySuccess"}),v=n.formatMessage({id:"common.intlCopyFail"}),w=n.formatMessage({id:"common.intlInputException"}),y=n.formatMessage({id:"common.intlInputMustBeArray"}),k=(0,b.useRef)(),j=(0,b.useRef)(),C=(0,b.useRef)(),F=(0,b.useRef)(),Z=(0,b.useRef)(),I=(0,b.useRef)(),N=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,d,i,c,p,f;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=r.seedPDA1,o=r.programIdPDA1,t=n?[D.from(n)]:[],d=new g.PublicKey(o),i=g.PublicKey.findProgramAddressSync(t,d),c=u()(i,2),p=c[0],f=c[1],null===(a=k.current)||void 0===a||a.setFieldsValue({addressPDA1:p,beepPDA1:f}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),[]),T=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,d,i,c,p,f,m,A;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=r.seedPDA2,o=r.programIdPDA2,t=r.userIdPDA2,d=new g.PublicKey(o),i=new g.PublicKey(t),c=n?[D.from(n),i.toBuffer()]:[i.toBuffer()],p=g.PublicKey.findProgramAddressSync(c,d),f=u()(p,2),m=f[0],A=f[1],null===(a=j.current)||void 0===a||a.setFieldsValue({addressPDA2:m,beepPDA2:A}),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),[]),z=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,d,i,c,p,f,m;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=r.seedPDA3,o=r.programIdPDA3,t=[],d=JSON.parse(n),Array.isArray(d)){e.next=6;break}return e.abrupt("return",s.error(y));case 6:d.forEach((function(e){if("string"==typeof e&&e.startsWith("pubkey:")){var r=e.split(":")[1];t.push(new g.PublicKey(r).toBuffer())}else"string"==typeof e||Array.isArray(e)?t.push(D.from(e)):"number"==typeof e&&t.push(D.from([e]))})),i=new g.PublicKey(o),c=g.PublicKey.findProgramAddressSync(t,i),p=u()(c,2),f=p[0],m=p[1],null===(a=C.current)||void 0===a||a.setFieldsValue({addressPDA3:f,beepPDA3:m}),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),[]),V=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,d,i,c,p,f,m,A,P,b,v;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=r.ownerAddress,o=r.tokenProgramAddress,t=r.mintAddress,d=r.programIdTokenAccount,i=new g.PublicKey(n),c=new g.PublicKey(o),p=new g.PublicKey(t),f=new g.PublicKey(d),m=[i.toBuffer(),c.toBuffer(),p.toBuffer()],A=g.PublicKey.findProgramAddressSync(m,f),P=u()(A,2),b=P[0],v=P[1],null===(a=F.current)||void 0===a||a.setFieldsValue({addressTokenAccount:b,beepTokenAccount:v}),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),[]),W=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,u,d,i,c,p;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=r.fromDAA,o=r.seedDAA,t=r.programIdDAA,u=new g.PublicKey(t),d=new g.PublicKey(n),g.PublicKey.isOnCurve(d)){e.next=7;break}return s.error("User account pubkey is not on ed25519 curve"),e.abrupt("return",!1);case 7:return i=o||"",e.next=10,g.PublicKey.createWithSeed(d,i,u);case 10:return c=e.sent,p=g.PublicKey.isOnCurve(c),null===(a=Z.current)||void 0===a||a.setFieldsValue({addressDAA:c,isOnCurveDAA:p}),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(r){return e.apply(this,arguments)}}(),[]),L=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,t,u,d;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.programIdIDL,o=new g.PublicKey(n),t=g.PublicKey.findProgramAddressSync([],o)[0],e.next=6,g.PublicKey.createWithSeed(t,"anchor:idl",o);case 6:return u=e.sent,d=g.PublicKey.isOnCurve(u),null===(a=I.current)||void 0===a||a.setFieldsValue({addressIDL:u,isOnCurveIDL:d}),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),s.error(e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),[]),K=(0,b.useCallback)(function(){var e=o()(l()().mark((function e(r){var a,n,o,u,d,i,c,p,f;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="","beepPDA1"===r?a=null===(n=k.current)||void 0===n?void 0:n.getFieldValue("beepPDA1"):"addressPDA1"===r?a=null===(o=k.current)||void 0===o?void 0:o.getFieldValue("addressPDA1"):"beepPDA2"===r?a=null===(u=j.current)||void 0===u?void 0:u.getFieldValue("beepPDA2"):"addressPDA2"===r?a=null===(d=j.current)||void 0===d?void 0:d.getFieldValue("addressPDA2"):"beepTokenAccount"===r?a=null===(i=F.current)||void 0===i?void 0:i.getFieldValue("beepTokenAccount"):"addressTokenAccount"===r?a=null===(c=F.current)||void 0===c?void 0:c.getFieldValue("addressTokenAccount"):"addressDAA"===r?a=null===(p=Z.current)||void 0===p?void 0:p.getFieldValue("addressDAA"):"addressIDL"===r&&(a=null===(f=I.current)||void 0===f?void 0:f.getFieldValue("addressIDL")),h()(a)?s.success(t):s.error(v);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]),S=(0,b.useCallback)((function(e,r){try{return new g.PublicKey(r)?Promise.resolve(""):Promise.reject("error")}catch(e){return Promise.reject(e.message)}}),[]);return(0,x.jsx)(i._z,{className:"",ghost:!0,children:(0,x.jsxs)("div",{className:"flex flex-wrap justify-around items-start gap-5",children:[(0,x.jsxs)(c.Z,{title:"PDA (Program Derived Address)",style:{width:"550px"},children:[(0,x.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:'sha256(Seed+Nonce+ProgramID+"ProgramDerivedAddress")'}),(0,x.jsxs)(p.A,{formRef:k,onFinish:N,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,x.jsx)(f.Z,{label:"Seed",name:"seedPDA1",placeholder:"TableName",fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Program ID",name:"programIdPDA1",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Beep",name:"beepPDA1",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("beepPDA1")}})}}),(0,x.jsx)(f.Z,{label:"PDA",name:"addressPDA1",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("addressPDA1")}})}}),a]})]}),(0,x.jsxs)(c.Z,{title:"PDA (Program Derived Address)",style:{width:"550px"},children:[(0,x.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:'sha256(Seed+User+Nonce+Program+"ProgramDerivedAddress")'}),(0,x.jsxs)(p.A,{formRef:j,onFinish:T,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,x.jsx)(f.Z,{label:"Seed",name:"seedPDA2",placeholder:"TableName",fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"User ID",name:"userIdPDA2",placeholder:"7eVmPLzGQvyF8RomsthejmNaieY8v5VjMvS1wWcr3eft",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Program ID",name:"programIdPDA2",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Beep",name:"beepPDA2",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("beepPDA2")}})}}),(0,x.jsx)(f.Z,{label:"PDA",name:"addressPDA2",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("addressPDA2")}})}}),a]})]}),(0,x.jsxs)(c.Z,{title:"PDA (Program Derived Address)",style:{width:"550px"},children:[(0,x.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:'sha256(Seeds+Nonce+ProgramID+"ProgramDerivedAddress")'}),(0,x.jsxs)(p.A,{formRef:C,onFinish:z,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,x.jsx)(m.Z,{label:"Seeds",name:"seedPDA3",placeholder:'[\n  "abc123",\n  [1, 2, 3],\n  "pubkey:PPP5a1E95YMFv8Rmhvc7PBW6SSfHfvNKfAz7988xvB3"\n]\n',rules:[{required:!0,message:w,whitespace:!0}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0,rows:6}}),(0,x.jsx)(f.Z,{label:"Program ID",name:"programIdPDA3",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Beep",name:"beepPDA3",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("beepPDA3")}})}}),(0,x.jsx)(f.Z,{label:"PDA",name:"addressPDA3",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("addressPDA3")}})}}),a]})]}),(0,x.jsxs)(c.Z,{title:"Associated Token Account",style:{width:"550px"},children:[(0,x.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:'sha256(Owner+Token+Mint+Nonce+ProgramID+"ProgramDerivedAddress")'}),(0,x.jsxs)(p.A,{formRef:F,onFinish:V,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},initialValues:{programIdTokenAccount:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",tokenProgramAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},children:[(0,x.jsx)(f.Z,{label:"Owner Account Address",name:"ownerAddress",placeholder:"3sBCvGLDYECukVMb9FXEdjZcFxWbFA1ArcksCi2YFSUt",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Token Program Address",name:"tokenProgramAddress",placeholder:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Mint Account Address",name:"mintAddress",placeholder:"DFS5BUmMzJC1hcFo5X7JhkftEGzmMDYU5ovmjpVxTXwU",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Program ID",name:"programIdTokenAccount",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Beep",name:"beepTokenAccount",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("beepTokenAccount")}})}}),(0,x.jsx)(f.Z,{label:"PDA",name:"addressTokenAccount",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("addressTokenAccount")}})}}),a]})]}),(0,x.jsxs)(c.Z,{title:"DAA (Derived Account Address)",style:{width:"550px"},children:[(0,x.jsx)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:"sha256(UserID+Seed+ProgramID)"}),(0,x.jsxs)(p.A,{formRef:Z,onFinish:W,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,x.jsx)(f.Z,{label:"Seed",name:"seedDAA",placeholder:"TableName",fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"User ID",name:"fromDAA",placeholder:"7eVmPLzGQvyF8RomsthejmNaieY8v5VjMvS1wWcr3eft",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"Program ID",name:"programIdDAA",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"isOnCurve",name:"isOnCurveDAA",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large"}}),(0,x.jsx)(f.Z,{label:"DAA",name:"addressDAA",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("addressDAA")}})}}),a]})]}),(0,x.jsxs)(c.Z,{title:"IDL Address",style:{width:"550px"},children:[(0,x.jsxs)("div",{className:"mb-[12px]",style:{overflowWrap:"anywhere"},children:[(0,x.jsx)("div",{children:'pda=sha256(Nonce+ProgramID+"ProgramDerivedAddress")'}),(0,x.jsx)("div",{children:'sha256(pda+"anchor:idl"+ProgramID)'})]}),(0,x.jsxs)(p.A,{formRef:I,onFinish:L,layout:"vertical",submitter:{render:function(e,r){return[r[1],r[0]]}},children:[(0,x.jsx)(f.Z,{label:"Program ID",name:"programIdIDL",placeholder:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",rules:[{required:!0,whitespace:!0,message:w,validator:S}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,x.jsx)(f.Z,{label:"isOnCurve",name:"isOnCurveIDL",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large"}}),(0,x.jsx)(f.Z,{label:"IDL Address",name:"addressIDL",placeholder:"",fieldProps:{autoFocus:!1,readOnly:!0,allowClear:!1,size:"large",addonAfter:(0,x.jsx)(d.Z,{className:"cursor-pointer",onClick:function(){return K("addressIDL")}})}}),a]})]})]})})}}}]);